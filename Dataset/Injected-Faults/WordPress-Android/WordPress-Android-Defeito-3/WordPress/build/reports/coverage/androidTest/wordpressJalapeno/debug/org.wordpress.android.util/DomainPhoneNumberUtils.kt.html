<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DomainPhoneNumberUtils.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordpressJalapenoDebug</a> &gt; <a href="index.source.html" class="el_package">org.wordpress.android.util</a> &gt; <span class="el_source">DomainPhoneNumberUtils.kt</span></div><h1>DomainPhoneNumberUtils.kt</h1><pre class="source lang-java linenums">package org.wordpress.android.util

import android.text.TextUtils

<span class="nc" id="L5">class DomainPhoneNumberUtils {</span>
    companion object {
        private const val PHONE_NUMBER_PREFIX = &quot;+&quot;
        private const val PHONE_NUMBER_CONNECTING_CHARACTER = &quot;.&quot;

<span class="nc" id="L10">        private val countryCodeToPhoneNumberPrefixMap = mapOf(</span>
<span class="nc" id="L11">                &quot;AC&quot; to 247,</span>
<span class="nc" id="L12">                &quot;AD&quot; to 376,</span>
<span class="nc" id="L13">                &quot;AE&quot; to 971,</span>
<span class="nc" id="L14">                &quot;AF&quot; to 93,</span>
<span class="nc" id="L15">                &quot;AG&quot; to 1268,</span>
<span class="nc" id="L16">                &quot;AI&quot; to 1264,</span>
<span class="nc" id="L17">                &quot;AL&quot; to 355,</span>
<span class="nc" id="L18">                &quot;AM&quot; to 374,</span>
<span class="nc" id="L19">                &quot;AO&quot; to 244,</span>
<span class="nc" id="L20">                &quot;AR&quot; to 54,</span>
<span class="nc" id="L21">                &quot;AS&quot; to 1684,</span>
<span class="nc" id="L22">                &quot;AT&quot; to 43,</span>
<span class="nc" id="L23">                &quot;AU&quot; to 61,</span>
<span class="nc" id="L24">                &quot;AW&quot; to 297,</span>
<span class="nc" id="L25">                &quot;AX&quot; to 358,</span>
<span class="nc" id="L26">                &quot;AZ&quot; to 994,</span>
<span class="nc" id="L27">                &quot;BA&quot; to 387,</span>
<span class="nc" id="L28">                &quot;BB&quot; to 1246,</span>
<span class="nc" id="L29">                &quot;BD&quot; to 880,</span>
<span class="nc" id="L30">                &quot;BE&quot; to 32,</span>
<span class="nc" id="L31">                &quot;BF&quot; to 226,</span>
<span class="nc" id="L32">                &quot;BG&quot; to 359,</span>
<span class="nc" id="L33">                &quot;BH&quot; to 973,</span>
<span class="nc" id="L34">                &quot;BI&quot; to 257,</span>
<span class="nc" id="L35">                &quot;BJ&quot; to 229,</span>
<span class="nc" id="L36">                &quot;BL&quot; to 590,</span>
<span class="nc" id="L37">                &quot;BM&quot; to 1441,</span>
<span class="nc" id="L38">                &quot;BN&quot; to 673,</span>
<span class="nc" id="L39">                &quot;BO&quot; to 591,</span>
<span class="nc" id="L40">                &quot;BQ&quot; to 599,</span>
<span class="nc" id="L41">                &quot;BR&quot; to 55,</span>
<span class="nc" id="L42">                &quot;BS&quot; to 1242,</span>
<span class="nc" id="L43">                &quot;BT&quot; to 975,</span>
<span class="nc" id="L44">                &quot;BV&quot; to 47,</span>
<span class="nc" id="L45">                &quot;BW&quot; to 267,</span>
<span class="nc" id="L46">                &quot;BY&quot; to 375,</span>
<span class="nc" id="L47">                &quot;BZ&quot; to 501,</span>
<span class="nc" id="L48">                &quot;CA&quot; to 1,</span>
<span class="nc" id="L49">                &quot;CC&quot; to 61,</span>
<span class="nc" id="L50">                &quot;CD&quot; to 243,</span>
<span class="nc" id="L51">                &quot;CF&quot; to 236,</span>
<span class="nc" id="L52">                &quot;CG&quot; to 242,</span>
<span class="nc" id="L53">                &quot;CH&quot; to 41,</span>
<span class="nc" id="L54">                &quot;CI&quot; to 225,</span>
<span class="nc" id="L55">                &quot;CK&quot; to 682,</span>
<span class="nc" id="L56">                &quot;CL&quot; to 56,</span>
<span class="nc" id="L57">                &quot;CM&quot; to 237,</span>
<span class="nc" id="L58">                &quot;CN&quot; to 86,</span>
<span class="nc" id="L59">                &quot;CO&quot; to 57,</span>
<span class="nc" id="L60">                &quot;CR&quot; to 506,</span>
<span class="nc" id="L61">                &quot;CU&quot; to 53,</span>
<span class="nc" id="L62">                &quot;CV&quot; to 238,</span>
<span class="nc" id="L63">                &quot;CW&quot; to 599,</span>
<span class="nc" id="L64">                &quot;CX&quot; to 61,</span>
<span class="nc" id="L65">                &quot;CY&quot; to 357,</span>
<span class="nc" id="L66">                &quot;CZ&quot; to 420,</span>
<span class="nc" id="L67">                &quot;DE&quot; to 49,</span>
<span class="nc" id="L68">                &quot;DJ&quot; to 253,</span>
<span class="nc" id="L69">                &quot;DK&quot; to 45,</span>
<span class="nc" id="L70">                &quot;DM&quot; to 1767,</span>
<span class="nc" id="L71">                &quot;DZ&quot; to 213,</span>
<span class="nc" id="L72">                &quot;EC&quot; to 593,</span>
<span class="nc" id="L73">                &quot;EE&quot; to 372,</span>
<span class="nc" id="L74">                &quot;EG&quot; to 20,</span>
<span class="nc" id="L75">                &quot;ER&quot; to 291,</span>
<span class="nc" id="L76">                &quot;ES&quot; to 34,</span>
<span class="nc" id="L77">                &quot;ET&quot; to 251,</span>
<span class="nc" id="L78">                &quot;FI&quot; to 358,</span>
<span class="nc" id="L79">                &quot;FJ&quot; to 679,</span>
<span class="nc" id="L80">                &quot;FK&quot; to 500,</span>
<span class="nc" id="L81">                &quot;FM&quot; to 691,</span>
<span class="nc" id="L82">                &quot;FO&quot; to 298,</span>
<span class="nc" id="L83">                &quot;FR&quot; to 33,</span>
<span class="nc" id="L84">                &quot;GA&quot; to 241,</span>
<span class="nc" id="L85">                &quot;GB&quot; to 44,</span>
<span class="nc" id="L86">                &quot;GD&quot; to 1473,</span>
<span class="nc" id="L87">                &quot;GE&quot; to 995,</span>
<span class="nc" id="L88">                &quot;GF&quot; to 594,</span>
<span class="nc" id="L89">                &quot;GG&quot; to 44,</span>
<span class="nc" id="L90">                &quot;GH&quot; to 233,</span>
<span class="nc" id="L91">                &quot;GI&quot; to 350,</span>
<span class="nc" id="L92">                &quot;GL&quot; to 299,</span>
<span class="nc" id="L93">                &quot;GM&quot; to 220,</span>
<span class="nc" id="L94">                &quot;GN&quot; to 224,</span>
<span class="nc" id="L95">                &quot;GP&quot; to 590,</span>
<span class="nc" id="L96">                &quot;GQ&quot; to 240,</span>
<span class="nc" id="L97">                &quot;GR&quot; to 30,</span>
<span class="nc" id="L98">                &quot;GS&quot; to 500,</span>
<span class="nc" id="L99">                &quot;GT&quot; to 502,</span>
<span class="nc" id="L100">                &quot;GU&quot; to 1671,</span>
<span class="nc" id="L101">                &quot;GW&quot; to 245,</span>
<span class="nc" id="L102">                &quot;GY&quot; to 592,</span>
<span class="nc" id="L103">                &quot;HK&quot; to 852,</span>
<span class="nc" id="L104">                &quot;HM&quot; to 61,</span>
<span class="nc" id="L105">                &quot;HN&quot; to 504,</span>
<span class="nc" id="L106">                &quot;HR&quot; to 385,</span>
<span class="nc" id="L107">                &quot;HT&quot; to 509,</span>
<span class="nc" id="L108">                &quot;HU&quot; to 36,</span>
<span class="nc" id="L109">                &quot;ID&quot; to 62,</span>
<span class="nc" id="L110">                &quot;IE&quot; to 353,</span>
<span class="nc" id="L111">                &quot;IL&quot; to 972,</span>
<span class="nc" id="L112">                &quot;IM&quot; to 44,</span>
<span class="nc" id="L113">                &quot;IN&quot; to 91,</span>
<span class="nc" id="L114">                &quot;IO&quot; to 246,</span>
<span class="nc" id="L115">                &quot;IQ&quot; to 964,</span>
<span class="nc" id="L116">                &quot;IR&quot; to 98,</span>
<span class="nc" id="L117">                &quot;IS&quot; to 354,</span>
<span class="nc" id="L118">                &quot;IT&quot; to 39,</span>
<span class="nc" id="L119">                &quot;JE&quot; to 44,</span>
<span class="nc" id="L120">                &quot;JM&quot; to 1876,</span>
<span class="nc" id="L121">                &quot;JO&quot; to 962,</span>
<span class="nc" id="L122">                &quot;JP&quot; to 81,</span>
<span class="nc" id="L123">                &quot;KE&quot; to 254,</span>
<span class="nc" id="L124">                &quot;KG&quot; to 996,</span>
<span class="nc" id="L125">                &quot;KH&quot; to 855,</span>
<span class="nc" id="L126">                &quot;KI&quot; to 686,</span>
<span class="nc" id="L127">                &quot;KM&quot; to 269,</span>
<span class="nc" id="L128">                &quot;KN&quot; to 1869,</span>
<span class="nc" id="L129">                &quot;KP&quot; to 850,</span>
<span class="nc" id="L130">                &quot;KR&quot; to 82,</span>
<span class="nc" id="L131">                &quot;KV&quot; to 383,</span>
<span class="nc" id="L132">                &quot;KW&quot; to 965,</span>
<span class="nc" id="L133">                &quot;KY&quot; to 1345,</span>
<span class="nc" id="L134">                &quot;KZ&quot; to 7,</span>
<span class="nc" id="L135">                &quot;LA&quot; to 856,</span>
<span class="nc" id="L136">                &quot;LB&quot; to 961,</span>
<span class="nc" id="L137">                &quot;LC&quot; to 1758,</span>
<span class="nc" id="L138">                &quot;LI&quot; to 423,</span>
<span class="nc" id="L139">                &quot;LK&quot; to 94,</span>
<span class="nc" id="L140">                &quot;LR&quot; to 231,</span>
<span class="nc" id="L141">                &quot;LS&quot; to 266,</span>
<span class="nc" id="L142">                &quot;LT&quot; to 370,</span>
<span class="nc" id="L143">                &quot;LU&quot; to 352,</span>
<span class="nc" id="L144">                &quot;LV&quot; to 371,</span>
<span class="nc" id="L145">                &quot;LY&quot; to 218,</span>
<span class="nc" id="L146">                &quot;MA&quot; to 212,</span>
<span class="nc" id="L147">                &quot;MC&quot; to 377,</span>
<span class="nc" id="L148">                &quot;MD&quot; to 373,</span>
<span class="nc" id="L149">                &quot;ME&quot; to 382,</span>
<span class="nc" id="L150">                &quot;MF&quot; to 590,</span>
<span class="nc" id="L151">                &quot;MG&quot; to 261,</span>
<span class="nc" id="L152">                &quot;MH&quot; to 692,</span>
<span class="nc" id="L153">                &quot;MK&quot; to 389,</span>
<span class="nc" id="L154">                &quot;ML&quot; to 223,</span>
<span class="nc" id="L155">                &quot;MM&quot; to 95,</span>
<span class="nc" id="L156">                &quot;MN&quot; to 976,</span>
<span class="nc" id="L157">                &quot;MO&quot; to 853,</span>
<span class="nc" id="L158">                &quot;MP&quot; to 1670,</span>
<span class="nc" id="L159">                &quot;MQ&quot; to 596,</span>
<span class="nc" id="L160">                &quot;MR&quot; to 222,</span>
<span class="nc" id="L161">                &quot;MS&quot; to 1664,</span>
<span class="nc" id="L162">                &quot;MT&quot; to 356,</span>
<span class="nc" id="L163">                &quot;MU&quot; to 230,</span>
<span class="nc" id="L164">                &quot;MV&quot; to 960,</span>
<span class="nc" id="L165">                &quot;MW&quot; to 265,</span>
<span class="nc" id="L166">                &quot;MX&quot; to 52,</span>
<span class="nc" id="L167">                &quot;MY&quot; to 60,</span>
<span class="nc" id="L168">                &quot;MZ&quot; to 258,</span>
<span class="nc" id="L169">                &quot;NA&quot; to 264,</span>
<span class="nc" id="L170">                &quot;NC&quot; to 687,</span>
<span class="nc" id="L171">                &quot;NE&quot; to 227,</span>
<span class="nc" id="L172">                &quot;NF&quot; to 672,</span>
<span class="nc" id="L173">                &quot;NG&quot; to 234,</span>
<span class="nc" id="L174">                &quot;NI&quot; to 505,</span>
<span class="nc" id="L175">                &quot;NL&quot; to 31,</span>
<span class="nc" id="L176">                &quot;NO&quot; to 47,</span>
<span class="nc" id="L177">                &quot;NP&quot; to 977,</span>
<span class="nc" id="L178">                &quot;NR&quot; to 674,</span>
<span class="nc" id="L179">                &quot;NU&quot; to 683,</span>
<span class="nc" id="L180">                &quot;NZ&quot; to 64,</span>
<span class="nc" id="L181">                &quot;OM&quot; to 968,</span>
<span class="nc" id="L182">                &quot;PA&quot; to 507,</span>
<span class="nc" id="L183">                &quot;PE&quot; to 51,</span>
<span class="nc" id="L184">                &quot;PF&quot; to 689,</span>
<span class="nc" id="L185">                &quot;PG&quot; to 675,</span>
<span class="nc" id="L186">                &quot;PH&quot; to 63,</span>
<span class="nc" id="L187">                &quot;PK&quot; to 92,</span>
<span class="nc" id="L188">                &quot;PL&quot; to 48,</span>
<span class="nc" id="L189">                &quot;PM&quot; to 508,</span>
<span class="nc" id="L190">                &quot;PN&quot; to 64,</span>
<span class="nc" id="L191">                &quot;PS&quot; to 970,</span>
<span class="nc" id="L192">                &quot;PT&quot; to 351,</span>
<span class="nc" id="L193">                &quot;PW&quot; to 680,</span>
<span class="nc" id="L194">                &quot;PY&quot; to 595,</span>
<span class="nc" id="L195">                &quot;QA&quot; to 974,</span>
<span class="nc" id="L196">                &quot;RO&quot; to 40,</span>
<span class="nc" id="L197">                &quot;RS&quot; to 381,</span>
<span class="nc" id="L198">                &quot;RU&quot; to 7,</span>
<span class="nc" id="L199">                &quot;RW&quot; to 250,</span>
<span class="nc" id="L200">                &quot;SA&quot; to 966,</span>
<span class="nc" id="L201">                &quot;SB&quot; to 677,</span>
<span class="nc" id="L202">                &quot;SC&quot; to 248,</span>
<span class="nc" id="L203">                &quot;SD&quot; to 249,</span>
<span class="nc" id="L204">                &quot;SE&quot; to 46,</span>
<span class="nc" id="L205">                &quot;SG&quot; to 65,</span>
<span class="nc" id="L206">                &quot;SH&quot; to 290,</span>
<span class="nc" id="L207">                &quot;SI&quot; to 386,</span>
<span class="nc" id="L208">                &quot;SJ&quot; to 47,</span>
<span class="nc" id="L209">                &quot;SK&quot; to 421,</span>
<span class="nc" id="L210">                &quot;SL&quot; to 232,</span>
<span class="nc" id="L211">                &quot;SM&quot; to 378,</span>
<span class="nc" id="L212">                &quot;SN&quot; to 221,</span>
<span class="nc" id="L213">                &quot;SO&quot; to 252,</span>
<span class="nc" id="L214">                &quot;SR&quot; to 597,</span>
<span class="nc" id="L215">                &quot;SS&quot; to 211,</span>
<span class="nc" id="L216">                &quot;ST&quot; to 239,</span>
<span class="nc" id="L217">                &quot;SV&quot; to 503,</span>
<span class="nc" id="L218">                &quot;SX&quot; to 1721,</span>
<span class="nc" id="L219">                &quot;SY&quot; to 963,</span>
<span class="nc" id="L220">                &quot;SZ&quot; to 268,</span>
<span class="nc" id="L221">                &quot;TA&quot; to 290,</span>
<span class="nc" id="L222">                &quot;TC&quot; to 1649,</span>
<span class="nc" id="L223">                &quot;TD&quot; to 235,</span>
<span class="nc" id="L224">                &quot;TF&quot; to 262,</span>
<span class="nc" id="L225">                &quot;TG&quot; to 228,</span>
<span class="nc" id="L226">                &quot;TH&quot; to 66,</span>
<span class="nc" id="L227">                &quot;TJ&quot; to 992,</span>
<span class="nc" id="L228">                &quot;TK&quot; to 690,</span>
<span class="nc" id="L229">                &quot;TL&quot; to 670,</span>
<span class="nc" id="L230">                &quot;TM&quot; to 993,</span>
<span class="nc" id="L231">                &quot;TN&quot; to 216,</span>
<span class="nc" id="L232">                &quot;TO&quot; to 676,</span>
<span class="nc" id="L233">                &quot;TR&quot; to 90,</span>
<span class="nc" id="L234">                &quot;TT&quot; to 1868,</span>
<span class="nc" id="L235">                &quot;TV&quot; to 688,</span>
<span class="nc" id="L236">                &quot;TW&quot; to 886,</span>
<span class="nc" id="L237">                &quot;TZ&quot; to 255,</span>
<span class="nc" id="L238">                &quot;UA&quot; to 380,</span>
<span class="nc" id="L239">                &quot;UG&quot; to 256,</span>
<span class="nc" id="L240">                &quot;UM&quot; to 1,</span>
<span class="nc" id="L241">                &quot;US&quot; to 1,</span>
<span class="nc" id="L242">                &quot;UY&quot; to 598,</span>
<span class="nc" id="L243">                &quot;UZ&quot; to 998,</span>
<span class="nc" id="L244">                &quot;VA&quot; to 39,</span>
<span class="nc" id="L245">                &quot;VC&quot; to 1784,</span>
<span class="nc" id="L246">                &quot;VE&quot; to 58,</span>
<span class="nc" id="L247">                &quot;VG&quot; to 1284,</span>
<span class="nc" id="L248">                &quot;VI&quot; to 1340,</span>
<span class="nc" id="L249">                &quot;VN&quot; to 84,</span>
<span class="nc" id="L250">                &quot;VU&quot; to 678,</span>
<span class="nc" id="L251">                &quot;WF&quot; to 681,</span>
<span class="nc" id="L252">                &quot;WS&quot; to 685,</span>
<span class="nc" id="L253">                &quot;YE&quot; to 967,</span>
<span class="nc" id="L254">                &quot;ZA&quot; to 27,</span>
<span class="nc" id="L255">                &quot;ZM&quot; to 260,</span>
<span class="nc" id="L256">                &quot;ZW&quot; to 263</span>
        )

        fun getPhoneNumberPrefix(countryCode: String): String? {
<span class="nc bnc" id="L260" title="All 2 branches missed.">            if (countryCodeToPhoneNumberPrefixMap.containsKey(countryCode)) {</span>
<span class="nc" id="L261">                return countryCodeToPhoneNumberPrefixMap[countryCode].toString()</span>
            }
<span class="nc" id="L263">            return null</span>
        }

        fun getPhoneNumberPrefixFromFullPhoneNumber(phoneNumber: String?): String? {
<span class="nc bnc" id="L267" title="All 2 branches missed.">            if (TextUtils.isEmpty(phoneNumber)) {</span>
<span class="nc" id="L268">                return null</span>
            }
<span class="nc" id="L270">            val phoneParts = phoneNumber!!.split(PHONE_NUMBER_CONNECTING_CHARACTER)</span>
<span class="nc bnc" id="L271" title="All 2 branches missed.">            if (phoneParts.size == 2) {</span>
<span class="nc" id="L272">                var countryCode = phoneParts[0]</span>
<span class="nc bnc" id="L273" title="All 2 branches missed.">                if (countryCode.startsWith(PHONE_NUMBER_PREFIX)) {</span>
<span class="nc" id="L274">                    countryCode = countryCode.drop(1)</span>
                }

<span class="nc" id="L277">                return countryCode</span>
            }
<span class="nc" id="L279">            return null</span>
        }

        fun getPhoneNumberWithoutPrefix(phoneNumber: String?): String? {
<span class="nc bnc" id="L283" title="All 2 branches missed.">            if (TextUtils.isEmpty(phoneNumber)) {</span>
<span class="nc" id="L284">                return null</span>
            }
<span class="nc" id="L286">            val phoneParts = phoneNumber!!.split(PHONE_NUMBER_CONNECTING_CHARACTER)</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">            if (phoneParts.size == 2) {</span>
<span class="nc" id="L288">                val phoneNumberWithoutPrefix = phoneParts[1]</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">                if (!TextUtils.isEmpty(phoneNumberWithoutPrefix)) {</span>
<span class="nc" id="L290">                    return phoneNumberWithoutPrefix</span>
                }
            }
<span class="nc" id="L293">            return null</span>
        }

        fun formatPhoneNumberandPrefix(phoneNumberPrefix: String?, phoneNumber: String?): String? {
<span class="nc bnc" id="L297" title="All 4 branches missed.">            if (TextUtils.isEmpty(phoneNumberPrefix) &amp;&amp; TextUtils.isEmpty(phoneNumber)) {</span>
<span class="nc" id="L298">                return null</span>
            }

<span class="nc" id="L301">            return PHONE_NUMBER_PREFIX + StringUtils.notNullStr(phoneNumberPrefix) +</span>
<span class="nc" id="L302">                    PHONE_NUMBER_CONNECTING_CHARACTER + StringUtils.notNullStr(phoneNumber)</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>Generated by the Android Gradle plugin 7.1.1</div></body></html>