<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PlansListAdapter.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordpressJalapenoDebug</a> &gt; <a href="index.source.html" class="el_package">org.wordpress.android.ui.plans</a> &gt; <span class="el_source">PlansListAdapter.kt</span></div><h1>PlansListAdapter.kt</h1><pre class="source lang-java linenums">package org.wordpress.android.ui.plans

import android.app.Activity
import android.text.TextUtils
import android.view.LayoutInflater
import android.view.ViewGroup
import android.view.accessibility.AccessibilityNodeInfo
import android.widget.ImageView
import android.widget.TextView
import androidx.recyclerview.widget.RecyclerView
import androidx.recyclerview.widget.RecyclerView.Adapter
import org.wordpress.android.R
import org.wordpress.android.WordPress
import org.wordpress.android.fluxc.model.plans.PlanOffersModel
import org.wordpress.android.ui.plans.PlansListAdapter.PlansItemViewHolder
import org.wordpress.android.util.StringUtils
import org.wordpress.android.util.image.ImageManager
import org.wordpress.android.util.image.ImageType
import javax.inject.Inject

<span class="nc" id="L21">class PlansListAdapter(</span>
<span class="nc" id="L22">    val activity: Activity,</span>
<span class="nc" id="L23">    private val itemClickListener: (PlanOffersModel) -&gt; Unit</span>
<span class="nc" id="L24">) : Adapter&lt;PlansItemViewHolder&gt;() {</span>
<span class="nc" id="L25">    private val list = mutableListOf&lt;PlanOffersModel&gt;()</span>
<span class="nc bnc" id="L26" title="All 2 branches missed.">    @Inject lateinit var imageManager: ImageManager</span>

<span class="nc" id="L28">    init {</span>
<span class="nc bnc" id="L29" title="All 2 branches missed.">        (activity.applicationContext as WordPress).component().inject(this)</span>
<span class="nc" id="L30">    }</span>

    override fun getItemCount(): Int {
<span class="nc" id="L33">        return list.size</span>
    }

    override fun onBindViewHolder(holder: PlansItemViewHolder, position: Int, payloads: List&lt;Any&gt;) {
<span class="nc" id="L37">        onBindViewHolder(holder, position)</span>
<span class="nc" id="L38">    }</span>

    override fun onBindViewHolder(holder: PlansItemViewHolder, position: Int) {
<span class="nc" id="L41">        holder.bind(list[position])</span>
<span class="nc" id="L42">    }</span>

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PlansItemViewHolder {
<span class="nc" id="L45">        return PlansItemViewHolder(parent, itemClickListener, imageManager)</span>
    }

    internal fun updateList(items: List&lt;PlanOffersModel&gt;) {
<span class="nc" id="L49">        list.clear()</span>
<span class="nc" id="L50">        list.addAll(items)</span>
<span class="nc" id="L51">        notifyDataSetChanged()</span>
<span class="nc" id="L52">    }</span>

<span class="nc" id="L54">    class PlansItemViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L56">        private val itemClickListener: (PlanOffersModel) -&gt; Unit,</span>
<span class="nc" id="L57">        val imageManager: ImageManager</span>
<span class="nc" id="L58">    ) : RecyclerView.ViewHolder(</span>
<span class="nc" id="L59">            LayoutInflater.from(parent.context).inflate(R.layout.plans_list_item, parent, false)</span>
    ) {
<span class="nc" id="L61">        private val planImage: ImageView = itemView.findViewById(R.id.plan_image)</span>
<span class="nc" id="L62">        private val title: TextView = itemView.findViewById(R.id.plan_title)</span>
<span class="nc" id="L63">        private val subtitle: TextView = itemView.findViewById(R.id.plan_subtitle)</span>

        fun bind(planOffersModel: PlanOffersModel) {
<span class="nc" id="L66">            itemView.setOnClickListener {</span>
<span class="nc" id="L67">                itemView.performAccessibilityAction(</span>
<span class="nc" id="L68">                        AccessibilityNodeInfo.ACTION_CLEAR_ACCESSIBILITY_FOCUS, null</span>
                )
<span class="nc" id="L70">                itemClickListener(planOffersModel)</span>
<span class="nc" id="L71">            }</span>
<span class="nc" id="L72">            title.text = planOffersModel.name</span>
<span class="nc" id="L73">            subtitle.text = planOffersModel.tagline</span>

<span class="nc bnc" id="L75" title="All 2 branches missed.">            if (!TextUtils.isEmpty(planOffersModel.iconUrl)) {</span>
<span class="nc" id="L76">                imageManager.loadIntoCircle(</span>
<span class="nc" id="L77">                        planImage, ImageType.PLAN,</span>
<span class="nc" id="L78">                        StringUtils.notNullStr(planOffersModel.iconUrl)</span>
                )
            }
<span class="nc" id="L81">        }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>Generated by the Android Gradle plugin 7.1.1</div></body></html>