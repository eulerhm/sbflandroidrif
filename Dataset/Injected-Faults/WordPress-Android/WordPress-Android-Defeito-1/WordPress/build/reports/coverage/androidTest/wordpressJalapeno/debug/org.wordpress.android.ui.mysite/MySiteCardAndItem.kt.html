<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MySiteCardAndItem.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordpressJalapenoDebug</a> &gt; <a href="index.source.html" class="el_package">org.wordpress.android.ui.mysite</a> &gt; <span class="el_source">MySiteCardAndItem.kt</span></div><h1>MySiteCardAndItem.kt</h1><pre class="source lang-java linenums">package org.wordpress.android.ui.mysite

import androidx.annotation.ColorRes
import androidx.annotation.DrawableRes
import androidx.annotation.StringRes
import org.wordpress.android.fluxc.model.DynamicCardType
import org.wordpress.android.fluxc.store.QuickStartStore.QuickStartTask
import org.wordpress.android.fluxc.store.QuickStartStore.QuickStartTaskType
import org.wordpress.android.ui.avatars.TrainOfAvatarsItem
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.CATEGORY_HEADER_ITEM
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.DASHBOARD_CARDS
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.DOMAIN_REGISTRATION_CARD
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.INFO_ITEM
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.LIST_ITEM
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.QUICK_ACTIONS_CARD
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.QUICK_LINK_RIBBON
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.QUICK_START_CARD
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.QUICK_START_DYNAMIC_CARD
import org.wordpress.android.ui.mysite.MySiteCardAndItem.Type.SITE_INFO_CARD
import org.wordpress.android.ui.mysite.cards.dashboard.bloggingprompts.BloggingPromptAttribution
import org.wordpress.android.ui.mysite.cards.dashboard.posts.PostCardType
import org.wordpress.android.ui.utils.ListItemInteraction
import org.wordpress.android.ui.utils.UiString

typealias PromptID = Int

<span class="nc" id="L27">sealed class MySiteCardAndItem(open val type: Type, open val activeQuickStartItem: Boolean = false) {</span>
    enum class Type {
<span class="nc" id="L29">        SITE_INFO_CARD,</span>
<span class="nc" id="L30">        QUICK_ACTIONS_CARD,</span>
<span class="nc" id="L31">        QUICK_LINK_RIBBON,</span>
<span class="nc" id="L32">        DOMAIN_REGISTRATION_CARD,</span>
<span class="nc" id="L33">        QUICK_START_CARD,</span>
<span class="nc" id="L34">        QUICK_START_DYNAMIC_CARD,</span>
<span class="nc" id="L35">        INFO_ITEM,</span>
<span class="nc" id="L36">        CATEGORY_HEADER_ITEM,</span>
<span class="nc" id="L37">        LIST_ITEM,</span>
<span class="nc" id="L38">        DASHBOARD_CARDS</span>
    }

    enum class DashboardCardType {
<span class="nc" id="L42">        ERROR_CARD,</span>
<span class="nc" id="L43">        QUICK_START_CARD,</span>
<span class="nc" id="L44">        TODAYS_STATS_CARD_ERROR,</span>
<span class="nc" id="L45">        TODAYS_STATS_CARD,</span>
<span class="nc" id="L46">        POST_CARD_ERROR,</span>
<span class="nc" id="L47">        POST_CARD_WITHOUT_POST_ITEMS,</span>
<span class="nc" id="L48">        POST_CARD_WITH_POST_ITEMS,</span>
<span class="nc" id="L49">        BLOGGING_PROMPT_CARD</span>
    }

<span class="nc" id="L52">    data class SiteInfoHeaderCard(</span>
<span class="nc" id="L53">        val title: String,</span>
<span class="nc" id="L54">        val url: String,</span>
<span class="nc" id="L55">        val iconState: IconState,</span>
<span class="nc" id="L56">        val showTitleFocusPoint: Boolean,</span>
<span class="nc" id="L57">        val showSubtitleFocusPoint: Boolean,</span>
<span class="nc" id="L58">        val showIconFocusPoint: Boolean,</span>
<span class="nc" id="L59">        val onTitleClick: ListItemInteraction? = null,</span>
<span class="nc" id="L60">        val onIconClick: ListItemInteraction,</span>
<span class="nc" id="L61">        val onUrlClick: ListItemInteraction,</span>
<span class="nc" id="L62">        val onSwitchSiteClick: ListItemInteraction</span>
<span class="nc" id="L63">    ) : MySiteCardAndItem(</span>
<span class="nc" id="L64">            SITE_INFO_CARD,</span>
<span class="nc bnc" id="L65" title="All 6 branches missed.">            activeQuickStartItem = showTitleFocusPoint || showIconFocusPoint || showSubtitleFocusPoint</span>
    ) {
        sealed class IconState {
<span class="nc" id="L68">            object Progress : IconState()</span>
<span class="nc" id="L69">            data class Visible(val url: String? = null) : IconState()</span>
        }
<span class="nc" id="L71">    }</span>

<span class="nc" id="L73">    sealed class Card(</span>
<span class="nc" id="L74">        override val type: Type,</span>
<span class="nc" id="L75">        override val activeQuickStartItem: Boolean = false</span>
<span class="nc" id="L76">    ) : MySiteCardAndItem(type, activeQuickStartItem) {</span>
<span class="nc" id="L77">        data class QuickActionsCard(</span>
<span class="nc" id="L78">            val title: UiString,</span>
<span class="nc" id="L79">            val onStatsClick: ListItemInteraction,</span>
<span class="nc" id="L80">            val onPagesClick: ListItemInteraction,</span>
<span class="nc" id="L81">            val onPostsClick: ListItemInteraction,</span>
<span class="nc" id="L82">            val onMediaClick: ListItemInteraction,</span>
<span class="nc" id="L83">            val showPages: Boolean = true</span>
<span class="nc" id="L84">        ) : Card(QUICK_ACTIONS_CARD)</span>

<span class="nc" id="L86">        data class QuickLinkRibbon(</span>
<span class="nc" id="L87">            val quickLinkRibbonItems: List&lt;QuickLinkRibbonItem&gt;,</span>
<span class="nc" id="L88">            val showPagesFocusPoint: Boolean = false,</span>
<span class="nc" id="L89">            val showStatsFocusPoint: Boolean = false,</span>
<span class="nc" id="L90">            val showMediaFocusPoint: Boolean = false</span>
<span class="nc" id="L91">        ) : Card(</span>
<span class="nc" id="L92">                QUICK_LINK_RIBBON,</span>
<span class="nc bnc" id="L93" title="All 6 branches missed.">                activeQuickStartItem = showPagesFocusPoint || showStatsFocusPoint || showMediaFocusPoint</span>
        ) {
<span class="nc" id="L95">            data class QuickLinkRibbonItem(</span>
<span class="nc" id="L96">                @StringRes val label: Int,</span>
<span class="nc" id="L97">                @DrawableRes val icon: Int,</span>
<span class="nc" id="L98">                val onClick: ListItemInteraction,</span>
<span class="nc" id="L99">                val showFocusPoint: Boolean = false</span>
<span class="nc" id="L100">            )</span>
<span class="nc" id="L101">        }</span>

<span class="nc" id="L103">        data class DomainRegistrationCard(val onClick: ListItemInteraction) : Card(DOMAIN_REGISTRATION_CARD)</span>

<span class="nc" id="L105">        data class QuickStartCard(</span>
<span class="nc" id="L106">            val title: UiString,</span>
<span class="nc" id="L107">            val toolbarVisible: Boolean = true,</span>
<span class="nc" id="L108">            val moreMenuVisible: Boolean = true,</span>
<span class="nc" id="L109">            val onRemoveMenuItemClick: ListItemInteraction,</span>
<span class="nc" id="L110">            val taskTypeItems: List&lt;QuickStartTaskTypeItem&gt;</span>
<span class="nc" id="L111">        ) : Card(QUICK_START_CARD) {</span>
<span class="nc" id="L112">            data class QuickStartTaskTypeItem(</span>
<span class="nc" id="L113">                val quickStartTaskType: QuickStartTaskType,</span>
<span class="nc" id="L114">                val title: UiString,</span>
<span class="nc" id="L115">                val titleEnabled: Boolean,</span>
<span class="nc" id="L116">                val subtitle: UiString,</span>
<span class="nc" id="L117">                val strikeThroughTitle: Boolean,</span>
<span class="nc" id="L118">                @ColorRes val progressColor: Int,</span>
<span class="nc" id="L119">                val progress: Int,</span>
<span class="nc" id="L120">                val onClick: ListItemInteraction</span>
            )
<span class="nc" id="L122">        }</span>

<span class="nc" id="L124">        data class DashboardCards(</span>
<span class="nc" id="L125">            val cards: List&lt;DashboardCard&gt;</span>
<span class="nc" id="L126">        ) : MySiteCardAndItem(DASHBOARD_CARDS) {</span>
<span class="nc" id="L127">            sealed class DashboardCard(</span>
<span class="nc" id="L128">                open val dashboardCardType: DashboardCardType</span>
            ) {
<span class="nc" id="L130">                data class ErrorCard(</span>
<span class="nc" id="L131">                    val onRetryClick: ListItemInteraction</span>
<span class="nc" id="L132">                ) : DashboardCard(dashboardCardType = DashboardCardType.ERROR_CARD)</span>

                interface ErrorWithinCard {
                    val title: UiString
                }

<span class="nc" id="L138">                sealed class TodaysStatsCard(</span>
<span class="nc" id="L139">                    override val dashboardCardType: DashboardCardType</span>
<span class="nc" id="L140">                ) : DashboardCard(dashboardCardType) {</span>
<span class="nc" id="L141">                    data class Error(</span>
<span class="nc" id="L142">                        override val title: UiString</span>
<span class="nc" id="L143">                    ) : TodaysStatsCard(dashboardCardType = DashboardCardType.TODAYS_STATS_CARD_ERROR), ErrorWithinCard</span>

<span class="nc" id="L145">                    data class TodaysStatsCardWithData(</span>
<span class="nc" id="L146">                        val views: UiString,</span>
<span class="nc" id="L147">                        val visitors: UiString,</span>
<span class="nc" id="L148">                        val likes: UiString,</span>
<span class="nc" id="L149">                        val onCardClick: () -&gt; Unit,</span>
<span class="nc" id="L150">                        val message: TextWithLinks? = null,</span>
<span class="nc" id="L151">                        val footerLink: FooterLink</span>
<span class="nc" id="L152">                    ) : TodaysStatsCard(dashboardCardType = DashboardCardType.TODAYS_STATS_CARD)</span>

<span class="nc" id="L154">                    data class FooterLink(</span>
<span class="nc" id="L155">                        val label: UiString,</span>
<span class="nc" id="L156">                        val onClick: () -&gt; Unit</span>
                    )

<span class="nc" id="L159">                    data class TextWithLinks(</span>
<span class="nc" id="L160">                        val text: UiString,</span>
<span class="nc" id="L161">                        val links: List&lt;Clickable&gt;? = null</span>
                    ) {
<span class="nc" id="L163">                        data class Clickable(val navigationAction: ListItemInteraction)</span>
<span class="nc" id="L164">                    }</span>
                }

<span class="nc" id="L167">                sealed class PostCard(</span>
<span class="nc" id="L168">                    override val dashboardCardType: DashboardCardType,</span>
<span class="nc" id="L169">                    open val footerLink: FooterLink? = null</span>
<span class="nc" id="L170">                ) : DashboardCard(dashboardCardType) {</span>
<span class="nc" id="L171">                    data class Error(</span>
<span class="nc" id="L172">                        override val title: UiString</span>
<span class="nc" id="L173">                    ) : PostCard(dashboardCardType = DashboardCardType.POST_CARD_ERROR), ErrorWithinCard</span>

<span class="nc" id="L175">                    data class PostCardWithoutPostItems(</span>
<span class="nc" id="L176">                        val postCardType: PostCardType,</span>
<span class="nc" id="L177">                        val title: UiString,</span>
<span class="nc" id="L178">                        val excerpt: UiString,</span>
<span class="nc" id="L179">                        @DrawableRes val imageRes: Int,</span>
<span class="nc" id="L180">                        override val footerLink: FooterLink,</span>
<span class="nc" id="L181">                        val onClick: ListItemInteraction</span>
<span class="nc" id="L182">                    ) : PostCard(</span>
<span class="nc" id="L183">                            dashboardCardType = DashboardCardType.POST_CARD_WITHOUT_POST_ITEMS,</span>
<span class="nc" id="L184">                            footerLink = footerLink</span>
                    )

<span class="nc" id="L187">                    data class PostCardWithPostItems(</span>
<span class="nc" id="L188">                        val postCardType: PostCardType,</span>
<span class="nc" id="L189">                        val title: UiString,</span>
<span class="nc" id="L190">                        val postItems: List&lt;PostItem&gt;,</span>
<span class="nc" id="L191">                        override val footerLink: FooterLink</span>
<span class="nc" id="L192">                    ) : PostCard(</span>
<span class="nc" id="L193">                            dashboardCardType = DashboardCardType.POST_CARD_WITH_POST_ITEMS,</span>
<span class="nc" id="L194">                            footerLink = footerLink</span>
                    ) {
<span class="nc" id="L196">                        data class PostItem(</span>
<span class="nc" id="L197">                            val title: UiString,</span>
<span class="nc" id="L198">                            val excerpt: UiString?,</span>
<span class="nc" id="L199">                            val featuredImageUrl: String?,</span>
<span class="nc" id="L200">                            val isTimeIconVisible: Boolean = false,</span>
<span class="nc" id="L201">                            val onClick: ListItemInteraction</span>
<span class="nc" id="L202">                        )</span>
                    }

<span class="nc" id="L205">                    data class FooterLink(</span>
<span class="nc" id="L206">                        val label: UiString,</span>
<span class="nc" id="L207">                        val onClick: (postCardType: PostCardType) -&gt; Unit</span>
                    )
<span class="nc" id="L209">                }</span>

<span class="nc" id="L211">                sealed class BloggingPromptCard(</span>
<span class="nc" id="L212">                    override val dashboardCardType: DashboardCardType</span>
<span class="nc" id="L213">                ) : DashboardCard(dashboardCardType) {</span>
<span class="nc" id="L214">                    data class BloggingPromptCardWithData(</span>
<span class="nc" id="L215">                        val prompt: UiString,</span>
<span class="nc" id="L216">                        val respondents: List&lt;TrainOfAvatarsItem&gt;,</span>
<span class="nc" id="L217">                        val numberOfAnswers: Int,</span>
<span class="nc" id="L218">                        val isAnswered: Boolean,</span>
<span class="nc" id="L219">                        val promptId: Int,</span>
<span class="nc" id="L220">                        val attribution: BloggingPromptAttribution,</span>
<span class="nc" id="L221">                        val onShareClick: (String) -&gt; Unit,</span>
<span class="nc" id="L222">                        val onAnswerClick: (PromptID) -&gt; Unit,</span>
<span class="nc" id="L223">                        val onSkipClick: () -&gt; Unit</span>
<span class="nc" id="L224">                    ) : BloggingPromptCard(dashboardCardType = DashboardCardType.BLOGGING_PROMPT_CARD)</span>
                }
            }
        }
<span class="nc" id="L228">    }</span>

<span class="nc" id="L230">    sealed class DynamicCard(</span>
<span class="nc" id="L231">        override val type: Type,</span>
<span class="nc" id="L232">        override val activeQuickStartItem: Boolean = false,</span>
<span class="nc" id="L233">        open val dynamicCardType: DynamicCardType,</span>
<span class="nc" id="L234">        open val onMoreClick: ListItemInteraction</span>
<span class="nc" id="L235">    ) : MySiteCardAndItem(</span>
<span class="nc" id="L236">            type,</span>
<span class="nc" id="L237">            activeQuickStartItem</span>
    ) {
<span class="nc" id="L239">        data class QuickStartDynamicCard(</span>
<span class="nc" id="L240">            val id: DynamicCardType,</span>
<span class="nc" id="L241">            val title: UiString,</span>
<span class="nc" id="L242">            val taskCards: List&lt;QuickStartTaskCard&gt;,</span>
<span class="nc" id="L243">            @ColorRes val accentColor: Int,</span>
<span class="nc" id="L244">            val progress: Int,</span>
<span class="nc" id="L245">            override val onMoreClick: ListItemInteraction</span>
<span class="nc" id="L246">        ) : DynamicCard(QUICK_START_DYNAMIC_CARD, dynamicCardType = id, onMoreClick = onMoreClick) {</span>
<span class="nc" id="L247">            data class QuickStartTaskCard(</span>
<span class="nc" id="L248">                val quickStartTask: QuickStartTask,</span>
<span class="nc" id="L249">                val title: UiString,</span>
<span class="nc" id="L250">                val description: UiString,</span>
<span class="nc" id="L251">                @DrawableRes val illustration: Int,</span>
<span class="nc" id="L252">                @ColorRes val accentColor: Int,</span>
<span class="nc" id="L253">                val done: Boolean = false,</span>
<span class="nc" id="L254">                val onClick: ListItemInteraction</span>
<span class="nc" id="L255">            )</span>
        }
<span class="nc" id="L257">    }</span>

<span class="nc" id="L259">    sealed class Item(</span>
<span class="nc" id="L260">        override val type: Type,</span>
<span class="nc" id="L261">        override val activeQuickStartItem: Boolean = false</span>
<span class="nc" id="L262">    ) : MySiteCardAndItem(type, activeQuickStartItem) {</span>
<span class="nc" id="L263">        data class InfoItem(val title: UiString) : Item(INFO_ITEM)</span>

<span class="nc" id="L265">        data class CategoryHeaderItem(val title: UiString) : Item(CATEGORY_HEADER_ITEM)</span>

<span class="nc" id="L267">        data class ListItem(</span>
<span class="nc" id="L268">            @DrawableRes val primaryIcon: Int,</span>
<span class="nc" id="L269">            val primaryText: UiString,</span>
<span class="nc" id="L270">            @DrawableRes val secondaryIcon: Int? = null,</span>
<span class="nc" id="L271">            val secondaryText: UiString? = null,</span>
<span class="nc" id="L272">            val showFocusPoint: Boolean = false,</span>
<span class="nc" id="L273">            val onClick: ListItemInteraction</span>
<span class="nc" id="L274">        ) : Item(LIST_ITEM, activeQuickStartItem = showFocusPoint)</span>
<span class="nc" id="L275">    }</span>
<span class="nc" id="L276">}</span>
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>Generated by the Android Gradle plugin 7.1.1</div></body></html>