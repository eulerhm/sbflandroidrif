<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DomainsDashboardViewHolder.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordpressJalapenoDebug</a> &gt; <a href="index.source.html" class="el_package">org.wordpress.android.ui.domains</a> &gt; <span class="el_source">DomainsDashboardViewHolder.kt</span></div><h1>DomainsDashboardViewHolder.kt</h1><pre class="source lang-java linenums">package org.wordpress.android.ui.domains

import android.view.View
import android.view.ViewGroup
import android.widget.PopupMenu
import androidx.core.view.isVisible
import androidx.recyclerview.widget.RecyclerView
import androidx.viewbinding.ViewBinding
import org.wordpress.android.R
import org.wordpress.android.databinding.DomainAddDomainCtaBinding
import org.wordpress.android.databinding.DomainFreeSiteAddressCardBinding
import org.wordpress.android.databinding.DomainManageDomainsCtaBinding
import org.wordpress.android.databinding.DomainPurchaseCardBinding
import org.wordpress.android.databinding.DomainSiteDomainsBlurbBinding
import org.wordpress.android.databinding.DomainSiteDomainsCardBinding
import org.wordpress.android.databinding.DomainSiteDomainsHeaderBinding
import org.wordpress.android.ui.domains.DomainsDashboardItem.AddDomain
import org.wordpress.android.ui.domains.DomainsDashboardItem.DomainBlurb
import org.wordpress.android.ui.domains.DomainsDashboardItem.FreeDomain
import org.wordpress.android.ui.domains.DomainsDashboardItem.ManageDomains
import org.wordpress.android.ui.domains.DomainsDashboardItem.PurchaseDomain
import org.wordpress.android.ui.domains.DomainsDashboardItem.SiteDomains
import org.wordpress.android.ui.domains.DomainsDashboardItem.SiteDomainsHeader
import org.wordpress.android.ui.utils.UiHelpers
import org.wordpress.android.util.extensions.viewBinding

<span class="nc" id="L27">sealed class DomainsDashboardViewHolder&lt;T : ViewBinding&gt;(</span>
<span class="nc" id="L28">    protected val binding: T</span>
<span class="nc" id="L29">) : RecyclerView.ViewHolder(binding.root) {</span>
<span class="nc" id="L30">    class FreeDomainViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L32">        private val uiHelpers: UiHelpers</span>
<span class="nc" id="L33">    ) : DomainsDashboardViewHolder&lt;DomainFreeSiteAddressCardBinding&gt;(</span>
<span class="nc" id="L34">            parent.viewBinding(DomainFreeSiteAddressCardBinding::inflate)</span>
    ) {
<span class="nc" id="L36">        fun onBind(item: FreeDomain) = with(binding) {</span>
<span class="nc" id="L37">            uiHelpers.setTextOrHide(primarySiteAddress, item.domain)</span>
<span class="nc" id="L38">            primarySiteAddressChip.isVisible = item.isPrimary</span>
<span class="nc" id="L39">            primarySiteAddressActions.setOnClickListener { view -&gt; popupMenuClick(item, view) }</span>
<span class="nc" id="L40">        }</span>

        private fun popupMenuClick(item: FreeDomain, v: View) {
<span class="nc" id="L43">            val popup = PopupMenu(v.context, v)</span>
<span class="nc" id="L44">            popup.setOnMenuItemClickListener { menuItem -&gt;</span>
<span class="nc" id="L45">                val action = DomainsDashboardItem.Action.fromItemId(menuItem.itemId)</span>
<span class="nc" id="L46">                item.onPopupMenuClick(action)</span>
            }
<span class="nc" id="L48">            popup.menuInflater.inflate(R.menu.domains_more, popup.menu)</span>
<span class="nc" id="L49">            popup.show()</span>
<span class="nc" id="L50">        }</span>
    }

<span class="nc" id="L53">    class SiteDomainsHeaderViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L55">        private val uiHelpers: UiHelpers</span>
<span class="nc" id="L56">    ) : DomainsDashboardViewHolder&lt;DomainSiteDomainsHeaderBinding&gt;(</span>
<span class="nc" id="L57">            parent.viewBinding(DomainSiteDomainsHeaderBinding::inflate)</span>
    ) {
<span class="nc" id="L59">        fun onBind(item: SiteDomainsHeader) = with(binding) {</span>
<span class="nc" id="L60">            uiHelpers.setTextOrHide(siteDomainsHeader, item.title)</span>
<span class="nc" id="L61">        }</span>
    }

<span class="nc" id="L64">    class SiteDomainsViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L66">        private val uiHelpers: UiHelpers</span>
<span class="nc" id="L67">    ) : DomainsDashboardViewHolder&lt;DomainSiteDomainsCardBinding&gt;(</span>
<span class="nc" id="L68">            parent.viewBinding(DomainSiteDomainsCardBinding::inflate)</span>
    ) {
<span class="nc" id="L70">        fun onBind(item: SiteDomains) = with(binding) {</span>
<span class="nc" id="L71">            uiHelpers.setTextOrHide(siteDomain, item.domain)</span>
<span class="nc" id="L72">            uiHelpers.setTextOrHide(siteDomainExpiryDate, item.expiry)</span>
<span class="nc" id="L73">            primarySiteAddressChip.isVisible = item.isPrimary</span>
<span class="nc" id="L74">        }</span>
    }

<span class="nc" id="L77">    class AddDomainViewHolder(</span>
        parent: ViewGroup
<span class="nc" id="L79">    ) : DomainsDashboardViewHolder&lt;DomainAddDomainCtaBinding&gt;(</span>
<span class="nc" id="L80">            parent.viewBinding(DomainAddDomainCtaBinding::inflate)</span>
    ) {
<span class="nc" id="L82">        fun onBind(item: AddDomain) = with(binding) {</span>
<span class="nc" id="L83">            addDomainButton.setOnClickListener { item.onClick.click() }</span>
<span class="nc" id="L84">        }</span>
    }

<span class="nc" id="L87">    class ManageDomainsViewHolder(</span>
        parent: ViewGroup
<span class="nc" id="L89">    ) : DomainsDashboardViewHolder&lt;DomainManageDomainsCtaBinding&gt;(</span>
<span class="nc" id="L90">            parent.viewBinding(DomainManageDomainsCtaBinding::inflate)</span>
    ) {
<span class="nc" id="L92">        fun onBind(item: ManageDomains) = with(binding) {</span>
<span class="nc" id="L93">            manageDomainsCard.setOnClickListener { item.onClick.click() }</span>
<span class="nc" id="L94">            manageDomainsButton.setOnClickListener { item.onClick.click() }</span>
<span class="nc" id="L95">        }</span>
    }

<span class="nc" id="L98">    class PurchaseDomainViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L100">        private val uiHelpers: UiHelpers</span>
<span class="nc" id="L101">    ) : DomainsDashboardViewHolder&lt;DomainPurchaseCardBinding&gt;(</span>
<span class="nc" id="L102">            parent.viewBinding(DomainPurchaseCardBinding::inflate)</span>
    ) {
<span class="nc" id="L104">        fun onBind(item: PurchaseDomain) = with(binding) {</span>
<span class="nc" id="L105">            uiHelpers.setImageOrHide(purchaseDomainImage, item.image)</span>
<span class="nc" id="L106">            uiHelpers.setTextOrHide(purchaseDomainTitle, item.title)</span>
<span class="nc" id="L107">            uiHelpers.setTextOrHide(purchaseDomainCaption, item.body)</span>
<span class="nc" id="L108">            searchDomainsButton.setOnClickListener { item.onClick.click() }</span>
<span class="nc" id="L109">        }</span>
    }

<span class="nc" id="L112">    class DomainBlurbViewHolder(</span>
        parent: ViewGroup,
<span class="nc" id="L114">        private val uiHelpers: UiHelpers</span>
<span class="nc" id="L115">    ) : DomainsDashboardViewHolder&lt;DomainSiteDomainsBlurbBinding&gt;(</span>
<span class="nc" id="L116">            parent.viewBinding(DomainSiteDomainsBlurbBinding::inflate)</span>
    ) {
<span class="nc" id="L118">        fun onBind(item: DomainBlurb) = with(binding) {</span>
<span class="nc" id="L119">            uiHelpers.setTextOrHide(primarySiteRedirectBlurb, item.blurb)</span>
<span class="nc" id="L120">        }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>Generated by the Android Gradle plugin 7.1.1</div></body></html>