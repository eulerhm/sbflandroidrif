from subprocess import check_output
import timing
from time import perf_counter

#print(check_output(f"mkdir /media/euler/Expansion/MyStorage1/workspace-SBES-ExtendedPaper/INJECTED_FAULT_ANALYSIS/WordPress-Android/Defeito-1/testReports-SeparatelyTests", shell="True").decode('cp850'))

execTimeFile = open("executionTime-SeparatelyTests.txt","a")

'''
testMethods = ['org.wordpress.android.UserAgentTest#testGetDefaultUserAgent',
				'org.wordpress.android.UserAgentTest#testGetUserAgent',
				'org.wordpress.android.e2e.BlockEditorTests#publishSimplePost',
				'org.wordpress.android.e2e.BlockEditorTests#publishFullPost',
				'org.wordpress.android.e2e.BlockEditorTests#blockEditorCanDisplayElementAddedInHtmlMode',
				'org.wordpress.android.e2e.ContactUsTests#sendButtonEnabledWhenTextIsEntered',
				'org.wordpress.android.e2e.ContactUsTests#helpCanBeOpenedWhileEnteringEmail',
				'org.wordpress.android.e2e.ContactUsTests#helpCanBeOpenedWhileEnteringPassword',
				'org.wordpress.android.e2e.LoginTests#loginWithEmailPassword',
				'org.wordpress.android.e2e.LoginTests#loginWithSiteAddress',
				'org.wordpress.android.e2e.LoginTests#loginWithSelfHostedAccount',
				'org.wordpress.android.e2e.ReaderTests#navigateThroughPosts',
				'org.wordpress.android.e2e.ReaderTests#likePost',
				'org.wordpress.android.e2e.SignUpTests#signUpWithMagicLink',
				'org.wordpress.android.e2e.StatsTests#allDayStatsLoad',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl1',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl2',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl3',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl4',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl5',
				'org.wordpress.android.networking.AuthenticatorRequestTest#testExtractSiteIdFromUrl7',
				'org.wordpress.android.networking.GravatarApiTest#testGravatarUploadRequest',
				'org.wordpress.android.networking.WPNetworkImageViewTest#testVolleyImageLoaderGetNullHost',
				'org.wordpress.android.ui.notifications.NotesParseTest#testParagraphInListItem1',
				'org.wordpress.android.ui.notifications.NotesParseTest#testSpanInListItem1',
				'org.wordpress.android.ui.notifications.NotesParseTest#testSpanInListItemFullTest',
				'org.wordpress.android.ui.notifications.NotificationsUtilsTest#testSpannableHasCharacterAtIndex',
				'org.wordpress.android.ui.posts.PostUtilsTest#testCollapseShortcodes',
				'org.wordpress.android.ui.posts.PostUtilsTest#testShortcodeSpaces',
				'org.wordpress.android.ui.posts.PostUtilsTest#testOpeningClosingShortcode',
				'org.wordpress.android.util.AutolinkUtilsTest#testNullString',
				'org.wordpress.android.util.AutolinkUtilsTest#testEmptyString',
				'org.wordpress.android.util.AutolinkUtilsTest#testNonDenylistedUrl1',
				'org.wordpress.android.util.AutolinkUtilsTest#testNonDenylistedUrl2',
				'org.wordpress.android.util.AutolinkUtilsTest#testNonDenylistedUrl3',
				'org.wordpress.android.util.AutolinkUtilsTest#testDenylistedUrl1',
				'org.wordpress.android.util.AutolinkUtilsTest#testDenylistedUrlIgnoreCase1',
				'org.wordpress.android.util.AutolinkUtilsTest#testDenylistedUrlKickStarter1',
				'org.wordpress.android.util.AutolinkUtilsTest#testDenylistedUrlKickStarter2',
				'org.wordpress.android.util.AutolinkUtilsTest#testMixedUrls1',
				'org.wordpress.android.util.AutolinkUtilsTest#testExistingAHref1',
				'org.wordpress.android.util.AutolinkUtilsTest#testUndetectable1',
				'org.wordpress.android.util.AutolinkUtilsTest#testUndetectable2',
				'org.wordpress.android.util.AutolinkUtilsTest#testMixedUrls2',
				'org.wordpress.android.util.UrlUtilsTest#testGetHost1',
				'org.wordpress.android.util.UrlUtilsTest#testGetHost2',
				'org.wordpress.android.util.UrlUtilsTest#testGetHost3',
				'org.wordpress.android.util.UrlUtilsTest#testGetHost4',
				'org.wordpress.android.util.UrlUtilsTest#testGetHost5',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken1',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken2',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken3',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken4',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken5',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken6',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken7',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken8',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken9',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken10',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken11',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken12',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken13',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken14',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken15',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken16',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken17',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken18',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken19',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken20',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken21',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken22',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken23',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken24',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken25',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken26',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken27',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM7',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM8',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM9',
				'org.wordpress.android.util.SupportedBlocksProviderTest#fetchSupportedBlocks',
				'org.wordpress.android.util.UploadWorkerTest#testOneTimeUploadWorker',
				'org.wordpress.android.util.UploadWorkerTest#testOneTimeUploadWorkerWithUnmetConstraints',
				'org.wordpress.android.util.UploadWorkerTest#testPeriodicUploadWorkerWithMetConstraints',
				'org.wordpress.android.util.UploadWorkerTest#testPeriodicUploadWorkerWithMetConstraintsCalledTwice']
'''

testMethods = ['org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken5',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken6',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken7',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken8',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken9',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken10',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken11',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken12',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken13',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken14',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken15',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken16',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken17',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken18',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken19',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken20',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken21',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken22',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken23',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken24',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken25',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken26',
				'org.wordpress.android.util.WPUrlUtilsTest#testSafeToAddAuthToken27',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMString6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURL6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsWPCOMURI6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM1',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM2',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM3',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM4',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM5',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM6',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM7',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM8',
				'org.wordpress.android.util.WPUrlUtilsTest#testIsNOTWPCOM9',
				'org.wordpress.android.util.SupportedBlocksProviderTest#fetchSupportedBlocks',
				'org.wordpress.android.util.UploadWorkerTest#testOneTimeUploadWorker',
				'org.wordpress.android.util.UploadWorkerTest#testOneTimeUploadWorkerWithUnmetConstraints',
				'org.wordpress.android.util.UploadWorkerTest#testPeriodicUploadWorkerWithMetConstraints',
				'org.wordpress.android.util.UploadWorkerTest#testPeriodicUploadWorkerWithMetConstraintsCalledTwice']

startTime = perf_counter()

for tm in testMethods:
		command = f"./gradlew -Pandroid.testInstrumentationRunnerArguments.class={tm} \
				createWordpressJalapenoDebugCoverageReport"

		#print(command)
		print(check_output(command, shell=True).decode('cp850'))


		print(check_output(f"mkdir /media/euler/Expansion/MyStorage1/workspace-SBES-ExtendedPaper/INJECTED_FAULT_ANALYSIS/WordPress-Android/Defeito-1/testReports-SeparatelyTests/report-{tm}", shell="True").decode('cp850'))
		print(check_output(f"cp -Rf WordPress/build/reports /media/euler/Expansion/MyStorage1/workspace-SBES-ExtendedPaper/INJECTED_FAULT_ANALYSIS/WordPress-Android/Defeito-1/testReports-SeparatelyTests/report-{tm}", shell="True").decode('cp850'))


timeTaken = perf_counter()-startTime
print(f"Time taken: {timeTaken}")
execTimeFile.write(f"Execution time : {timeTaken}")
execTimeFile.write("\n")
execTimeFile.flush()

execTimeFile.close()

