<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FullScreenDialogFragment.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordpressJalapenoDebug</a> &gt; <a href="index.source.html" class="el_package">org.wordpress.android.ui</a> &gt; <span class="el_source">FullScreenDialogFragment.java</span></div><h1>FullScreenDialogFragment.java</h1><pre class="source lang-java linenums">package org.wordpress.android.ui;

import android.annotation.SuppressLint;
import android.app.Dialog;
import android.content.Context;
import android.content.res.Resources;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.util.TypedValue;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.view.Window;

import androidx.annotation.ColorRes;
import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.annotation.StringRes;
import androidx.annotation.StyleRes;
import androidx.appcompat.app.ActionBar;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import androidx.core.content.res.ResourcesCompat;
import androidx.core.view.ViewCompat;
import androidx.fragment.app.DialogFragment;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentActivity;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentTransaction;

import com.google.android.material.appbar.AppBarLayout;

import org.wordpress.android.R;
import org.wordpress.android.util.ColorUtils;
import org.wordpress.android.util.extensions.ContextExtensionsKt;

/**
 * A {@link DialogFragment} implementing the full-screen dialog pattern defined in the
 * &lt;a href=&quot;https://material.io/guidelines/components/dialogs.html#dialogs-full-screen-dialogs&quot;&gt;
 * Material Design guidelines&lt;/a&gt;.
 */
<span class="nc" id="L44">public class FullScreenDialogFragment extends DialogFragment {</span>
    private Fragment mFragment;
    private FullScreenDialogController mController;
    private OnConfirmListener mOnConfirmListener;
    private OnDismissListener mOnDismissListener;
    private OnShownListener mOnShownListener;
    private String mAction;
    private MenuItem mActionItem;
    private String mSubtitle;
    private String mTitle;
    private Toolbar mToolbar;
    private boolean mHideActivityBar;
    private boolean mIsLiftOnScroll;
    private int mToolbarTheme;
    private int mToolbarColor;

    private static final String ARG_ACTION = &quot;ARG_ACTION&quot;;
    private static final String ARG_HIDE_ACTIVITY_BAR = &quot;ARG_IS_LIFT_ON_SCROLL&quot;;
    private static final String ARG_IS_LIFT_ON_SCROLL = &quot;ARG_LIFT_ON_SCROLL&quot;;
    private static final String ARG_SUBTITLE = &quot;ARG_SUBTITLE&quot;;
    private static final String ARG_TITLE = &quot;ARG_TITLE&quot;;
    private static final String ARG_TOOLBAR_THEME = &quot;ARG_TOOLBAR_THEME&quot;;
    private static final String ARG_TOOLBAR_COLOR = &quot;ARG_TOOLBAR_COLOR&quot;;
    private static final int ID_ACTION = 1;

<span class="nc" id="L69">    public static final String TAG = FullScreenDialogFragment.class.getSimpleName();</span>

    public interface FullScreenDialogContent {
        boolean onConfirmClicked(FullScreenDialogController controller);

        boolean onDismissClicked(FullScreenDialogController controller);

        void setController(FullScreenDialogController controller);
    }

    public interface FullScreenDialogController {
        void confirm(@Nullable Bundle result);

        void dismiss();

        void setActionEnabled(boolean enabled);
    }

    public interface OnConfirmListener {
        void onConfirm(@Nullable Bundle result);
    }

    public interface OnDismissListener {
        void onDismiss();
    }

    public interface OnShownListener {
        void onShown();
    }

    protected static FullScreenDialogFragment newInstance(Builder builder) {
<span class="nc" id="L100">        FullScreenDialogFragment dialog = new FullScreenDialogFragment();</span>
<span class="nc" id="L101">        dialog.setArguments(setArguments(builder));</span>
<span class="nc" id="L102">        dialog.setContent(Fragment.instantiate(builder.mContext, builder.mClass.getName(), builder.mArguments));</span>
<span class="nc" id="L103">        dialog.setOnConfirmListener(builder.mOnConfirmListener);</span>
<span class="nc" id="L104">        dialog.setOnDismissListener(builder.mOnDismissListener);</span>
<span class="nc" id="L105">        dialog.setOnShownListener(builder.mOnShownListener);</span>
<span class="nc" id="L106">        dialog.setHideActivityBar(builder.mHideActivityBar);</span>
<span class="nc" id="L107">        dialog.setLiftOnScroll(builder.mIsLiftOnScroll);</span>
<span class="nc" id="L108">        return dialog;</span>
    }

    private static Bundle setArguments(Builder builder) {
<span class="nc" id="L112">        Bundle bundle = new Bundle();</span>
<span class="nc" id="L113">        bundle.putString(ARG_ACTION, builder.mAction);</span>
<span class="nc" id="L114">        bundle.putString(ARG_TITLE, builder.mTitle);</span>
<span class="nc" id="L115">        bundle.putString(ARG_SUBTITLE, builder.mSubtitle);</span>
<span class="nc" id="L116">        bundle.putInt(ARG_TOOLBAR_THEME, builder.mToolbarTheme);</span>
<span class="nc" id="L117">        bundle.putInt(ARG_TOOLBAR_COLOR, builder.mToolbarColor);</span>
<span class="nc" id="L118">        bundle.putBoolean(ARG_HIDE_ACTIVITY_BAR, builder.mHideActivityBar);</span>
<span class="nc" id="L119">        bundle.putBoolean(ARG_IS_LIFT_ON_SCROLL, builder.mIsLiftOnScroll);</span>
<span class="nc" id="L120">        return bundle;</span>
    }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
<span class="nc" id="L125">        super.onActivityCreated(savedInstanceState);</span>

<span class="nc bnc" id="L127" title="All 2 branches missed.">        if (savedInstanceState == null) {</span>
<span class="nc" id="L128">            getChildFragmentManager()</span>
<span class="nc" id="L129">                    .beginTransaction()</span>
<span class="nc" id="L130">                    .setCustomAnimations(R.anim.full_screen_dialog_fragment_none, 0, 0,</span>
                            R.anim.full_screen_dialog_fragment_none)
<span class="nc" id="L132">                    .add(R.id.full_screen_dialog_fragment_content, mFragment)</span>
<span class="nc" id="L133">                    .commitNow();</span>
        }
<span class="nc" id="L135">    }</span>

    @Override
    public void onCreate(@Nullable Bundle savedInstanceState) {
<span class="nc" id="L139">        super.onCreate(savedInstanceState);</span>

<span class="nc bnc" id="L141" title="All 2 branches missed.">        if (savedInstanceState != null) {</span>
<span class="nc" id="L142">            mFragment = getChildFragmentManager().findFragmentById(R.id.full_screen_dialog_fragment_content);</span>
        }

<span class="nc" id="L145">        mController = new FullScreenDialogController() {</span>
            @Override
            public void confirm(@Nullable Bundle result) {
<span class="nc" id="L148">                FullScreenDialogFragment.this.confirm(result);</span>
<span class="nc" id="L149">            }</span>

            @Override
            public void dismiss() {
<span class="nc" id="L153">                FullScreenDialogFragment.this.dismiss();</span>
<span class="nc" id="L154">            }</span>

            @Override public void setActionEnabled(boolean enabled) {
<span class="nc bnc" id="L157" title="All 2 branches missed.">                if (mActionItem != null) {</span>
<span class="nc" id="L158">                    mActionItem.setEnabled(enabled);</span>
                }
<span class="nc" id="L160">            }</span>
        };
<span class="nc" id="L162">    }</span>

    @NonNull
    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
<span class="nc" id="L167">        initBuilderArguments();</span>

<span class="nc" id="L169">        Dialog dialog = new Dialog(getActivity(), getTheme()) {</span>
            @Override
            public void onBackPressed() {
<span class="nc" id="L172">                onDismissClicked();</span>
<span class="nc" id="L173">            }</span>
        };

<span class="nc" id="L176">        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);</span>
<span class="nc" id="L177">        return dialog;</span>
    }

    @Nullable
    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,
                             @Nullable Bundle savedInstanceState) {
<span class="nc" id="L184">        initBuilderArguments();</span>

<span class="nc bnc" id="L186" title="All 2 branches missed.">        if (mHideActivityBar) {</span>
<span class="nc" id="L187">            hideActivityBar();</span>
        }

<span class="nc" id="L190">        ViewGroup view = (ViewGroup) inflater.inflate(R.layout.full_screen_dialog_fragment, container, false);</span>
<span class="nc" id="L191">        initToolbar(view);</span>
<span class="nc" id="L192">        setThemeBackground(view);</span>
<span class="nc" id="L193">        view.setFocusableInTouchMode(true);</span>
<span class="nc" id="L194">        view.requestFocus();</span>

<span class="nc" id="L196">        return view;</span>
    }

    @Override
    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
<span class="nc" id="L201">        ((FullScreenDialogContent) getContent()).setController(mController);</span>
<span class="nc" id="L202">    }</span>

    @Override
    public void dismiss() {
<span class="nc bnc" id="L206" title="All 2 branches missed.">        if (mOnDismissListener != null) {</span>
<span class="nc" id="L207">            mOnDismissListener.onDismiss();</span>
        }

<span class="nc bnc" id="L210" title="All 2 branches missed.">        if (mHideActivityBar) {</span>
<span class="nc" id="L211">            showActivityBar();</span>
        }

<span class="nc" id="L214">        getFragmentManager().popBackStackImmediate();</span>
<span class="nc" id="L215">    }</span>

    @Override
    @SuppressLint(&quot;CommitTransaction&quot;)
    public void show(FragmentManager manager, String tag) {
<span class="nc" id="L220">        show(manager.beginTransaction(), tag);</span>
<span class="nc" id="L221">    }</span>

    @Override
    public int show(FragmentTransaction transaction, String tag) {
<span class="nc" id="L225">        initBuilderArguments();</span>
<span class="nc" id="L226">        shown();</span>
<span class="nc" id="L227">        transaction.setCustomAnimations(R.anim.full_screen_dialog_fragment_slide_up, 0, 0,</span>
                R.anim.full_screen_dialog_fragment_slide_down);
<span class="nc" id="L229">        return transaction.add(android.R.id.content, this, tag).addToBackStack(null).commit();</span>
    }

    protected void confirm(Bundle result) {
<span class="nc bnc" id="L233" title="All 2 branches missed.">        if (mOnConfirmListener != null) {</span>
<span class="nc" id="L234">            mOnConfirmListener.onConfirm(result);</span>
        }

<span class="nc" id="L237">        dismiss();</span>
<span class="nc" id="L238">    }</span>

    protected void shown() {
<span class="nc bnc" id="L241" title="All 2 branches missed.">        if (mOnShownListener != null) {</span>
<span class="nc" id="L242">            mOnShownListener.onShown();</span>
        }
<span class="nc" id="L244">    }</span>

    /**
     * Get {@link Fragment} to be able to interact directly with it.
     *
     * @return {@link Fragment} dialog content
     */
    public Fragment getContent() {
<span class="nc" id="L252">        return this.mFragment;</span>
    }

    /**
     * Hide {@link androidx.appcompat.app.AppCompatActivity} bar when showing fullscreen dialog.
     */
    public void hideActivityBar() {
<span class="nc" id="L259">        FragmentActivity activity = getActivity();</span>

<span class="nc bnc" id="L261" title="All 2 branches missed.">        if (activity instanceof AppCompatActivity) {</span>
<span class="nc" id="L262">            ActionBar actionBar = ((AppCompatActivity) activity).getSupportActionBar();</span>

<span class="nc bnc" id="L264" title="All 4 branches missed.">            if (actionBar != null &amp;&amp; actionBar.isShowing()) {</span>
<span class="nc" id="L265">                actionBar.hide();</span>
            }
        }
<span class="nc" id="L268">    }</span>

    /**
     * Initialize arguments passed in {@link Builder}.
     */
    private void initBuilderArguments() {
<span class="nc" id="L274">        Bundle bundle = getArguments();</span>
<span class="nc" id="L275">        mAction = bundle.getString(ARG_ACTION);</span>
<span class="nc" id="L276">        mTitle = bundle.getString(ARG_TITLE);</span>
<span class="nc" id="L277">        mSubtitle = bundle.getString(ARG_SUBTITLE);</span>
<span class="nc" id="L278">        mToolbarTheme = bundle.getInt(ARG_TOOLBAR_THEME);</span>
<span class="nc" id="L279">        mToolbarColor = bundle.getInt(ARG_TOOLBAR_COLOR);</span>
<span class="nc" id="L280">        mHideActivityBar = bundle.getBoolean(ARG_HIDE_ACTIVITY_BAR);</span>
<span class="nc" id="L281">        mIsLiftOnScroll = bundle.getBoolean(ARG_IS_LIFT_ON_SCROLL);</span>
<span class="nc" id="L282">    }</span>

    /**
     * Initialize toolbar title and action.
     *
     * @param view {@link View}
     */
    private void initToolbar(View view) {
<span class="nc" id="L290">        mToolbar = view.findViewById(R.id.toolbar_main);</span>

<span class="nc bnc" id="L292" title="All 2 branches missed.">        if (mToolbarTheme &gt; 0) {</span>
<span class="nc" id="L293">            mToolbar.getContext().setTheme(mToolbarTheme);</span>
        }

<span class="nc" id="L296">        final Context context = mToolbar.getContext();</span>

<span class="nc" id="L298">        mToolbar.setTitle(mTitle);</span>
<span class="nc" id="L299">        mToolbar.setSubtitle(mSubtitle);</span>
<span class="nc" id="L300">        mToolbar.setNavigationIcon(ColorUtils.applyTintToDrawable(context, R.drawable.ic_close_white_24dp,</span>
<span class="nc" id="L301">                ContextExtensionsKt.getColorResIdFromAttribute(context, R.attr.colorControlNormal)));</span>
<span class="nc" id="L302">        mToolbar.setNavigationContentDescription(R.string.close_dialog_button_desc);</span>
<span class="nc" id="L303">        mToolbar.setNavigationOnClickListener(v -&gt; onDismissClicked());</span>

<span class="nc bnc" id="L305" title="All 2 branches missed.">        if (mToolbarColor &gt; 0) {</span>
<span class="nc" id="L306">            mToolbar.setBackgroundColor(getResources().getColor(mToolbarColor));</span>
        }

<span class="nc" id="L309">        AppBarLayout appBarLayout = view.findViewById(R.id.appbar_main);</span>
<span class="nc" id="L310">        appBarLayout.setLiftOnScroll(mIsLiftOnScroll);</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">        if (!mIsLiftOnScroll) {</span>
<span class="nc" id="L312">            appBarLayout.setLifted(false);</span>
        }

<span class="nc bnc" id="L315" title="All 2 branches missed.">        if (!mAction.isEmpty()) {</span>
<span class="nc" id="L316">            Menu menu = mToolbar.getMenu();</span>
<span class="nc" id="L317">            mActionItem = menu.add(0, ID_ACTION, 0, this.mAction);</span>
<span class="nc" id="L318">            mActionItem.setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);</span>
<span class="nc" id="L319">            mActionItem.setOnMenuItemClickListener(</span>
                    item -&gt; {
<span class="nc bnc" id="L321" title="All 2 branches missed.">                        if (item.getItemId() == ID_ACTION) {</span>
<span class="nc" id="L322">                            onConfirmClicked();</span>
<span class="nc" id="L323">                            return true;</span>
                        } else {
<span class="nc" id="L325">                            return false;</span>
                        }
                    }
            );
        }
<span class="nc" id="L330">    }</span>

    public void onBackPressed() {
<span class="nc bnc" id="L333" title="All 2 branches missed.">        if (isAdded()) {</span>
<span class="nc" id="L334">            onDismissClicked();</span>
        }
<span class="nc" id="L336">    }</span>

    protected void onConfirmClicked() {
<span class="nc" id="L339">        boolean isConsumed = ((FullScreenDialogContent) mFragment).onConfirmClicked(mController);</span>

<span class="nc bnc" id="L341" title="All 2 branches missed.">        if (!isConsumed) {</span>
<span class="nc" id="L342">            mController.confirm(null);</span>
        }
<span class="nc" id="L344">    }</span>

    protected void onDismissClicked() {
<span class="nc" id="L347">        boolean isConsumed = ((FullScreenDialogContent) mFragment).onDismissClicked(mController);</span>

<span class="nc bnc" id="L349" title="All 2 branches missed.">        if (!isConsumed) {</span>
<span class="nc" id="L350">            mController.dismiss();</span>
        }
<span class="nc" id="L352">    }</span>

    /**
     * Set {@link Fragment} as dialog content.
     *
     * @param fragment {@link Fragment} to set as dialog content
     */
    private void setContent(Fragment fragment) {
<span class="nc" id="L360">        this.mFragment = fragment;</span>
<span class="nc" id="L361">    }</span>

    /**
     * Set flag to hide activity bar when showing fullscreen dialog.
     *
     * @param hide boolean to hide activity bar
     */
    public void setHideActivityBar(boolean hide) {
<span class="nc" id="L369">        this.mHideActivityBar = hide;</span>
<span class="nc" id="L370">    }</span>

    /**
     * Set flag to enable or disable AppBar's lift on scroll.
     *
     * @param isLiftOnScroll boolean to toggle lift on scroll
     */
    public void setLiftOnScroll(boolean isLiftOnScroll) {
<span class="nc" id="L378">        this.mIsLiftOnScroll = isLiftOnScroll;</span>
<span class="nc" id="L379">    }</span>

    /**
     * Set callback to call when dialog is closed due to confirm click.
     *
     * @param listener {@link OnConfirmListener} interface to call on confirm click
     */
    public void setOnConfirmListener(@Nullable OnConfirmListener listener) {
<span class="nc" id="L387">        this.mOnConfirmListener = listener;</span>
<span class="nc" id="L388">    }</span>

    /**
     * Set callback to call when dialog is closed due to dismiss click.
     *
     * @param listener {@link OnDismissListener} interface to call on dismiss click
     */
    public void setOnDismissListener(@Nullable OnDismissListener listener) {
<span class="nc" id="L396">        this.mOnDismissListener = listener;</span>
<span class="nc" id="L397">    }</span>

    /**
     * Set callback to call when dialog is shown due to shown requested.
     *
     * @param listener {@link OnShownListener} interface to call on shown executed
     */
    public void setOnShownListener(@Nullable OnShownListener listener) {
<span class="nc" id="L405">        this.mOnShownListener = listener;</span>
<span class="nc" id="L406">    }</span>


    /**
     * Set {@link FullScreenDialogFragment} subtitle text.
     *
     * @param text {@link String} to set as subtitle text
     */
    public void setSubtitle(@NonNull String text) {
<span class="nc" id="L415">        mSubtitle = text;</span>
<span class="nc" id="L416">        mToolbar.setSubtitle(mSubtitle);</span>
<span class="nc" id="L417">    }</span>

    /**
     * Set {@link FullScreenDialogFragment} subtitle text.
     *
     * @param textId resource ID to set as subtitle text
     */
    public void setSubtitle(@StringRes int textId) {
<span class="nc bnc" id="L425" title="All 2 branches missed.">        if (getContext() != null) {</span>
<span class="nc" id="L426">            mSubtitle = getContext().getString(textId);</span>
<span class="nc" id="L427">            mToolbar.setSubtitle(mSubtitle);</span>
        }
<span class="nc" id="L429">    }</span>

    /**
     * Set theme background for {@link FullScreenDialogFragment} view.
     *
     * @param view {@link View} to set background
     */
    private void setThemeBackground(View view) {
<span class="nc" id="L437">        TypedValue value = new TypedValue();</span>
<span class="nc" id="L438">        getActivity().getTheme().resolveAttribute(android.R.attr.windowBackground, value, true);</span>

<span class="nc bnc" id="L440" title="All 4 branches missed.">        if (value.type &gt;= TypedValue.TYPE_FIRST_COLOR_INT &amp;&amp; value.type &lt;= TypedValue.TYPE_LAST_COLOR_INT) {</span>
<span class="nc" id="L441">            view.setBackgroundColor(value.data);</span>
        } else {
            try {
<span class="nc" id="L444">                Drawable drawable = ResourcesCompat</span>
<span class="nc" id="L445">                        .getDrawable(getActivity().getResources(), value.resourceId, getActivity().getTheme());</span>
<span class="nc" id="L446">                ViewCompat.setBackground(view, drawable);</span>
<span class="nc" id="L447">            } catch (Resources.NotFoundException ignore) {</span>
<span class="nc" id="L448">            }</span>
        }
<span class="nc" id="L450">    }</span>

    /**
     * Show {@link androidx.appcompat.app.AppCompatActivity} bar when hiding fullscreen dialog.
     */
    public void showActivityBar() {
<span class="nc" id="L456">        FragmentActivity activity = getActivity();</span>

<span class="nc bnc" id="L458" title="All 2 branches missed.">        if (activity instanceof AppCompatActivity) {</span>
<span class="nc" id="L459">            ActionBar actionBar = ((AppCompatActivity) activity).getSupportActionBar();</span>

<span class="nc bnc" id="L461" title="All 4 branches missed.">            if (actionBar != null &amp;&amp; !actionBar.isShowing()) {</span>
<span class="nc" id="L462">                actionBar.show();</span>
            }
        }
<span class="nc" id="L465">    }</span>

    public static class Builder {
        Bundle mArguments;
        Class&lt;? extends Fragment&gt; mClass;
        Context mContext;
        OnConfirmListener mOnConfirmListener;
        OnDismissListener mOnDismissListener;
        OnShownListener mOnShownListener;
<span class="nc" id="L474">        String mAction = &quot;&quot;;</span>
<span class="nc" id="L475">        String mSubtitle = &quot;&quot;;</span>
<span class="nc" id="L476">        String mTitle = &quot;&quot;;</span>
<span class="nc" id="L477">        boolean mHideActivityBar = false;</span>
<span class="nc" id="L478">        boolean mIsLiftOnScroll = true;</span>
<span class="nc" id="L479">        int mToolbarTheme = 0;</span>
<span class="nc" id="L480">        int mToolbarColor = 0;</span>

        /**
         * Builder to construct {@link FullScreenDialogFragment}.
         *
         * @param context {@link Context}
         */
<span class="nc" id="L487">        public Builder(@NonNull Context context) {</span>
<span class="nc" id="L488">            this.mContext = context;</span>
<span class="nc" id="L489">        }</span>

        /**
         * Creates {@link FullScreenDialogFragment} with provided parameters.
         *
         * @return {@link FullScreenDialogFragment} instance created
         */
        public FullScreenDialogFragment build() {
<span class="nc" id="L497">            return FullScreenDialogFragment.newInstance(this);</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} action text.
         *
         * @param text {@link String} to set as action text
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setAction(@NonNull String text) {
<span class="nc" id="L507">            this.mAction = text;</span>
<span class="nc" id="L508">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} action text.
         *
         * @param textId resource ID to set as action text
         */
        public Builder setAction(@StringRes int textId) {
<span class="nc" id="L517">            return setAction(mContext.getString(textId));</span>
        }

        /**
         * Set {@link Fragment} to be added as dialog, which must implement {@link FullScreenDialogContent}.
         *
         * @param contentClass     Fragment class to be instantiated
         * @param contentArguments arguments to be added to Fragment
         * @return {@link Builder} object to allow for chaining of calls to set methods
         * @throws IllegalArgumentException if content class does not implement
         *                                  {@link FullScreenDialogContent} interface
         */
        public Builder setContent(Class&lt;? extends Fragment&gt; contentClass, @Nullable Bundle contentArguments) {
<span class="nc bnc" id="L530" title="All 2 branches missed.">            if (!FullScreenDialogContent.class.isAssignableFrom(contentClass)) {</span>
<span class="nc" id="L531">                throw new IllegalArgumentException(</span>
                        &quot;The fragment class must implement FullScreenDialogContent interface&quot;);
            }

<span class="nc" id="L535">            this.mClass = contentClass;</span>
<span class="nc" id="L536">            this.mArguments = contentArguments;</span>
<span class="nc" id="L537">            return this;</span>
        }

        /**
         * Set flag to hide activity bar when showing fullscreen dialog.
         *
         * @param hide boolean to hide activity bar
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setHideActivityBar(boolean hide) {
<span class="nc" id="L547">            this.mHideActivityBar = hide;</span>
<span class="nc" id="L548">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} subtitle text.
         *
         * @param text {@link String} to set as subtitle text
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setSubtitle(@NonNull String text) {
<span class="nc" id="L558">            this.mSubtitle = text;</span>
<span class="nc" id="L559">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} subtitle text.
         *
         * @param textId resource ID to set as subtitle text
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setSubtitle(@StringRes int textId) {
<span class="nc" id="L569">            this.mSubtitle = mContext.getString(textId);</span>
<span class="nc" id="L570">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} title text.
         *
         * @param text {@link String} to set as title text
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setTitle(@NonNull String text) {
<span class="nc" id="L580">            this.mTitle = text;</span>
<span class="nc" id="L581">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} title text.
         *
         * @param textId resource ID to set as title text
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setTitle(@StringRes int textId) {
<span class="nc" id="L591">            this.mTitle = mContext.getString(textId);</span>
<span class="nc" id="L592">            return this;</span>
        }

        public Builder setToolbarTheme(@StyleRes int themeId) {
<span class="nc" id="L596">            this.mToolbarTheme = themeId;</span>
<span class="nc" id="L597">            return this;</span>
        }

        /**
         * Set {@link FullScreenDialogFragment} toolbar color.
         *
         * @param colorId resource ID to set as toolbar color
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setToolbarColor(@ColorRes int colorId) {
<span class="nc" id="L607">            this.mToolbarColor = colorId;</span>
<span class="nc" id="L608">            return this;</span>
        }

        /**
         * Set callback to call when dialog is closed due to confirm click.
         *
         * @param listener {@link OnConfirmListener} interface to call on confirm click
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setOnConfirmListener(@Nullable OnConfirmListener listener) {
<span class="nc" id="L618">            this.mOnConfirmListener = listener;</span>
<span class="nc" id="L619">            return this;</span>
        }

        /**
         * Set callback to call when dialog is closed due to dismiss click.
         *
         * @param listener {@link OnDismissListener} interface to call on dismiss click
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setOnDismissListener(@Nullable OnDismissListener listener) {
<span class="nc" id="L629">            this.mOnDismissListener = listener;</span>
<span class="nc" id="L630">            return this;</span>
        }

        /**
         * Set callback to call when dialog is shown.
         *
         * @param listener {@link OnShownListener} interface to call on shown
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setOnShownListener(@Nullable OnShownListener listener) {
<span class="nc" id="L640">            this.mOnShownListener = listener;</span>
<span class="nc" id="L641">            return this;</span>
        }

        /**
         * Set flag to enable or disable AppBar's lift on scroll.
         *
         * @param isLifOnScroll boolean to toggle lift on scroll
         * @return {@link Builder} object to allow for chaining of calls to set methods
         */
        public Builder setIsLifOnScroll(Boolean isLifOnScroll) {
<span class="nc" id="L651">            this.mIsLiftOnScroll = isLifOnScroll;</span>
<span class="nc" id="L652">            return this;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>Generated by the Android Gradle plugin 7.1.1</div></body></html>