package net.programmierecke.radiodroid2.utils;

import android.util.Log;
import net.programmierecke.radiodroid2.BuildConfig;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

public class RateLimiter {

    private int limit;

    private long fullReplenishTime;

    private double available = 0;

    private long lastTime;

    public RateLimiter(int limit, long fullReplenishTime) {
        if (!ListenerUtil.mutListener.listen(3289)) {
            this.limit = limit;
        }
        if (!ListenerUtil.mutListener.listen(3290)) {
            this.fullReplenishTime = fullReplenishTime;
        }
        if (!ListenerUtil.mutListener.listen(3291)) {
            available = limit;
        }
        if (!ListenerUtil.mutListener.listen(3292)) {
            lastTime = System.currentTimeMillis();
        }
    }

    public boolean allowed() {
        final long now = System.currentTimeMillis();
        if (!ListenerUtil.mutListener.listen(3309)) {
            available += (ListenerUtil.mutListener.listen(3308) ? ((ListenerUtil.mutListener.listen(3304) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) % ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3303) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) / ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3302) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) - ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3301) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) + ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) * ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))))))) % limit) : (ListenerUtil.mutListener.listen(3307) ? ((ListenerUtil.mutListener.listen(3304) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) % ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3303) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) / ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3302) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) - ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3301) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) + ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) * ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))))))) / limit) : (ListenerUtil.mutListener.listen(3306) ? ((ListenerUtil.mutListener.listen(3304) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) % ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3303) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) / ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3302) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) - ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3301) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) + ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) * ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))))))) - limit) : (ListenerUtil.mutListener.listen(3305) ? ((ListenerUtil.mutListener.listen(3304) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) % ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3303) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) / ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3302) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) - ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3301) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) + ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) * ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))))))) + limit) : ((ListenerUtil.mutListener.listen(3304) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) % ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3303) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) / ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3302) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) - ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (ListenerUtil.mutListener.listen(3301) ? (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) + ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))) : (Math.abs((ListenerUtil.mutListener.listen(3296) ? (now % lastTime) : (ListenerUtil.mutListener.listen(3295) ? (now / lastTime) : (ListenerUtil.mutListener.listen(3294) ? (now * lastTime) : (ListenerUtil.mutListener.listen(3293) ? (now + lastTime) : (now - lastTime)))))) * ((ListenerUtil.mutListener.listen(3300) ? (1.0 % fullReplenishTime) : (ListenerUtil.mutListener.listen(3299) ? (1.0 * fullReplenishTime) : (ListenerUtil.mutListener.listen(3298) ? (1.0 - fullReplenishTime) : (ListenerUtil.mutListener.listen(3297) ? (1.0 + fullReplenishTime) : (1.0 / fullReplenishTime))))))))))) * limit)))));
        }
        if (!ListenerUtil.mutListener.listen(3316)) {
            if ((ListenerUtil.mutListener.listen(3314) ? (available >= limit) : (ListenerUtil.mutListener.listen(3313) ? (available <= limit) : (ListenerUtil.mutListener.listen(3312) ? (available < limit) : (ListenerUtil.mutListener.listen(3311) ? (available != limit) : (ListenerUtil.mutListener.listen(3310) ? (available == limit) : (available > limit))))))) {
                if (!ListenerUtil.mutListener.listen(3315)) {
                    available = limit;
                }
            }
        }
        if ((ListenerUtil.mutListener.listen(3321) ? (available >= 1.0) : (ListenerUtil.mutListener.listen(3320) ? (available <= 1.0) : (ListenerUtil.mutListener.listen(3319) ? (available > 1.0) : (ListenerUtil.mutListener.listen(3318) ? (available != 1.0) : (ListenerUtil.mutListener.listen(3317) ? (available == 1.0) : (available < 1.0))))))) {
            return false;
        } else {
            if (!ListenerUtil.mutListener.listen(3322)) {
                available--;
            }
            if (!ListenerUtil.mutListener.listen(3323)) {
                lastTime = now;
            }
            return true;
        }
    }
}
