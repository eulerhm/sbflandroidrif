<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ListFragment.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">agencyXGoogleDebug</a> &gt; <a href="index.source.html" class="el_package">org.onebusaway.android.ui</a> &gt; <span class="el_source">ListFragment.java</span></div><h1>ListFragment.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2011-2016 The Android Open Source Project, University of South Florida
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.onebusaway.android.ui;

import org.onebusaway.android.R;
import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.AnimationUtils;
import android.widget.AdapterView;
import android.widget.FrameLayout;
import android.widget.LinearLayout;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.ProgressBar;
import android.widget.TextView;
import androidx.fragment.app.Fragment;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

/**
 * This is copied from the support package that allows us to use our own IDs,
 * because being able to specify our own custom view and still use all of this
 * good switching code is helpful.
 */
public class ListFragment extends Fragment {

<span class="nc" id="L44">    private final Handler mHandler = new Handler();</span>

<span class="nc" id="L46">    private final Runnable mRequestFocus = new Runnable() {</span>

        public void run() {
<span class="nc bnc" id="L49" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(3126)) {</span>
<span class="nc" id="L50">                mList.focusableViewAvailable(mList);</span>
            }
<span class="nc" id="L52">        }</span>
    };

<span class="nc" id="L55">    private final AdapterView.OnItemClickListener mOnClickListener = new AdapterView.OnItemClickListener() {</span>

        public void onItemClick(AdapterView&lt;?&gt; parent, View v, int position, long id) {
<span class="nc bnc" id="L58" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(3127)) {</span>
<span class="nc" id="L59">                onListItemClick((ListView) parent, v, position, id);</span>
            }
<span class="nc" id="L61">        }</span>
    };

    ListAdapter mAdapter;

    ListView mList;

    View mEmptyView;

    TextView mStandardEmptyView;

    View mProgressContainer;

    View mRefreshProgressContainer;

    View mListContainer;

    CharSequence mEmptyText;

    boolean mListShown;

<span class="nc" id="L82">    public ListFragment() {</span>
<span class="nc" id="L83">    }</span>

    /**
     * Provide default implementation to return a simple list view.  Subclasses
     * can override to replace with their own layout.  If doing so, the
     * returned view hierarchy &lt;em&gt;must&lt;/em&gt; have a ListView whose id
     * is {@link android.R.id#list android.R.id.list} and can optionally
     * have a sibling view id {@link android.R.id#empty android.R.id.empty}
     * that is to be shown when the list is empty.
     *
     * &lt;p&gt;If you are overriding this method with your own custom content,
     * consider including the standard layout {@link android.R.layout#list_content}
     * in your layout file, so that you continue to retain all of the standard
     * behavior of ListFragment.  In particular, this is currently the only
     * way to have the built-in indeterminant progress state be shown.
     */
    @Override
    @SuppressWarnings(&quot;deprecation&quot;)
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
<span class="nc" id="L102">        final Context context = getActivity();</span>
<span class="nc" id="L103">        FrameLayout root = new FrameLayout(context);</span>
<span class="nc" id="L104">        LinearLayout pframe = new LinearLayout(context);</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3128)) {</span>
<span class="nc" id="L106">            pframe.setId(R.id.loading);</span>
        }
<span class="nc bnc" id="L108" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3129)) {</span>
<span class="nc" id="L109">            pframe.setOrientation(LinearLayout.VERTICAL);</span>
        }
<span class="nc bnc" id="L111" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3130)) {</span>
<span class="nc" id="L112">            pframe.setVisibility(View.GONE);</span>
        }
<span class="nc bnc" id="L114" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3131)) {</span>
<span class="nc" id="L115">            pframe.setGravity(Gravity.CENTER);</span>
        }
<span class="nc" id="L117">        ProgressBar progress = new ProgressBar(context, null, android.R.attr.progressBarStyleLarge);</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3132)) {</span>
<span class="nc" id="L119">            pframe.addView(progress, new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));</span>
        }
<span class="nc bnc" id="L121" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3133)) {</span>
<span class="nc" id="L122">            root.addView(pframe, new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT));</span>
        }
<span class="nc" id="L124">        FrameLayout lframe = new FrameLayout(context);</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3134)) {</span>
<span class="nc" id="L126">            lframe.setId(R.id.listContainer);</span>
        }
<span class="nc" id="L128">        TextView tv = new TextView(getActivity());</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3135)) {</span>
<span class="nc" id="L130">            tv.setId(R.id.internalEmpty);</span>
        }
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3136)) {</span>
<span class="nc" id="L133">            tv.setGravity(Gravity.CENTER);</span>
        }
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3137)) {</span>
<span class="nc" id="L136">            lframe.addView(tv, new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT));</span>
        }
<span class="nc" id="L138">        ListView lv = new ListView(getActivity());</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3138)) {</span>
<span class="nc" id="L140">            lv.setId(android.R.id.list);</span>
        }
<span class="nc bnc" id="L142" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3139)) {</span>
<span class="nc" id="L143">            lv.setDrawSelectorOnTop(false);</span>
        }
<span class="nc bnc" id="L145" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3140)) {</span>
<span class="nc" id="L146">            lframe.addView(lv, new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT));</span>
        }
<span class="nc bnc" id="L148" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3141)) {</span>
<span class="nc" id="L149">            root.addView(lframe, new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT));</span>
        }
<span class="nc bnc" id="L151" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3142)) {</span>
<span class="nc" id="L152">            root.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT));</span>
        }
<span class="nc" id="L154">        return root;</span>
    }

    /**
     * Attach to list view once the view hierarchy has been created.
     */
    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3143)) {</span>
<span class="nc" id="L163">            super.onViewCreated(view, savedInstanceState);</span>
        }
<span class="nc bnc" id="L165" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3144)) {</span>
<span class="nc" id="L166">            ensureList();</span>
        }
<span class="nc" id="L168">    }</span>

    /**
     * Detach from list view.
     */
    @Override
    public void onDestroyView() {
<span class="nc bnc" id="L175" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3145)) {</span>
<span class="nc" id="L176">            mHandler.removeCallbacks(mRequestFocus);</span>
        }
<span class="nc bnc" id="L178" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3146)) {</span>
<span class="nc" id="L179">            mList = null;</span>
        }
<span class="nc bnc" id="L181" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3147)) {</span>
<span class="nc" id="L182">            mListShown = false;</span>
        }
<span class="nc bnc" id="L184" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3148)) {</span>
<span class="nc" id="L185">            mEmptyView = mProgressContainer = mRefreshProgressContainer = mListContainer = null;</span>
        }
<span class="nc bnc" id="L187" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3149)) {</span>
<span class="nc" id="L188">            mStandardEmptyView = null;</span>
        }
<span class="nc bnc" id="L190" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3150)) {</span>
<span class="nc" id="L191">            super.onDestroyView();</span>
        }
<span class="nc" id="L193">    }</span>

    /**
     * This method will be called when an item in the list is selected.
     * Subclasses should override. Subclasses can call
     * getListView().getItemAtPosition(position) if they need to access the
     * data associated with the selected item.
     *
     * @param l        The ListView where the click happened
     * @param v        The view that was clicked within the ListView
     * @param position The position of the view in the list
     * @param id       The row id of the item that was clicked
     */
    public void onListItemClick(ListView l, View v, int position, long id) {
<span class="nc" id="L207">    }</span>

    /**
     * Provide the cursor for the list view.
     */
    public void setListAdapter(ListAdapter adapter) {
<span class="nc bnc" id="L213" title="All 2 branches missed.">        boolean hadAdapter = mAdapter != null;</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3151)) {</span>
<span class="nc" id="L215">            mAdapter = adapter;</span>
        }
<span class="nc bnc" id="L217" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3156)) {</span>
<span class="nc bnc" id="L218" title="All 2 branches missed.">            if (mList != null) {</span>
<span class="nc bnc" id="L219" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3152)) {</span>
<span class="nc" id="L220">                    mList.setAdapter(adapter);</span>
                }
<span class="nc bnc" id="L222" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3155)) {</span>
<span class="nc bnc" id="L223" title="All 10 branches missed.">                    if ((ListenerUtil.mutListener.listen(3153) ? (!mListShown || !hadAdapter) : (!mListShown &amp;&amp; !hadAdapter))) {</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3154)) {</span>
                            // adapter.  It is now time to show it.
<span class="nc bnc" id="L226" title="All 2 branches missed.">                            setListShown(true, getView().getWindowToken() != null);</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L232">    }</span>

    /**
     * Set the currently selected list item to the specified
     * position with the adapter's data
     */
    public void setSelection(int position) {
<span class="nc bnc" id="L239" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3157)) {</span>
<span class="nc" id="L240">            ensureList();</span>
        }
<span class="nc bnc" id="L242" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3158)) {</span>
<span class="nc" id="L243">            mList.setSelection(position);</span>
        }
<span class="nc" id="L245">    }</span>

    /**
     * Get the position of the currently selected list item.
     */
    public int getSelectedItemPosition() {
<span class="nc bnc" id="L251" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3159)) {</span>
<span class="nc" id="L252">            ensureList();</span>
        }
<span class="nc" id="L254">        return mList.getSelectedItemPosition();</span>
    }

    /**
     * Get the cursor row ID of the currently selected list item.
     */
    public long getSelectedItemId() {
<span class="nc bnc" id="L261" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3160)) {</span>
<span class="nc" id="L262">            ensureList();</span>
        }
<span class="nc" id="L264">        return mList.getSelectedItemId();</span>
    }

    /**
     * Get the activity's list view widget.
     */
    public ListView getListView() {
<span class="nc bnc" id="L271" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3161)) {</span>
<span class="nc" id="L272">            ensureList();</span>
        }
<span class="nc" id="L274">        return mList;</span>
    }

    /**
     * The default content for a ListFragment has a TextView that can
     * be shown when the list is empty.  If you would like to have it
     * shown, call this method to supply the text it should use.
     */
    public void setEmptyText(CharSequence text) {
<span class="nc bnc" id="L283" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3162)) {</span>
<span class="nc" id="L284">            ensureList();</span>
        }
<span class="nc bnc" id="L286" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3163)) {</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">            if (mStandardEmptyView == null) {</span>
<span class="nc" id="L288">                throw new IllegalStateException(&quot;Can't be used with a custom content view&quot;);</span>
            }
        }
<span class="nc bnc" id="L291" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3164)) {</span>
<span class="nc" id="L292">            mStandardEmptyView.setText(text);</span>
        }
<span class="nc bnc" id="L294" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3166)) {</span>
<span class="nc bnc" id="L295" title="All 2 branches missed.">            if (mEmptyText == null) {</span>
<span class="nc bnc" id="L296" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3165)) {</span>
<span class="nc" id="L297">                    mList.setEmptyView(mStandardEmptyView);</span>
                }
            }
        }
<span class="nc bnc" id="L301" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3167)) {</span>
<span class="nc" id="L302">            mEmptyText = text;</span>
        }
<span class="nc" id="L304">    }</span>

    /**
     * Control whether the list is being displayed.  You can make it not
     * displayed if you are waiting for the initial data to show in it.  During
     * this time an indeterminant progress indicator will be shown instead.
     *
     * &lt;p&gt;Applications do not normally need to use this themselves.  The default
     * behavior of ListFragment is to start with the list not being shown, only
     * showing it once an adapter is given with {@link #setListAdapter(ListAdapter)}.
     * If the list at that point had not been shown, when it does get shown
     * it will be do without the user ever seeing the hidden state.
     *
     * @param shown If true, the list view is shown; if false, the progress
     *              indicator.  The initial value is true.
     */
    public void setListShown(boolean shown) {
<span class="nc bnc" id="L321" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3168)) {</span>
<span class="nc" id="L322">            setListShown(shown, true);</span>
        }
<span class="nc" id="L324">    }</span>

    /**
     * Like {@link #setListShown(boolean)}, but no animation is used when
     * transitioning from the previous state.
     */
    public void setListShownNoAnimation(boolean shown) {
<span class="nc bnc" id="L331" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3169)) {</span>
<span class="nc" id="L332">            setListShown(shown, false);</span>
        }
<span class="nc" id="L334">    }</span>

    /**
     * Control whether the list is being displayed.  You can make it not
     * displayed if you are waiting for the initial data to show in it.  During
     * this time an indeterminant progress indicator will be shown instead.
     *
     * @param shown   If true, the list view is shown; if false, the progress
     *                indicator.  The initial value is true.
     * @param animate If true, an animation will be used to transition to the
     *                new state.
     */
    private void setListShown(boolean shown, boolean animate) {
<span class="nc bnc" id="L347" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3170)) {</span>
<span class="nc" id="L348">            ensureList();</span>
        }
<span class="nc bnc" id="L350" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3171)) {</span>
<span class="nc bnc" id="L351" title="All 2 branches missed.">            if (mProgressContainer == null) {</span>
<span class="nc" id="L352">                throw new IllegalStateException(&quot;Can't be used with a custom content view&quot;);</span>
            }
        }
<span class="nc bnc" id="L355" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3172)) {</span>
<span class="nc bnc" id="L356" title="All 2 branches missed.">            if (mListShown == shown) {</span>
<span class="nc" id="L357">                return;</span>
            }
        }
<span class="nc bnc" id="L360" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3173)) {</span>
<span class="nc" id="L361">            mListShown = shown;</span>
        }
<span class="nc bnc" id="L363" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3188)) {</span>
<span class="nc bnc" id="L364" title="All 2 branches missed.">            if (shown) {</span>
<span class="nc bnc" id="L365" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3185)) {</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">                    if (animate) {</span>
<span class="nc bnc" id="L367" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3183)) {</span>
<span class="nc" id="L368">                            mProgressContainer.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_out));</span>
                        }
<span class="nc bnc" id="L370" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3184)) {</span>
<span class="nc" id="L371">                            mListContainer.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_in));</span>
                        }
                    } else {
<span class="nc bnc" id="L374" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3181)) {</span>
<span class="nc" id="L375">                            mProgressContainer.clearAnimation();</span>
                        }
<span class="nc bnc" id="L377" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3182)) {</span>
<span class="nc" id="L378">                            mListContainer.clearAnimation();</span>
                        }
                    }
                }
<span class="nc bnc" id="L382" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3186)) {</span>
<span class="nc" id="L383">                    mProgressContainer.setVisibility(View.GONE);</span>
                }
<span class="nc bnc" id="L385" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3187)) {</span>
<span class="nc" id="L386">                    mListContainer.setVisibility(View.VISIBLE);</span>
                }
            } else {
<span class="nc bnc" id="L389" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3178)) {</span>
<span class="nc bnc" id="L390" title="All 2 branches missed.">                    if (animate) {</span>
<span class="nc bnc" id="L391" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3176)) {</span>
<span class="nc" id="L392">                            mProgressContainer.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_in));</span>
                        }
<span class="nc bnc" id="L394" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3177)) {</span>
<span class="nc" id="L395">                            mListContainer.startAnimation(AnimationUtils.loadAnimation(getActivity(), android.R.anim.fade_out));</span>
                        }
                    } else {
<span class="nc bnc" id="L398" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3174)) {</span>
<span class="nc" id="L399">                            mProgressContainer.clearAnimation();</span>
                        }
<span class="nc bnc" id="L401" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3175)) {</span>
<span class="nc" id="L402">                            mListContainer.clearAnimation();</span>
                        }
                    }
                }
<span class="nc bnc" id="L406" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3179)) {</span>
<span class="nc" id="L407">                    mProgressContainer.setVisibility(View.VISIBLE);</span>
                }
<span class="nc bnc" id="L409" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3180)) {</span>
<span class="nc" id="L410">                    mListContainer.setVisibility(View.GONE);</span>
                }
            }
        }
<span class="nc" id="L414">    }</span>

    /**
     * Get the ListAdapter associated with this activity's ListView.
     */
    public ListAdapter getListAdapter() {
<span class="nc" id="L420">        return mAdapter;</span>
    }

    private void ensureList() {
<span class="nc bnc" id="L424" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3189)) {</span>
<span class="nc bnc" id="L425" title="All 2 branches missed.">            if (mList != null) {</span>
<span class="nc" id="L426">                return;</span>
            }
        }
<span class="nc" id="L429">        View root = getView();</span>
<span class="nc bnc" id="L430" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3190)) {</span>
<span class="nc bnc" id="L431" title="All 2 branches missed.">            if (root == null) {</span>
<span class="nc" id="L432">                throw new IllegalStateException(&quot;Content view not yet created&quot;);</span>
            }
        }
<span class="nc bnc" id="L435" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3209)) {</span>
<span class="nc bnc" id="L436" title="All 2 branches missed.">            if (root instanceof ListView) {</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3208)) {</span>
<span class="nc" id="L438">                    mList = (ListView) root;</span>
                }
            } else {
<span class="nc bnc" id="L441" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3191)) {</span>
<span class="nc" id="L442">                    mStandardEmptyView = (TextView) root.findViewById(R.id.internalEmpty);</span>
                }
<span class="nc bnc" id="L444" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3194)) {</span>
<span class="nc bnc" id="L445" title="All 2 branches missed.">                    if (mStandardEmptyView == null) {</span>
<span class="nc bnc" id="L446" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3193)) {</span>
<span class="nc" id="L447">                            mEmptyView = root.findViewById(android.R.id.empty);</span>
                        }
                    } else {
<span class="nc bnc" id="L450" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3192)) {</span>
<span class="nc" id="L451">                            mStandardEmptyView.setVisibility(View.GONE);</span>
                        }
                    }
                }
<span class="nc bnc" id="L455" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3195)) {</span>
<span class="nc" id="L456">                    mProgressContainer = root.findViewById(R.id.loading);</span>
                }
<span class="nc bnc" id="L458" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3196)) {</span>
<span class="nc" id="L459">                    mRefreshProgressContainer = root.findViewById(R.id.refresh_loading);</span>
                }
                // Set %50 transparency to progress bar
<span class="nc" id="L462">                ProgressBar progressBar = (ProgressBar) root.findViewById(R.id.refresh_progress_small);</span>
<span class="nc bnc" id="L463" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3199)) {</span>
<span class="nc bnc" id="L464" title="All 10 branches missed.">                    if ((ListenerUtil.mutListener.listen(3197) ? (progressBar != null || progressBar.getIndeterminateDrawable() != null) : (progressBar != null &amp;&amp; progressBar.getIndeterminateDrawable() != null))) {</span>
<span class="nc bnc" id="L465" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3198)) {</span>
<span class="nc" id="L466">                            progressBar.getIndeterminateDrawable().setAlpha(128);</span>
                        }
                    }
                }
<span class="nc bnc" id="L470" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3200)) {</span>
<span class="nc" id="L471">                    mListContainer = root.findViewById(R.id.listContainer);</span>
                }
<span class="nc" id="L473">                View rawListView = root.findViewById(android.R.id.list);</span>
<span class="nc bnc" id="L474" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3202)) {</span>
<span class="nc bnc" id="L475" title="All 2 branches missed.">                    if (!(rawListView instanceof ListView)) {</span>
<span class="nc bnc" id="L476" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3201)) {</span>
<span class="nc bnc" id="L477" title="All 2 branches missed.">                            if (rawListView == null) {</span>
<span class="nc" id="L478">                                throw new RuntimeException(&quot;Your content must have a ListView whose id attribute is &quot; + &quot;'android.R.id.list'&quot;);</span>
                            }
                        }
<span class="nc" id="L481">                        throw new RuntimeException(&quot;Content has view with id attribute 'android.R.id.list' &quot; + &quot;that is not a ListView class&quot;);</span>
                    }
                }
<span class="nc bnc" id="L484" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3203)) {</span>
<span class="nc" id="L485">                    mList = (ListView) rawListView;</span>
                }
<span class="nc bnc" id="L487" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3207)) {</span>
<span class="nc bnc" id="L488" title="All 2 branches missed.">                    if (mEmptyView != null) {</span>
<span class="nc bnc" id="L489" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3206)) {</span>
<span class="nc" id="L490">                            mList.setEmptyView(mEmptyView);</span>
                        }
<span class="nc bnc" id="L492" title="All 2 branches missed.">                    } else if (mEmptyText != null) {</span>
<span class="nc bnc" id="L493" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3204)) {</span>
<span class="nc" id="L494">                            mStandardEmptyView.setText(mEmptyText);</span>
                        }
<span class="nc bnc" id="L496" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3205)) {</span>
<span class="nc" id="L497">                            mList.setEmptyView(mStandardEmptyView);</span>
                        }
                    }
                }
            }
        }
<span class="nc bnc" id="L503" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3210)) {</span>
<span class="nc" id="L504">            mListShown = true;</span>
        }
<span class="nc bnc" id="L506" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3211)) {</span>
<span class="nc" id="L507">            mList.setOnItemClickListener(mOnClickListener);</span>
        }
<span class="nc bnc" id="L509" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3216)) {</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">            if (mAdapter != null) {</span>
<span class="nc" id="L511">                ListAdapter adapter = mAdapter;</span>
<span class="nc bnc" id="L512" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3214)) {</span>
<span class="nc" id="L513">                    mAdapter = null;</span>
                }
<span class="nc bnc" id="L515" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3215)) {</span>
<span class="nc" id="L516">                    setListAdapter(adapter);</span>
                }
<span class="nc" id="L518">            } else {</span>
<span class="nc bnc" id="L519" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3213)) {</span>
                    // have our data right away and start with the progress indicator.
<span class="nc bnc" id="L521" title="All 2 branches missed.">                    if (mProgressContainer != null) {</span>
<span class="nc bnc" id="L522" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3212)) {</span>
<span class="nc" id="L523">                            setListShown(false, false);</span>
                        }
                    }
                }
            }
        }
<span class="nc bnc" id="L529" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3217)) {</span>
<span class="nc" id="L530">            mHandler.post(mRequestFocus);</span>
        }
<span class="nc" id="L532">    }</span>

    protected void showProgress(boolean visibility) {
<span class="nc bnc" id="L535" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3218)) {</span>
<span class="nc bnc" id="L536" title="All 2 branches missed.">            if (mRefreshProgressContainer == null)</span>
<span class="nc" id="L537">                return;</span>
        }
<span class="nc bnc" id="L539" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3221)) {</span>
<span class="nc bnc" id="L540" title="All 2 branches missed.">            if (visibility) {</span>
<span class="nc bnc" id="L541" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3220)) {</span>
<span class="nc" id="L542">                    mRefreshProgressContainer.setVisibility(View.VISIBLE);</span>
                }
            } else {
<span class="nc bnc" id="L545" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3219)) {</span>
<span class="nc" id="L546">                    mRefreshProgressContainer.setVisibility(View.GONE);</span>
                }
            }
        }
<span class="nc" id="L550">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.2.0</div></body></html>