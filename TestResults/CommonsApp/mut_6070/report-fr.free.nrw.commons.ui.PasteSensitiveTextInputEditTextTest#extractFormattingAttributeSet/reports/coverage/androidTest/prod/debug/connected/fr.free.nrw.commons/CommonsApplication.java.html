<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CommonsApplication.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">prodDebug</a> &gt; <a href="index.source.html" class="el_package">fr.free.nrw.commons</a> &gt; <span class="el_source">CommonsApplication.java</span></div><h1>CommonsApplication.java</h1><pre class="source lang-java linenums">package fr.free.nrw.commons;

import static fr.free.nrw.commons.data.DBOpenHelper.CONTRIBUTIONS_TABLE;
import static org.acra.ReportField.ANDROID_VERSION;
import static org.acra.ReportField.APP_VERSION_CODE;
import static org.acra.ReportField.APP_VERSION_NAME;
import static org.acra.ReportField.PHONE_MODEL;
import static org.acra.ReportField.STACK_TRACE;
import static org.acra.ReportField.USER_COMMENT;
import android.annotation.SuppressLint;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteException;
import android.os.Build;
import android.os.Process;
import android.util.Log;
import androidx.annotation.NonNull;
import androidx.multidex.MultiDexApplication;
import com.facebook.drawee.backends.pipeline.Fresco;
import com.facebook.imagepipeline.core.ImagePipeline;
import com.facebook.imagepipeline.core.ImagePipelineConfig;
import com.mapbox.mapboxsdk.Mapbox;
import com.mapbox.mapboxsdk.WellKnownTileServer;
import fr.free.nrw.commons.auth.SessionManager;
import fr.free.nrw.commons.bookmarks.items.BookmarkItemsDao.Table;
import fr.free.nrw.commons.bookmarks.locations.BookmarkLocationsDao;
import fr.free.nrw.commons.bookmarks.pictures.BookmarkPicturesDao;
import fr.free.nrw.commons.category.CategoryDao;
import fr.free.nrw.commons.concurrency.BackgroundPoolExceptionHandler;
import fr.free.nrw.commons.concurrency.ThreadPoolService;
import fr.free.nrw.commons.contributions.ContributionDao;
import fr.free.nrw.commons.data.DBOpenHelper;
import fr.free.nrw.commons.di.ApplicationlessInjection;
import fr.free.nrw.commons.kvstore.JsonKvStore;
import fr.free.nrw.commons.logging.FileLoggingTree;
import fr.free.nrw.commons.logging.LogUtils;
import fr.free.nrw.commons.media.CustomOkHttpNetworkFetcher;
import fr.free.nrw.commons.settings.Prefs;
import fr.free.nrw.commons.upload.FileUtils;
import fr.free.nrw.commons.utils.ConfigUtils;
import fr.free.nrw.commons.wikidata.cookies.CommonsCookieJar;
import io.reactivex.Completable;
import io.reactivex.android.schedulers.AndroidSchedulers;
import io.reactivex.internal.functions.Functions;
import io.reactivex.plugins.RxJavaPlugins;
import io.reactivex.schedulers.Schedulers;
import java.io.File;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import javax.inject.Inject;
import javax.inject.Named;
import org.acra.ACRA;
import org.acra.annotation.AcraCore;
import org.acra.annotation.AcraDialog;
import org.acra.annotation.AcraMailSender;
import org.acra.data.StringFormat;
import org.wikipedia.language.AppLanguageLookUpTable;
import timber.log.Timber;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

@AcraCore(buildConfigClass = BuildConfig.class, resReportSendSuccessToast = R.string.crash_dialog_ok_toast, reportFormat = StringFormat.KEY_VALUE_LIST, reportContent = { USER_COMMENT, APP_VERSION_CODE, APP_VERSION_NAME, ANDROID_VERSION, PHONE_MODEL, STACK_TRACE })
@AcraMailSender(mailTo = &quot;commons-app-android-private@googlegroups.com&quot;, reportAsFile = false)
@AcraDialog(resTheme = R.style.Theme_AppCompat_Dialog, resText = R.string.crash_dialog_text, resTitle = R.string.crash_dialog_title, resCommentPrompt = R.string.crash_dialog_comment_prompt)
<span class="fc" id="L68">public class CommonsApplication extends MultiDexApplication {</span>

    public static final String IS_LIMITED_CONNECTION_MODE_ENABLED = &quot;is_limited_connection_mode_enabled&quot;;

    @Inject
    SessionManager sessionManager;

    @Inject
    DBOpenHelper dbOpenHelper;

    @Inject
    @Named(&quot;default_preferences&quot;)
    JsonKvStore defaultPrefs;

    @Inject
    CommonsCookieJar cookieJar;

    @Inject
    CustomOkHttpNetworkFetcher customOkHttpNetworkFetcher;

    /**
     * Constants begin
     */
    public static final int OPEN_APPLICATION_DETAIL_SETTINGS = 1001;

    public static final String DEFAULT_EDIT_SUMMARY = &quot;Uploaded using [[COM:MOA|Commons Mobile App]]&quot;;

    public static final String FEEDBACK_EMAIL = &quot;commons-app-android@googlegroups.com&quot;;

    public static final String FEEDBACK_EMAIL_SUBJECT = &quot;Commons Android App Feedback&quot;;

    public static final String REPORT_EMAIL = &quot;commons-app-android-private@googlegroups.com&quot;;

    public static final String REPORT_EMAIL_SUBJECT = &quot;Report a violation&quot;;

    public static final String NOTIFICATION_CHANNEL_ID_ALL = &quot;CommonsNotificationAll&quot;;

    public static final String FEEDBACK_EMAIL_TEMPLATE_HEADER = &quot;-- Technical information --&quot;;

    private static CommonsApplication INSTANCE;

    public static CommonsApplication getInstance() {
<span class="nc" id="L110">        return INSTANCE;</span>
    }

    private AppLanguageLookUpTable languageLookUpTable;

    public AppLanguageLookUpTable getLanguageLookUpTable() {
<span class="nc" id="L116">        return languageLookUpTable;</span>
    }

    @Inject
    ContributionDao contributionDao;

    /**
     *  In-memory list of contributions whose uploads have been paused by the user
     */
<span class="fc" id="L125">    public static Map&lt;String, Boolean&gt; pauseUploads = new HashMap&lt;&gt;();</span>

    /**
     *  In-memory list of uploads that have been cancelled by the user
     */
<span class="fc" id="L130">    public static HashSet&lt;String&gt; cancelledUploads = new HashSet&lt;&gt;();</span>

    /**
     * Used to declare and initialize various components and dependencies
     */
    @Override
    public void onCreate() {
<span class="pc bpc" id="L137" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9506)) {</span>
<span class="fc" id="L138">            super.onCreate();</span>
        }
<span class="pc bpc" id="L140" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9507)) {</span>
<span class="fc" id="L141">            INSTANCE = this;</span>
        }
<span class="pc bpc" id="L143" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9508)) {</span>
<span class="fc" id="L144">            ACRA.init(this);</span>
        }
<span class="pc bpc" id="L146" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9509)) {</span>
<span class="fc" id="L147">            Mapbox.getInstance(this, BuildConfig.MapboxAccessToken, WellKnownTileServer.Mapbox);</span>
        }
<span class="pc bpc" id="L149" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9510)) {</span>
<span class="fc" id="L150">            ApplicationlessInjection.getInstance(this).getCommonsApplicationComponent().inject(this);</span>
        }
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9511)) {</span>
<span class="fc" id="L153">            initTimber();</span>
        }
<span class="pc bpc" id="L155" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9516)) {</span>
<span class="pc bpc" id="L156" title="1 of 2 branches missed.">            if (!defaultPrefs.getBoolean(&quot;has_user_manually_removed_location&quot;)) {</span>
<span class="fc" id="L157">                Set&lt;String&gt; defaultExifTagsSet = defaultPrefs.getStringSet(Prefs.MANAGED_EXIF_TAGS);</span>
<span class="pc bpc" id="L158" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(9513)) {</span>
<span class="pc bpc" id="L159" title="1 of 2 branches missed.">                    if (null == defaultExifTagsSet) {</span>
<span class="nc bnc" id="L160" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(9512)) {</span>
<span class="nc" id="L161">                            defaultExifTagsSet = new HashSet&lt;&gt;();</span>
                        }
                    }
                }
<span class="pc bpc" id="L165" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(9514)) {</span>
<span class="fc" id="L166">                    defaultExifTagsSet.add(getString(R.string.exif_tag_location));</span>
                }
<span class="pc bpc" id="L168" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(9515)) {</span>
<span class="fc" id="L169">                    defaultPrefs.putStringSet(Prefs.MANAGED_EXIF_TAGS, defaultExifTagsSet);</span>
                }
            }
        }
        // Set DownsampleEnabled to True to downsample the image in case it's heavy
<span class="fc" id="L174">        ImagePipelineConfig config = ImagePipelineConfig.newBuilder(this).setNetworkFetcher(customOkHttpNetworkFetcher).setDownsampleEnabled(true).build();</span>
        try {
<span class="pc bpc" id="L176" title="1 of 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9518)) {</span>
<span class="fc" id="L177">                Fresco.initialize(this, config);</span>
            }
<span class="nc" id="L179">        } catch (Exception e) {</span>
<span class="nc bnc" id="L180" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9517)) {</span>
<span class="nc" id="L181">                Timber.e(e);</span>
            }
<span class="fc" id="L183">        }</span>
<span class="pc bpc" id="L184" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9519)) {</span>
<span class="fc" id="L185">            createNotificationChannel(this);</span>
        }
<span class="pc bpc" id="L187" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9520)) {</span>
<span class="fc" id="L188">            languageLookUpTable = new AppLanguageLookUpTable(this);</span>
        }
<span class="pc bpc" id="L190" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9521)) {</span>
            // or from Observables that are (deliberately or not) missing an onError handler.
<span class="fc" id="L192">            RxJavaPlugins.setErrorHandler(Functions.emptyConsumer());</span>
        }
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9522)) {</span>
            // Fire progress callbacks for every 3% of uploaded content
<span class="fc" id="L196">            System.setProperty(&quot;in.yuvi.http.fluent.PROGRESS_TRIGGER_THRESHOLD&quot;, &quot;3.0&quot;);</span>
        }
<span class="fc" id="L198">    }</span>

    /**
     * Plants debug and file logging tree. Timber lets you plant your own logging trees.
     */
    private void initTimber() {
<span class="fc" id="L204">        boolean isBeta = ConfigUtils.isBetaFlavour();</span>
<span class="pc bpc" id="L205" title="1 of 2 branches missed.">        String logFileName = isBeta ? &quot;CommonsBetaAppLogs&quot; : &quot;CommonsAppLogs&quot;;</span>
<span class="fc" id="L206">        String logDirectory = LogUtils.getLogDirectory();</span>
<span class="pc bpc" id="L207" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9523)) {</span>
            // Delete stale logs if they have exceeded the specified size
<span class="fc" id="L209">            deleteStaleLogs(logFileName, logDirectory);</span>
        }
<span class="fc" id="L211">        FileLoggingTree tree = new FileLoggingTree(Log.VERBOSE, logFileName, logDirectory, 1000, getFileLoggingThreadPool());</span>
<span class="pc bpc" id="L212" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9524)) {</span>
<span class="fc" id="L213">            Timber.plant(tree);</span>
        }
<span class="pc bpc" id="L215" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9525)) {</span>
<span class="fc" id="L216">            Timber.plant(new Timber.DebugTree());</span>
        }
<span class="fc" id="L218">    }</span>

    /**
     * Deletes the logs zip file at the specified directory and file locations specified in the
     * params
     *
     * @param logFileName
     * @param logDirectory
     */
    private void deleteStaleLogs(String logFileName, String logDirectory) {
        try {
<span class="fc" id="L229">            File file = new File(logDirectory + &quot;/zip/&quot; + logFileName + &quot;.zip&quot;);</span>
<span class="pc bpc" id="L230" title="1 of 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9534)) {</span>
<span class="pc bpc" id="L231" title="48 of 50 branches missed.">                if ((ListenerUtil.mutListener.listen(9532) ? (file.exists() || (ListenerUtil.mutListener.listen(9531) ? (file.getTotalSpace() &gt;= 1000000) : (ListenerUtil.mutListener.listen(9530) ? (file.getTotalSpace() &lt;= 1000000) : (ListenerUtil.mutListener.listen(9529) ? (file.getTotalSpace() &lt; 1000000) : (ListenerUtil.mutListener.listen(9528) ? (file.getTotalSpace() != 1000000) : (ListenerUtil.mutListener.listen(9527) ? (file.getTotalSpace() == 1000000) : (file.getTotalSpace() &gt; 1000000))))))) : (file.exists() &amp;&amp; (ListenerUtil.mutListener.listen(9531) ? (file.getTotalSpace() &gt;= 1000000) : (ListenerUtil.mutListener.listen(9530) ? (file.getTotalSpace() &lt;= 1000000) : (ListenerUtil.mutListener.listen(9529) ? (file.getTotalSpace() &lt; 1000000) : (ListenerUtil.mutListener.listen(9528) ? (file.getTotalSpace() != 1000000) : (ListenerUtil.mutListener.listen(9527) ? (file.getTotalSpace() == 1000000) : (file.getTotalSpace() &gt; 1000000))))))))) {</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(9533)) {</span>
                        // In Kbs
<span class="nc" id="L234">                        file.delete();</span>
                    }
                }
            }
<span class="nc" id="L238">        } catch (Exception e) {</span>
<span class="nc bnc" id="L239" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9526)) {</span>
<span class="nc" id="L240">                Timber.e(e);</span>
            }
<span class="fc" id="L242">        }</span>
<span class="fc" id="L243">    }</span>

    public static boolean isRoboUnitTest() {
<span class="nc" id="L246">        return &quot;robolectric&quot;.equals(Build.FINGERPRINT);</span>
    }

    private ThreadPoolService getFileLoggingThreadPool() {
<span class="fc" id="L250">        return new ThreadPoolService.Builder(&quot;file-logging-thread&quot;).setPriority(Process.THREAD_PRIORITY_LOWEST).setPoolSize(1).setExceptionHandler(new BackgroundPoolExceptionHandler()).build();</span>
    }

    public static void createNotificationChannel(@NonNull Context context) {
<span class="pc bpc" id="L254" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9543)) {</span>
<span class="pc bpc" id="L255" title="16 of 22 branches missed.">            if ((ListenerUtil.mutListener.listen(9539) ? (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.O) : (ListenerUtil.mutListener.listen(9538) ? (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) : (ListenerUtil.mutListener.listen(9537) ? (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) : (ListenerUtil.mutListener.listen(9536) ? (Build.VERSION.SDK_INT != Build.VERSION_CODES.O) : (ListenerUtil.mutListener.listen(9535) ? (Build.VERSION.SDK_INT == Build.VERSION_CODES.O) : (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O))))))) {</span>
<span class="fc" id="L256">                NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);</span>
<span class="fc" id="L257">                NotificationChannel channel = manager.getNotificationChannel(NOTIFICATION_CHANNEL_ID_ALL);</span>
<span class="pc bpc" id="L258" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(9542)) {</span>
<span class="pc bpc" id="L259" title="1 of 2 branches missed.">                    if (channel == null) {</span>
<span class="pc bpc" id="L260" title="1 of 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(9540)) {</span>
<span class="fc" id="L261">                            channel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_ALL, context.getString(R.string.notifications_channel_name_all), NotificationManager.IMPORTANCE_DEFAULT);</span>
                        }
<span class="pc bpc" id="L263" title="1 of 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(9541)) {</span>
<span class="fc" id="L264">                            manager.createNotificationChannel(channel);</span>
                        }
                    }
                }
            }
        }
<span class="fc" id="L270">    }</span>

    public String getUserAgent() {
<span class="nc" id="L273">        return &quot;Commons/&quot; + ConfigUtils.getVersionNameWithSha(this) + &quot; (https://mediawiki.org/wiki/Apps/Commons) Android/&quot; + Build.VERSION.RELEASE;</span>
    }

    /**
     * clears data of current application
     *
     * @param context        Application context
     * @param logoutListener Implementation of interface LogoutListener
     */
    @SuppressLint(&quot;CheckResult&quot;)
    public void clearApplicationData(Context context, LogoutListener logoutListener) {
<span class="nc" id="L284">        File cacheDirectory = context.getCacheDir();</span>
<span class="nc" id="L285">        File applicationDirectory = new File(cacheDirectory.getParent());</span>
<span class="nc bnc" id="L286" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9547)) {</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">            if (applicationDirectory.exists()) {</span>
<span class="nc" id="L288">                String[] fileNames = applicationDirectory.list();</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(9546)) {</span>
                    {
<span class="nc" id="L291">                        long _loopCounter162 = 0;</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">                        for (String fileName : fileNames) {</span>
<span class="nc" id="L293">                            ListenerUtil.loopListener.listen(&quot;_loopCounter162&quot;, ++_loopCounter162);</span>
<span class="nc bnc" id="L294" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(9545)) {</span>
<span class="nc bnc" id="L295" title="All 2 branches missed.">                                if (!fileName.equals(&quot;lib&quot;)) {</span>
<span class="nc bnc" id="L296" title="All 2 branches missed.">                                    if (!ListenerUtil.mutListener.listen(9544)) {</span>
<span class="nc" id="L297">                                        FileUtils.deleteFile(new File(applicationDirectory, fileName));</span>
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
<span class="nc bnc" id="L306" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9548)) {</span>
<span class="nc" id="L307">            sessionManager.logout().andThen(Completable.fromAction(() -&gt; {</span>
<span class="nc" id="L308">                Timber.d(&quot;All accounts have been removed&quot;);</span>
<span class="nc" id="L309">                clearImageCache();</span>
                // TODO: fix preference manager
<span class="nc" id="L311">                defaultPrefs.clearAll();</span>
<span class="nc" id="L312">                defaultPrefs.putBoolean(&quot;firstrun&quot;, false);</span>
<span class="nc" id="L313">                updateAllDatabases();</span>
<span class="nc" id="L314">            })).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribe(logoutListener::onLogoutComplete, Timber::e);</span>
        }
<span class="nc" id="L316">    }</span>

    /**
     * Clear all images cache held by Fresco
     */
    private void clearImageCache() {
<span class="nc" id="L322">        ImagePipeline imagePipeline = Fresco.getImagePipeline();</span>
<span class="nc bnc" id="L323" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9549)) {</span>
<span class="nc" id="L324">            imagePipeline.clearCaches();</span>
        }
<span class="nc" id="L326">    }</span>

    /**
     * Deletes all tables and re-creates them.
     */
    private void updateAllDatabases() {
<span class="nc bnc" id="L332" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9550)) {</span>
<span class="nc" id="L333">            dbOpenHelper.getReadableDatabase().close();</span>
        }
<span class="nc" id="L335">        SQLiteDatabase db = dbOpenHelper.getWritableDatabase();</span>
<span class="nc bnc" id="L336" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9551)) {</span>
<span class="nc" id="L337">            CategoryDao.Table.onDelete(db);</span>
        }
<span class="nc bnc" id="L339" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9552)) {</span>
<span class="nc" id="L340">            dbOpenHelper.deleteTable(db, // Delete the contributions table in the existing db on older versions</span>
            CONTRIBUTIONS_TABLE);
        }
        try {
<span class="nc bnc" id="L344" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9554)) {</span>
<span class="nc" id="L345">                contributionDao.deleteAll();</span>
            }
<span class="nc" id="L347">        } catch (SQLiteException e) {</span>
<span class="nc bnc" id="L348" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(9553)) {</span>
<span class="nc" id="L349">                Timber.e(e);</span>
            }
<span class="nc" id="L351">        }</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9555)) {</span>
<span class="nc" id="L353">            BookmarkPicturesDao.Table.onDelete(db);</span>
        }
<span class="nc bnc" id="L355" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9556)) {</span>
<span class="nc" id="L356">            BookmarkLocationsDao.Table.onDelete(db);</span>
        }
<span class="nc bnc" id="L358" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(9557)) {</span>
<span class="nc" id="L359">            Table.onDelete(db);</span>
        }
<span class="nc" id="L361">    }</span>

    /**
     * Interface used to get log-out events
     */
    public interface LogoutListener {

        void onLogoutComplete();
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.0.2</div></body></html>