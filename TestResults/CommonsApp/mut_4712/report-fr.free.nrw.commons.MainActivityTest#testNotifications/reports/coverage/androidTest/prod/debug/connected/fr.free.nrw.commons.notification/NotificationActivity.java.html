<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>NotificationActivity.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">prodDebug</a> &gt; <a href="index.source.html" class="el_package">fr.free.nrw.commons.notification</a> &gt; <span class="el_source">NotificationActivity.java</span></div><h1>NotificationActivity.java</h1><pre class="source lang-java linenums">package fr.free.nrw.commons.notification;

import android.annotation.SuppressLint;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.ProgressBar;
import android.widget.RelativeLayout;
import android.widget.TextView;
import android.widget.Toast;
import androidx.appcompat.widget.Toolbar;
import androidx.constraintlayout.widget.ConstraintLayout;
import androidx.recyclerview.widget.DividerItemDecoration;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import butterknife.BindView;
import butterknife.ButterKnife;
import com.google.android.material.snackbar.Snackbar;
import fr.free.nrw.commons.R;
import fr.free.nrw.commons.Utils;
import fr.free.nrw.commons.notification.models.Notification;
import fr.free.nrw.commons.theme.BaseActivity;
import fr.free.nrw.commons.utils.NetworkUtils;
import fr.free.nrw.commons.utils.ViewUtil;
import io.reactivex.Observable;
import io.reactivex.ObservableSource;
import io.reactivex.android.schedulers.AndroidSchedulers;
import io.reactivex.disposables.Disposable;
import io.reactivex.schedulers.Schedulers;
import java.util.Collections;
import java.util.List;
import java.util.concurrent.Callable;
import javax.inject.Inject;
import kotlin.Unit;
import timber.log.Timber;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

<span class="fc" id="L43">public class NotificationActivity extends BaseActivity {</span>

    @BindView(R.id.listView)
    RecyclerView recyclerView;

    @BindView(R.id.progressBar)
    ProgressBar progressBar;

    @BindView(R.id.container)
    RelativeLayout relativeLayout;

    @BindView(R.id.no_notification_background)
    ConstraintLayout no_notification;

    @BindView(R.id.no_notification_text)
    TextView noNotificationText;

    @BindView(R.id.toolbar)
    Toolbar toolbar;

    @Inject
    NotificationController controller;

    private static final String TAG_NOTIFICATION_WORKER_FRAGMENT = &quot;NotificationWorkerFragment&quot;;

    private NotificationWorkerFragment mNotificationWorkerFragment;

    private NotificatinAdapter adapter;

    private List&lt;Notification&gt; notificationList;

    MenuItem notificationMenuItem;

    /**
     * Boolean isRead is true if this notification activity is for read section of notification.
     */
    private boolean isRead;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
<span class="pc bpc" id="L83" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1485)) {</span>
<span class="fc" id="L84">            super.onCreate(savedInstanceState);</span>
        }
<span class="pc bpc" id="L86" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1486)) {</span>
<span class="fc" id="L87">            isRead = getIntent().getStringExtra(&quot;title&quot;).equals(&quot;read&quot;);</span>
        }
<span class="pc bpc" id="L89" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1487)) {</span>
<span class="fc" id="L90">            setContentView(R.layout.activity_notification);</span>
        }
<span class="pc bpc" id="L92" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1488)) {</span>
<span class="fc" id="L93">            ButterKnife.bind(this);</span>
        }
<span class="pc bpc" id="L95" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1489)) {</span>
<span class="fc" id="L96">            mNotificationWorkerFragment = (NotificationWorkerFragment) getFragmentManager().findFragmentByTag(TAG_NOTIFICATION_WORKER_FRAGMENT);</span>
        }
<span class="pc bpc" id="L98" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1490)) {</span>
<span class="fc" id="L99">            initListView();</span>
        }
<span class="pc bpc" id="L101" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1491)) {</span>
<span class="fc" id="L102">            setPageTitle();</span>
        }
<span class="pc bpc" id="L104" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1492)) {</span>
<span class="fc" id="L105">            setSupportActionBar(toolbar);</span>
        }
<span class="pc bpc" id="L107" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1493)) {</span>
<span class="fc" id="L108">            getSupportActionBar().setDisplayHomeAsUpEnabled(true);</span>
        }
<span class="fc" id="L110">    }</span>

    @Override
    public boolean onSupportNavigateUp() {
<span class="nc bnc" id="L114" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1494)) {</span>
<span class="nc" id="L115">            onBackPressed();</span>
        }
<span class="nc" id="L117">        return true;</span>
    }

    /**
     * If this is unread section of the notifications, removeNotification method
     *  Marks the notification as read,
     *  Removes the notification from unread,
     *  Displays the Snackbar.
     *
     * Otherwise returns (read section).
     *
     * @param notification
     */
    @SuppressLint(&quot;CheckResult&quot;)
    public void removeNotification(Notification notification) {
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1495)) {</span>
<span class="nc bnc" id="L133" title="All 2 branches missed.">            if (isRead) {</span>
<span class="nc" id="L134">                return;</span>
            }
        }
<span class="nc" id="L137">        Disposable disposable = Observable.defer((Callable&lt;ObservableSource&lt;Boolean&gt;&gt;) () -&gt; controller.markAsRead(notification)).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribe(result -&gt; {</span>
<span class="nc bnc" id="L138" title="All 2 branches missed.">            if (result) {</span>
<span class="nc" id="L139">                notificationList.remove(notification);</span>
<span class="nc" id="L140">                setItems(notificationList);</span>
<span class="nc" id="L141">                adapter.notifyDataSetChanged();</span>
<span class="nc" id="L142">                Snackbar snackbar = Snackbar.make(relativeLayout, getString(R.string.notification_mark_read), Snackbar.LENGTH_LONG);</span>
<span class="nc" id="L143">                snackbar.show();</span>
<span class="nc bnc" id="L144" title="All 2 branches missed.">                if (notificationList.size() == 0) {</span>
<span class="nc" id="L145">                    setEmptyView();</span>
<span class="nc" id="L146">                    relativeLayout.setVisibility(View.GONE);</span>
<span class="nc" id="L147">                    no_notification.setVisibility(View.VISIBLE);</span>
                }
<span class="nc" id="L149">            } else {</span>
<span class="nc" id="L150">                adapter.notifyDataSetChanged();</span>
<span class="nc" id="L151">                setItems(notificationList);</span>
<span class="nc" id="L152">                Toast.makeText(NotificationActivity.this, getString(R.string.some_error), Toast.LENGTH_SHORT).show();</span>
            }
<span class="nc" id="L154">        }, throwable -&gt; {</span>
<span class="nc" id="L155">            Timber.e(throwable, &quot;Error occurred while loading notifications&quot;);</span>
<span class="nc" id="L156">            throwable.printStackTrace();</span>
<span class="nc" id="L157">            ViewUtil.showShortSnackbar(relativeLayout, R.string.error_notifications);</span>
<span class="nc" id="L158">            progressBar.setVisibility(View.GONE);</span>
<span class="nc" id="L159">        });</span>
<span class="nc bnc" id="L160" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1496)) {</span>
<span class="nc" id="L161">            compositeDisposable.add(disposable);</span>
        }
<span class="nc" id="L163">    }</span>

    private void initListView() {
<span class="pc bpc" id="L166" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1497)) {</span>
<span class="fc" id="L167">            recyclerView.setLayoutManager(new LinearLayoutManager(this));</span>
        }
<span class="fc" id="L169">        DividerItemDecoration itemDecor = new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL);</span>
<span class="pc bpc" id="L170" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1498)) {</span>
<span class="fc" id="L171">            recyclerView.addItemDecoration(itemDecor);</span>
        }
<span class="pc bpc" id="L173" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1501)) {</span>
<span class="pc bpc" id="L174" title="1 of 2 branches missed.">            if (isRead) {</span>
<span class="nc bnc" id="L175" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1500)) {</span>
<span class="nc" id="L176">                    refresh(true);</span>
                }
            } else {
<span class="pc bpc" id="L179" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1499)) {</span>
<span class="fc" id="L180">                    refresh(false);</span>
                }
            }
        }
<span class="pc bpc" id="L184" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1502)) {</span>
<span class="fc" id="L185">            adapter = new NotificatinAdapter(item -&gt; {</span>
<span class="nc" id="L186">                Timber.d(&quot;Notification clicked %s&quot;, item.getLink());</span>
<span class="nc" id="L187">                handleUrl(item.getLink());</span>
<span class="nc" id="L188">                removeNotification(item);</span>
<span class="nc" id="L189">                return Unit.INSTANCE;</span>
            });
        }
<span class="pc bpc" id="L192" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1503)) {</span>
<span class="fc" id="L193">            recyclerView.setAdapter(this.adapter);</span>
        }
<span class="fc" id="L195">    }</span>

    private void refresh(boolean archived) {
<span class="pc bpc" id="L198" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1507)) {</span>
<span class="pc bpc" id="L199" title="1 of 2 branches missed.">            if (!NetworkUtils.isInternetConnectionEstablished(this)) {</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1505)) {</span>
<span class="nc" id="L201">                    progressBar.setVisibility(View.GONE);</span>
                }
<span class="nc bnc" id="L203" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1506)) {</span>
<span class="nc" id="L204">                    Snackbar.make(relativeLayout, R.string.no_internet, Snackbar.LENGTH_INDEFINITE).setAction(R.string.retry, view -&gt; refresh(archived)).show();</span>
                }
            } else {
<span class="pc bpc" id="L207" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1504)) {</span>
<span class="fc" id="L208">                    addNotifications(archived);</span>
                }
            }
        }
<span class="pc bpc" id="L212" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1508)) {</span>
<span class="fc" id="L213">            progressBar.setVisibility(View.VISIBLE);</span>
        }
<span class="pc bpc" id="L215" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1509)) {</span>
<span class="fc" id="L216">            no_notification.setVisibility(View.GONE);</span>
        }
<span class="pc bpc" id="L218" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1510)) {</span>
<span class="fc" id="L219">            relativeLayout.setVisibility(View.VISIBLE);</span>
        }
<span class="fc" id="L221">    }</span>

    @SuppressLint(&quot;CheckResult&quot;)
    private void addNotifications(boolean archived) {
<span class="pc bpc" id="L225" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1511)) {</span>
<span class="fc" id="L226">            Timber.d(&quot;Add notifications&quot;);</span>
        }
<span class="pc bpc" id="L228" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1516)) {</span>
<span class="pc bpc" id="L229" title="1 of 2 branches missed.">            if (mNotificationWorkerFragment == null) {</span>
<span class="pc bpc" id="L230" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1514)) {</span>
<span class="fc" id="L231">                    progressBar.setVisibility(View.VISIBLE);</span>
                }
<span class="pc bpc" id="L233" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1515)) {</span>
<span class="fc" id="L234">                    compositeDisposable.add(controller.getNotifications(archived).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribe(notificationList -&gt; {</span>
<span class="fc" id="L235">                        Collections.reverse(notificationList);</span>
<span class="fc" id="L236">                        Timber.d(&quot;Number of notifications is %d&quot;, notificationList.size());</span>
<span class="fc" id="L237">                        this.notificationList = notificationList;</span>
<span class="pc bpc" id="L238" title="1 of 2 branches missed.">                        if (notificationList.size() == 0) {</span>
<span class="nc" id="L239">                            setEmptyView();</span>
<span class="nc" id="L240">                            relativeLayout.setVisibility(View.GONE);</span>
<span class="nc" id="L241">                            no_notification.setVisibility(View.VISIBLE);</span>
                        } else {
<span class="fc" id="L243">                            setItems(notificationList);</span>
                        }
<span class="fc" id="L245">                        progressBar.setVisibility(View.GONE);</span>
<span class="fc" id="L246">                    }, throwable -&gt; {</span>
<span class="nc" id="L247">                        Timber.e(throwable, &quot;Error occurred while loading notifications&quot;);</span>
<span class="nc" id="L248">                        ViewUtil.showShortSnackbar(relativeLayout, R.string.error_notifications);</span>
<span class="nc" id="L249">                        progressBar.setVisibility(View.GONE);</span>
<span class="nc" id="L250">                    }));</span>
                }
            } else {
<span class="nc bnc" id="L253" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1512)) {</span>
<span class="nc" id="L254">                    notificationList = mNotificationWorkerFragment.getNotificationList();</span>
                }
<span class="nc bnc" id="L256" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1513)) {</span>
<span class="nc" id="L257">                    setItems(notificationList);</span>
                }
            }
        }
<span class="fc" id="L261">    }</span>

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
<span class="fc" id="L265">        MenuInflater inflater = getMenuInflater();</span>
<span class="pc bpc" id="L266" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1517)) {</span>
<span class="fc" id="L267">            inflater.inflate(R.menu.menu_notifications, menu);</span>
        }
<span class="pc bpc" id="L269" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1518)) {</span>
<span class="fc" id="L270">            notificationMenuItem = menu.findItem(R.id.archived);</span>
        }
<span class="pc bpc" id="L272" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1519)) {</span>
<span class="fc" id="L273">            setMenuItemTitle();</span>
        }
<span class="fc" id="L275">        return true;</span>
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle item selection
<span class="nc bnc" id="L281" title="All 2 branches missed.">        switch(item.getItemId()) {</span>
            case R.id.archived:
<span class="nc bnc" id="L283" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1522)) {</span>
<span class="nc bnc" id="L284" title="All 2 branches missed.">                    if (item.getTitle().equals(getString(R.string.menu_option_read))) {</span>
<span class="nc bnc" id="L285" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(1521)) {</span>
<span class="nc" id="L286">                            NotificationActivity.startYourself(NotificationActivity.this, &quot;read&quot;);</span>
                        }
<span class="nc bnc" id="L288" title="All 2 branches missed.">                    } else if (item.getTitle().equals(getString(R.string.menu_option_unread))) {</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(1520)) {</span>
<span class="nc" id="L290">                            onBackPressed();</span>
                        }
                    }
                }
<span class="nc" id="L294">                return true;</span>
            default:
<span class="nc" id="L296">                return super.onOptionsItemSelected(item);</span>
        }
    }

    private void handleUrl(String url) {
<span class="nc bnc" id="L301" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1524)) {</span>
<span class="nc bnc" id="L302" title="All 10 branches missed.">            if ((ListenerUtil.mutListener.listen(1523) ? (url == null &amp;&amp; url.equals(&quot;&quot;)) : (url == null || url.equals(&quot;&quot;)))) {</span>
<span class="nc" id="L303">                return;</span>
            }
        }
<span class="nc bnc" id="L306" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1525)) {</span>
<span class="nc" id="L307">            Utils.handleWebUrl(this, Uri.parse(url));</span>
        }
<span class="nc" id="L309">    }</span>

    private void setItems(List&lt;Notification&gt; notificationList) {
<span class="pc bpc" id="L312" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1531)) {</span>
<span class="pc bpc" id="L313" title="7 of 10 branches missed.">            if ((ListenerUtil.mutListener.listen(1526) ? (notificationList == null &amp;&amp; notificationList.isEmpty()) : (notificationList == null || notificationList.isEmpty()))) {</span>
<span class="nc bnc" id="L314" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1527)) {</span>
<span class="nc" id="L315">                    ViewUtil.showShortSnackbar(relativeLayout, R.string.no_notifications);</span>
                }
<span class="nc bnc" id="L317" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1528)) {</span>
                    /*progressBar.setVisibility(View.GONE);
            recyclerView.setVisibility(View.GONE);*/
<span class="nc" id="L320">                    relativeLayout.setVisibility(View.GONE);</span>
                }
<span class="nc bnc" id="L322" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1529)) {</span>
<span class="nc" id="L323">                    setEmptyView();</span>
                }
<span class="nc bnc" id="L325" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1530)) {</span>
<span class="nc" id="L326">                    no_notification.setVisibility(View.VISIBLE);</span>
                }
<span class="nc" id="L328">                return;</span>
            }
        }
<span class="pc bpc" id="L331" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1532)) {</span>
<span class="fc" id="L332">            relativeLayout.setVisibility(View.VISIBLE);</span>
        }
<span class="pc bpc" id="L334" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1533)) {</span>
<span class="fc" id="L335">            no_notification.setVisibility(View.GONE);</span>
        }
<span class="pc bpc" id="L337" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1534)) {</span>
<span class="fc" id="L338">            adapter.setItems(notificationList);</span>
        }
<span class="fc" id="L340">    }</span>

    public static void startYourself(Context context, String title) {
<span class="fc" id="L343">        Intent intent = new Intent(context, NotificationActivity.class);</span>
<span class="pc bpc" id="L344" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1535)) {</span>
<span class="fc" id="L345">            intent.putExtra(&quot;title&quot;, title);</span>
        }
<span class="pc bpc" id="L347" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1536)) {</span>
<span class="fc" id="L348">            context.startActivity(intent);</span>
        }
<span class="fc" id="L350">    }</span>

    private void setPageTitle() {
<span class="pc bpc" id="L353" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1540)) {</span>
<span class="pc bpc" id="L354" title="1 of 2 branches missed.">            if (getSupportActionBar() != null) {</span>
<span class="nc bnc" id="L355" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1539)) {</span>
<span class="nc bnc" id="L356" title="All 2 branches missed.">                    if (isRead) {</span>
<span class="nc bnc" id="L357" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(1538)) {</span>
<span class="nc" id="L358">                            getSupportActionBar().setTitle(R.string.read_notifications);</span>
                        }
                    } else {
<span class="nc bnc" id="L361" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(1537)) {</span>
<span class="nc" id="L362">                            getSupportActionBar().setTitle(R.string.notifications);</span>
                        }
                    }
                }
            }
        }
<span class="fc" id="L368">    }</span>

    private void setEmptyView() {
<span class="nc bnc" id="L371" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1543)) {</span>
<span class="nc bnc" id="L372" title="All 2 branches missed.">            if (isRead) {</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1542)) {</span>
<span class="nc" id="L374">                    noNotificationText.setText(R.string.no_read_notification);</span>
                }
            } else {
<span class="nc bnc" id="L377" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1541)) {</span>
<span class="nc" id="L378">                    noNotificationText.setText(R.string.no_notification);</span>
                }
            }
        }
<span class="nc" id="L382">    }</span>

    private void setMenuItemTitle() {
<span class="pc bpc" id="L385" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(1546)) {</span>
<span class="pc bpc" id="L386" title="1 of 2 branches missed.">            if (isRead) {</span>
<span class="nc bnc" id="L387" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1545)) {</span>
<span class="nc" id="L388">                    notificationMenuItem.setTitle(R.string.menu_option_unread);</span>
                }
            } else {
<span class="pc bpc" id="L391" title="1 of 2 branches missed.">                if (!ListenerUtil.mutListener.listen(1544)) {</span>
<span class="fc" id="L392">                    notificationMenuItem.setTitle(R.string.menu_option_read);</span>
                }
            }
        }
<span class="fc" id="L396">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.0.2</div></body></html>