<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ViewUtil.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">prodDebug</a> &gt; <a href="index.source.html" class="el_package">fr.free.nrw.commons.utils</a> &gt; <span class="el_source">ViewUtil.java</span></div><h1>ViewUtil.java</h1><pre class="source lang-java linenums">package fr.free.nrw.commons.utils;

import android.app.Activity;
import android.content.Context;
import android.view.Display;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.Toast;
import androidx.annotation.StringRes;
import com.google.android.material.snackbar.Snackbar;
import timber.log.Timber;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

<span class="nc" id="L14">public class ViewUtil {</span>

    /**
     * Utility function to show short snack bar
     * @param view
     * @param messageResourceId
     */
    public static void showShortSnackbar(View view, int messageResourceId) {
<span class="pc bpc" id="L22" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2596)) {</span>
<span class="pc bpc" id="L23" title="1 of 2 branches missed.">            if (view.getContext() == null) {</span>
<span class="nc" id="L24">                return;</span>
            }
        }
<span class="pc bpc" id="L27" title="1 of 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2597)) {</span>
<span class="fc" id="L28">            ExecutorUtils.uiExecutor().execute(() -&gt; {</span>
                try {
<span class="fc" id="L30">                    Snackbar.make(view, messageResourceId, Snackbar.LENGTH_SHORT).show();</span>
<span class="nc" id="L31">                } catch (IllegalStateException e) {</span>
<span class="nc" id="L32">                    Timber.e(e.getMessage());</span>
<span class="fc" id="L33">                }</span>
<span class="fc" id="L34">            });</span>
        }
<span class="fc" id="L36">    }</span>

    public static void showLongToast(Context context, String text) {
<span class="nc bnc" id="L39" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2598)) {</span>
<span class="nc bnc" id="L40" title="All 2 branches missed.">            if (context == null) {</span>
<span class="nc" id="L41">                return;</span>
            }
        }
<span class="nc bnc" id="L44" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2599)) {</span>
<span class="nc" id="L45">            ExecutorUtils.uiExecutor().execute(() -&gt; Toast.makeText(context, text, Toast.LENGTH_LONG).show());</span>
        }
<span class="nc" id="L47">    }</span>

    public static void showLongToast(Context context, @StringRes int stringResourceId) {
<span class="nc bnc" id="L50" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2600)) {</span>
<span class="nc bnc" id="L51" title="All 2 branches missed.">            if (context == null) {</span>
<span class="nc" id="L52">                return;</span>
            }
        }
<span class="nc bnc" id="L55" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2601)) {</span>
<span class="nc" id="L56">            ExecutorUtils.uiExecutor().execute(() -&gt; Toast.makeText(context, context.getString(stringResourceId), Toast.LENGTH_LONG).show());</span>
        }
<span class="nc" id="L58">    }</span>

    public static void showShortToast(Context context, String text) {
<span class="nc bnc" id="L61" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2602)) {</span>
<span class="nc bnc" id="L62" title="All 2 branches missed.">            if (context == null) {</span>
<span class="nc" id="L63">                return;</span>
            }
        }
<span class="nc bnc" id="L66" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2603)) {</span>
<span class="nc" id="L67">            ExecutorUtils.uiExecutor().execute(() -&gt; Toast.makeText(context, text, Toast.LENGTH_SHORT).show());</span>
        }
<span class="nc" id="L69">    }</span>

    public static void showShortToast(Context context, @StringRes int stringResourceId) {
<span class="nc bnc" id="L72" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2604)) {</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">            if (context == null) {</span>
<span class="nc" id="L74">                return;</span>
            }
        }
<span class="nc bnc" id="L77" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2605)) {</span>
<span class="nc" id="L78">            ExecutorUtils.uiExecutor().execute(() -&gt; Toast.makeText(context, context.getString(stringResourceId), Toast.LENGTH_SHORT).show());</span>
        }
<span class="nc" id="L80">    }</span>

    public static boolean isPortrait(Context context) {
<span class="nc" id="L83">        Display orientation = ((Activity) context).getWindowManager().getDefaultDisplay();</span>
<span class="nc bnc" id="L84" title="All 22 branches missed.">        if ((ListenerUtil.mutListener.listen(2610) ? (orientation.getWidth() &gt;= orientation.getHeight()) : (ListenerUtil.mutListener.listen(2609) ? (orientation.getWidth() &lt;= orientation.getHeight()) : (ListenerUtil.mutListener.listen(2608) ? (orientation.getWidth() &gt; orientation.getHeight()) : (ListenerUtil.mutListener.listen(2607) ? (orientation.getWidth() != orientation.getHeight()) : (ListenerUtil.mutListener.listen(2606) ? (orientation.getWidth() == orientation.getHeight()) : (orientation.getWidth() &lt; orientation.getHeight()))))))) {</span>
<span class="nc" id="L85">            return true;</span>
        } else {
<span class="nc" id="L87">            return false;</span>
        }
    }

    public static void hideKeyboard(View view) {
<span class="nc bnc" id="L92" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2614)) {</span>
<span class="nc bnc" id="L93" title="All 2 branches missed.">            if (view != null) {</span>
<span class="nc" id="L94">                InputMethodManager manager = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(2611)) {</span>
<span class="nc" id="L96">                    view.clearFocus();</span>
                }
<span class="nc bnc" id="L98" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(2613)) {</span>
<span class="nc bnc" id="L99" title="All 2 branches missed.">                    if (manager != null) {</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(2612)) {</span>
<span class="nc" id="L101">                            manager.hideSoftInputFromWindow(view.getWindowToken(), 0);</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L107">    }</span>

    /**
     * A snack bar which has an action button which on click dismisses the snackbar and invokes the
     * listener passed
     */
    public static void showDismissibleSnackBar(View view, int messageResourceId, int actionButtonResourceId, View.OnClickListener onClickListener) {
<span class="nc bnc" id="L114" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2615)) {</span>
<span class="nc bnc" id="L115" title="All 2 branches missed.">            if (view.getContext() == null) {</span>
<span class="nc" id="L116">                return;</span>
            }
        }
<span class="nc bnc" id="L119" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(2616)) {</span>
<span class="nc" id="L120">            ExecutorUtils.uiExecutor().execute(() -&gt; {</span>
<span class="nc" id="L121">                Snackbar snackbar = Snackbar.make(view, view.getContext().getString(messageResourceId), Snackbar.LENGTH_INDEFINITE);</span>
<span class="nc" id="L122">                snackbar.setAction(view.getContext().getString(actionButtonResourceId), v -&gt; {</span>
<span class="nc" id="L123">                    snackbar.dismiss();</span>
<span class="nc" id="L124">                    onClickListener.onClick(v);</span>
<span class="nc" id="L125">                });</span>
<span class="nc" id="L126">                snackbar.show();</span>
<span class="nc" id="L127">            });</span>
        }
<span class="nc" id="L129">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.0.2</div></body></html>