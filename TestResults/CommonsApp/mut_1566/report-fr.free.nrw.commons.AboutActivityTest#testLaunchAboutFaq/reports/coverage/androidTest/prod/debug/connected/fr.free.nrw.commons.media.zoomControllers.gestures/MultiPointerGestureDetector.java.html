<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MultiPointerGestureDetector.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">prodDebug</a> &gt; <a href="index.source.html" class="el_package">fr.free.nrw.commons.media.zoomControllers.gestures</a> &gt; <span class="el_source">MultiPointerGestureDetector.java</span></div><h1>MultiPointerGestureDetector.java</h1><pre class="source lang-java linenums">package fr.free.nrw.commons.media.zoomControllers.gestures;

import android.view.MotionEvent;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

/**
 * Component that detects and tracks multiple pointers based on touch events.
 *
 * Each time a pointer gets pressed or released, the current gesture (if any) will end, and a new
 * one will be started (if there are still pressed pointers left). It is guaranteed that the number
 * of pointers within the single gesture will remain the same during the whole gesture.
 */
public class MultiPointerGestureDetector {

    /**
     * The listener for receiving notifications when gestures occur.
     */
    public interface Listener {

        /**
         * A callback called right before the gesture is about to start.
         */
        public void onGestureBegin(MultiPointerGestureDetector detector);

        /**
         * A callback called each time the gesture gets updated.
         */
        public void onGestureUpdate(MultiPointerGestureDetector detector);

        /**
         * A callback called right after the gesture has finished.
         */
        public void onGestureEnd(MultiPointerGestureDetector detector);
    }

    private static final int MAX_POINTERS = 2;

    private boolean mGestureInProgress;

    private int mPointerCount;

    private int mNewPointerCount;

<span class="nc" id="L44">    private final int[] mId = new int[MAX_POINTERS];</span>

<span class="nc" id="L46">    private final float[] mStartX = new float[MAX_POINTERS];</span>

<span class="nc" id="L48">    private final float[] mStartY = new float[MAX_POINTERS];</span>

<span class="nc" id="L50">    private final float[] mCurrentX = new float[MAX_POINTERS];</span>

<span class="nc" id="L52">    private final float[] mCurrentY = new float[MAX_POINTERS];</span>

<span class="nc" id="L54">    private Listener mListener = null;</span>

<span class="nc" id="L56">    public MultiPointerGestureDetector() {</span>
<span class="nc bnc" id="L57" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8540)) {</span>
<span class="nc" id="L58">            reset();</span>
        }
<span class="nc" id="L60">    }</span>

    /**
     * Factory method that creates a new instance of MultiPointerGestureDetector
     */
    public static MultiPointerGestureDetector newInstance() {
<span class="nc" id="L66">        return new MultiPointerGestureDetector();</span>
    }

    /**
     * Sets the listener.
     *
     * @param listener listener to set
     */
    public void setListener(Listener listener) {
<span class="nc bnc" id="L75" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8541)) {</span>
<span class="nc" id="L76">            mListener = listener;</span>
        }
<span class="nc" id="L78">    }</span>

    /**
     * Resets the component to the initial state.
     */
    public void reset() {
<span class="nc bnc" id="L84" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8542)) {</span>
<span class="nc" id="L85">            mGestureInProgress = false;</span>
        }
<span class="nc bnc" id="L87" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8543)) {</span>
<span class="nc" id="L88">            mPointerCount = 0;</span>
        }
<span class="nc bnc" id="L90" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8550)) {</span>
            {
<span class="nc" id="L92">                long _loopCounter141 = 0;</span>
<span class="nc bnc" id="L93" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8549) ? (i &gt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8548) ? (i &lt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8547) ? (i &gt; MAX_POINTERS) : (ListenerUtil.mutListener.listen(8546) ? (i != MAX_POINTERS) : (ListenerUtil.mutListener.listen(8545) ? (i == MAX_POINTERS) : (i &lt; MAX_POINTERS)))))); i++) {</span>
<span class="nc" id="L94">                    ListenerUtil.loopListener.listen(&quot;_loopCounter141&quot;, ++_loopCounter141);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8544)) {</span>
<span class="nc" id="L96">                        mId[i] = MotionEvent.INVALID_POINTER_ID;</span>
                    }
                }
            }
        }
<span class="nc" id="L101">    }</span>

    /**
     * This method can be overridden in order to perform threshold check or something similar.
     *
     * @return whether or not to start a new gesture
     */
    protected boolean shouldStartGesture() {
<span class="nc" id="L109">        return true;</span>
    }

    /**
     * Starts a new gesture and calls the listener just before starting it.
     */
    private void startGesture() {
<span class="nc bnc" id="L116" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8554)) {</span>
<span class="nc bnc" id="L117" title="All 2 branches missed.">            if (!mGestureInProgress) {</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8552)) {</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">                    if (mListener != null) {</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8551)) {</span>
<span class="nc" id="L121">                            mListener.onGestureBegin(this);</span>
                        }
                    }
                }
<span class="nc bnc" id="L125" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8553)) {</span>
<span class="nc" id="L126">                    mGestureInProgress = true;</span>
                }
            }
        }
<span class="nc" id="L130">    }</span>

    /**
     * Stops the current gesture and calls the listener right after stopping it.
     */
    private void stopGesture() {
<span class="nc bnc" id="L136" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8558)) {</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">            if (mGestureInProgress) {</span>
<span class="nc bnc" id="L138" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8555)) {</span>
<span class="nc" id="L139">                    mGestureInProgress = false;</span>
                }
<span class="nc bnc" id="L141" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8557)) {</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">                    if (mListener != null) {</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8556)) {</span>
<span class="nc" id="L144">                            mListener.onGestureEnd(this);</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L150">    }</span>

    /**
     * Gets the index of the i-th pressed pointer. Normally, the index will be equal to i, except in
     * the case when the pointer is released.
     *
     * @return index of the specified pointer or -1 if not found (i.e. not enough pointers are down)
     */
    private int getPressedPointerIndex(MotionEvent event, int i) {
<span class="nc" id="L159">        final int count = event.getPointerCount();</span>
<span class="nc" id="L160">        final int action = event.getActionMasked();</span>
<span class="nc" id="L161">        final int index = event.getActionIndex();</span>
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8567)) {</span>
<span class="nc bnc" id="L163" title="All 10 branches missed.">            if ((ListenerUtil.mutListener.listen(8559) ? (action == MotionEvent.ACTION_UP &amp;&amp; action == MotionEvent.ACTION_POINTER_UP) : (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_POINTER_UP))) {</span>
<span class="nc bnc" id="L164" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8566)) {</span>
<span class="nc bnc" id="L165" title="All 22 branches missed.">                    if ((ListenerUtil.mutListener.listen(8564) ? (i &lt;= index) : (ListenerUtil.mutListener.listen(8563) ? (i &gt; index) : (ListenerUtil.mutListener.listen(8562) ? (i &lt; index) : (ListenerUtil.mutListener.listen(8561) ? (i != index) : (ListenerUtil.mutListener.listen(8560) ? (i == index) : (i &gt;= index))))))) {</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8565)) {</span>
<span class="nc" id="L167">                            i++;</span>
                        }
                    }
                }
            }
        }
<span class="nc bnc" id="L173" title="All 22 branches missed.">        return ((ListenerUtil.mutListener.listen(8572) ? (i &gt;= count) : (ListenerUtil.mutListener.listen(8571) ? (i &lt;= count) : (ListenerUtil.mutListener.listen(8570) ? (i &gt; count) : (ListenerUtil.mutListener.listen(8569) ? (i != count) : (ListenerUtil.mutListener.listen(8568) ? (i == count) : (i &lt; count))))))) ? i : -1;</span>
    }

    /**
     * Gets the number of pressed pointers (fingers down).
     */
    private static int getPressedPointerCount(MotionEvent event) {
<span class="nc" id="L180">        int count = event.getPointerCount();</span>
<span class="nc" id="L181">        int action = event.getActionMasked();</span>
<span class="nc bnc" id="L182" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8575)) {</span>
<span class="nc bnc" id="L183" title="All 10 branches missed.">            if ((ListenerUtil.mutListener.listen(8573) ? (action == MotionEvent.ACTION_UP &amp;&amp; action == MotionEvent.ACTION_POINTER_UP) : (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_POINTER_UP))) {</span>
<span class="nc bnc" id="L184" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(8574)) {</span>
<span class="nc" id="L185">                    count--;</span>
                }
            }
        }
<span class="nc" id="L189">        return count;</span>
    }

    private void updatePointersOnTap(MotionEvent event) {
<span class="nc bnc" id="L193" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8576)) {</span>
<span class="nc" id="L194">            mPointerCount = 0;</span>
        }
<span class="nc bnc" id="L196" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8593)) {</span>
            {
<span class="nc" id="L198">                long _loopCounter142 = 0;</span>
<span class="nc bnc" id="L199" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8592) ? (i &gt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8591) ? (i &lt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8590) ? (i &gt; MAX_POINTERS) : (ListenerUtil.mutListener.listen(8589) ? (i != MAX_POINTERS) : (ListenerUtil.mutListener.listen(8588) ? (i == MAX_POINTERS) : (i &lt; MAX_POINTERS)))))); i++) {</span>
<span class="nc" id="L200">                    ListenerUtil.loopListener.listen(&quot;_loopCounter142&quot;, ++_loopCounter142);</span>
<span class="nc" id="L201">                    int index = getPressedPointerIndex(event, i);</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8587)) {</span>
<span class="nc bnc" id="L203" title="All 22 branches missed.">                        if ((ListenerUtil.mutListener.listen(8581) ? (index &gt;= -1) : (ListenerUtil.mutListener.listen(8580) ? (index &lt;= -1) : (ListenerUtil.mutListener.listen(8579) ? (index &gt; -1) : (ListenerUtil.mutListener.listen(8578) ? (index &lt; -1) : (ListenerUtil.mutListener.listen(8577) ? (index != -1) : (index == -1))))))) {</span>
<span class="nc bnc" id="L204" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8586)) {</span>
<span class="nc" id="L205">                                mId[i] = MotionEvent.INVALID_POINTER_ID;</span>
                            }
                        } else {
<span class="nc bnc" id="L208" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8582)) {</span>
<span class="nc" id="L209">                                mId[i] = event.getPointerId(index);</span>
                            }
<span class="nc bnc" id="L211" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8583)) {</span>
<span class="nc" id="L212">                                mCurrentX[i] = mStartX[i] = event.getX(index);</span>
                            }
<span class="nc bnc" id="L214" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8584)) {</span>
<span class="nc" id="L215">                                mCurrentY[i] = mStartY[i] = event.getY(index);</span>
                            }
<span class="nc bnc" id="L217" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8585)) {</span>
<span class="nc" id="L218">                                mPointerCount++;</span>
                            }
                        }
                    }
                }
            }
        }
<span class="nc" id="L225">    }</span>

    private void updatePointersOnMove(MotionEvent event) {
<span class="nc bnc" id="L228" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8607)) {</span>
            {
<span class="nc" id="L230">                long _loopCounter143 = 0;</span>
<span class="nc bnc" id="L231" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8606) ? (i &gt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8605) ? (i &lt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8604) ? (i &gt; MAX_POINTERS) : (ListenerUtil.mutListener.listen(8603) ? (i != MAX_POINTERS) : (ListenerUtil.mutListener.listen(8602) ? (i == MAX_POINTERS) : (i &lt; MAX_POINTERS)))))); i++) {</span>
<span class="nc" id="L232">                    ListenerUtil.loopListener.listen(&quot;_loopCounter143&quot;, ++_loopCounter143);</span>
<span class="nc" id="L233">                    int index = event.findPointerIndex(mId[i]);</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8601)) {</span>
<span class="nc bnc" id="L235" title="All 22 branches missed.">                        if ((ListenerUtil.mutListener.listen(8598) ? (index &gt;= -1) : (ListenerUtil.mutListener.listen(8597) ? (index &lt;= -1) : (ListenerUtil.mutListener.listen(8596) ? (index &gt; -1) : (ListenerUtil.mutListener.listen(8595) ? (index &lt; -1) : (ListenerUtil.mutListener.listen(8594) ? (index == -1) : (index != -1))))))) {</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8599)) {</span>
<span class="nc" id="L237">                                mCurrentX[i] = event.getX(index);</span>
                            }
<span class="nc bnc" id="L239" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(8600)) {</span>
<span class="nc" id="L240">                                mCurrentY[i] = event.getY(index);</span>
                            }
                        }
                    }
                }
            }
        }
<span class="nc" id="L247">    }</span>

    /**
     * Handles the given motion event.
     *
     * @param event event to handle
     * @return whether or not the event was handled
     */
    public boolean onTouchEvent(final MotionEvent event) {
<span class="nc bnc" id="L256" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8635)) {</span>
<span class="nc bnc" id="L257" title="All 4 branches missed.">            switch(event.getActionMasked()) {</span>
                case MotionEvent.ACTION_MOVE:
                    {
<span class="nc bnc" id="L260" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8608)) {</span>
                            // update pointers
<span class="nc" id="L262">                            updatePointersOnMove(event);</span>
                        }
<span class="nc bnc" id="L264" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8617)) {</span>
                            // start a new gesture if not already started
<span class="nc bnc" id="L266" title="All 106 branches missed.">                            if ((ListenerUtil.mutListener.listen(8615) ? ((ListenerUtil.mutListener.listen(8614) ? (!mGestureInProgress || (ListenerUtil.mutListener.listen(8613) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8612) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8611) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8610) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8609) ? (mPointerCount == 0) : (mPointerCount &gt; 0))))))) : (!mGestureInProgress &amp;&amp; (ListenerUtil.mutListener.listen(8613) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8612) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8611) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8610) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8609) ? (mPointerCount == 0) : (mPointerCount &gt; 0)))))))) || shouldStartGesture()) : ((ListenerUtil.mutListener.listen(8614) ? (!mGestureInProgress || (ListenerUtil.mutListener.listen(8613) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8612) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8611) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8610) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8609) ? (mPointerCount == 0) : (mPointerCount &gt; 0))))))) : (!mGestureInProgress &amp;&amp; (ListenerUtil.mutListener.listen(8613) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8612) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8611) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8610) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8609) ? (mPointerCount == 0) : (mPointerCount &gt; 0)))))))) &amp;&amp; shouldStartGesture()))) {</span>
<span class="nc bnc" id="L267" title="All 2 branches missed.">                                if (!ListenerUtil.mutListener.listen(8616)) {</span>
<span class="nc" id="L268">                                    startGesture();</span>
                                }
                            }
                        }
<span class="nc bnc" id="L272" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8620)) {</span>
                            // notify listener
<span class="nc bnc" id="L274" title="All 10 branches missed.">                            if ((ListenerUtil.mutListener.listen(8618) ? (mGestureInProgress || mListener != null) : (mGestureInProgress &amp;&amp; mListener != null))) {</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">                                if (!ListenerUtil.mutListener.listen(8619)) {</span>
<span class="nc" id="L276">                                    mListener.onGestureUpdate(this);</span>
                                }
                            }
                        }
                        break;
                    }
                case MotionEvent.ACTION_DOWN:
                case MotionEvent.ACTION_POINTER_DOWN:
                case MotionEvent.ACTION_POINTER_UP:
                case MotionEvent.ACTION_UP:
                    {
<span class="nc bnc" id="L287" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8621)) {</span>
                            // restart gesture whenever the number of pointers changes
<span class="nc" id="L289">                            mNewPointerCount = getPressedPointerCount(event);</span>
                        }
<span class="nc bnc" id="L291" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8622)) {</span>
<span class="nc" id="L292">                            stopGesture();</span>
                        }
<span class="nc bnc" id="L294" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8623)) {</span>
<span class="nc" id="L295">                            updatePointersOnTap(event);</span>
                        }
<span class="nc bnc" id="L297" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8631)) {</span>
<span class="nc bnc" id="L298" title="All 50 branches missed.">                            if ((ListenerUtil.mutListener.listen(8629) ? ((ListenerUtil.mutListener.listen(8628) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8627) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8626) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8625) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8624) ? (mPointerCount == 0) : (mPointerCount &gt; 0)))))) || shouldStartGesture()) : ((ListenerUtil.mutListener.listen(8628) ? (mPointerCount &gt;= 0) : (ListenerUtil.mutListener.listen(8627) ? (mPointerCount &lt;= 0) : (ListenerUtil.mutListener.listen(8626) ? (mPointerCount &lt; 0) : (ListenerUtil.mutListener.listen(8625) ? (mPointerCount != 0) : (ListenerUtil.mutListener.listen(8624) ? (mPointerCount == 0) : (mPointerCount &gt; 0)))))) &amp;&amp; shouldStartGesture()))) {</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">                                if (!ListenerUtil.mutListener.listen(8630)) {</span>
<span class="nc" id="L300">                                    startGesture();</span>
                                }
                            }
                        }
                        break;
                    }
                case MotionEvent.ACTION_CANCEL:
                    {
<span class="nc bnc" id="L308" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8632)) {</span>
<span class="nc" id="L309">                            mNewPointerCount = 0;</span>
                        }
<span class="nc bnc" id="L311" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8633)) {</span>
<span class="nc" id="L312">                            stopGesture();</span>
                        }
<span class="nc bnc" id="L314" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(8634)) {</span>
<span class="nc" id="L315">                            reset();</span>
                        }
                        break;
                    }
            }
        }
<span class="nc" id="L321">        return true;</span>
    }

    /**
     * Restarts the current gesture (if any).
     */
    public void restartGesture() {
<span class="nc bnc" id="L328" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8636)) {</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">            if (!mGestureInProgress) {</span>
<span class="nc" id="L330">                return;</span>
            }
        }
<span class="nc bnc" id="L333" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8637)) {</span>
<span class="nc" id="L334">            stopGesture();</span>
        }
<span class="nc bnc" id="L336" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8645)) {</span>
            {
<span class="nc" id="L338">                long _loopCounter144 = 0;</span>
<span class="nc bnc" id="L339" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8644) ? (i &gt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8643) ? (i &lt;= MAX_POINTERS) : (ListenerUtil.mutListener.listen(8642) ? (i &gt; MAX_POINTERS) : (ListenerUtil.mutListener.listen(8641) ? (i != MAX_POINTERS) : (ListenerUtil.mutListener.listen(8640) ? (i == MAX_POINTERS) : (i &lt; MAX_POINTERS)))))); i++) {</span>
<span class="nc" id="L340">                    ListenerUtil.loopListener.listen(&quot;_loopCounter144&quot;, ++_loopCounter144);</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8638)) {</span>
<span class="nc" id="L342">                        mStartX[i] = mCurrentX[i];</span>
                    }
<span class="nc bnc" id="L344" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8639)) {</span>
<span class="nc" id="L345">                        mStartY[i] = mCurrentY[i];</span>
                    }
                }
            }
        }
<span class="nc bnc" id="L350" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8646)) {</span>
<span class="nc" id="L351">            startGesture();</span>
        }
<span class="nc" id="L353">    }</span>

    /**
     * Gets whether there is a gesture in progress
     */
    public boolean isGestureInProgress() {
<span class="nc" id="L359">        return mGestureInProgress;</span>
    }

    /**
     * Gets the number of pointers after the current gesture
     */
    public int getNewPointerCount() {
<span class="nc" id="L366">        return mNewPointerCount;</span>
    }

    /**
     * Gets the number of pointers in the current gesture
     */
    public int getPointerCount() {
<span class="nc" id="L373">        return mPointerCount;</span>
    }

    /**
     * Gets the start X coordinates for the all pointers Mutable array is exposed for performance
     * reasons and is not to be modified by the callers.
     */
    public float[] getStartX() {
<span class="nc" id="L381">        return mStartX;</span>
    }

    /**
     * Gets the start Y coordinates for the all pointers Mutable array is exposed for performance
     * reasons and is not to be modified by the callers.
     */
    public float[] getStartY() {
<span class="nc" id="L389">        return mStartY;</span>
    }

    /**
     * Gets the current X coordinates for the all pointers Mutable array is exposed for performance
     * reasons and is not to be modified by the callers.
     */
    public float[] getCurrentX() {
<span class="nc" id="L397">        return mCurrentX;</span>
    }

    /**
     * Gets the current Y coordinates for the all pointers Mutable array is exposed for performance
     * reasons and is not to be modified by the callers.
     */
    public float[] getCurrentY() {
<span class="nc" id="L405">        return mCurrentY;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.0.2</div></body></html>