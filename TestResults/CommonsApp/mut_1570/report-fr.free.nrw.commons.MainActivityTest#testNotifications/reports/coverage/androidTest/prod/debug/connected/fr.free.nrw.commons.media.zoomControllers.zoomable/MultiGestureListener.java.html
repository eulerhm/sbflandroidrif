<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MultiGestureListener.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">prodDebug</a> &gt; <a href="index.source.html" class="el_package">fr.free.nrw.commons.media.zoomControllers.zoomable</a> &gt; <span class="el_source">MultiGestureListener.java</span></div><h1>MultiGestureListener.java</h1><pre class="source lang-java linenums">package fr.free.nrw.commons.media.zoomControllers.zoomable;

import android.view.GestureDetector;
import android.view.MotionEvent;
import java.util.ArrayList;
import java.util.List;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

/**
 * Gesture listener that allows multiple child listeners to be added and notified about gesture
 * events.
 *
 * NOTE: The order of the listeners is important. Listeners can consume gesture events. For
 * example, if one of the child listeners consumes {@link #onLongPress(MotionEvent)} (the listener
 * returned true), subsequent listeners will not be notified about the event any more since it has
 * been consumed.
 */
<span class="nc" id="L18">public class MultiGestureListener extends GestureDetector.SimpleOnGestureListener {</span>

<span class="nc" id="L20">    private final List&lt;GestureDetector.SimpleOnGestureListener&gt; mListeners = new ArrayList&lt;&gt;();</span>

    /**
     * Adds a listener to the multi gesture listener.
     *
     * &lt;p&gt;NOTE: The order of the listeners is important since gesture events can be consumed.
     *
     * @param listener the listener to be added
     */
    public synchronized void addListener(GestureDetector.SimpleOnGestureListener listener) {
<span class="nc bnc" id="L30" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8464)) {</span>
<span class="nc" id="L31">            mListeners.add(listener);</span>
        }
<span class="nc" id="L33">    }</span>

    /**
     * Removes the given listener so that it will not be notified about future events.
     *
     * &lt;p&gt;NOTE: The order of the listeners is important since gesture events can be consumed.
     *
     * @param listener the listener to remove
     */
    public synchronized void removeListener(GestureDetector.SimpleOnGestureListener listener) {
<span class="nc bnc" id="L43" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8465)) {</span>
<span class="nc" id="L44">            mListeners.remove(listener);</span>
        }
<span class="nc" id="L46">    }</span>

    @Override
    public synchronized boolean onSingleTapUp(MotionEvent e) {
<span class="nc" id="L50">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L51" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8472)) {</span>
            {
<span class="nc" id="L53">                long _loopCounter131 = 0;</span>
<span class="nc bnc" id="L54" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8471) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8470) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8469) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8468) ? (i != size) : (ListenerUtil.mutListener.listen(8467) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L55">                    ListenerUtil.loopListener.listen(&quot;_loopCounter131&quot;, ++_loopCounter131);</span>
<span class="nc bnc" id="L56" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8466)) {</span>
<span class="nc bnc" id="L57" title="All 2 branches missed.">                        if (mListeners.get(i).onSingleTapUp(e)) {</span>
<span class="nc" id="L58">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L64">        return false;</span>
    }

    @Override
    public synchronized void onLongPress(MotionEvent e) {
<span class="nc" id="L69">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8479)) {</span>
            {
<span class="nc" id="L72">                long _loopCounter132 = 0;</span>
<span class="nc bnc" id="L73" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8478) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8477) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8476) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8475) ? (i != size) : (ListenerUtil.mutListener.listen(8474) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L74">                    ListenerUtil.loopListener.listen(&quot;_loopCounter132&quot;, ++_loopCounter132);</span>
<span class="nc bnc" id="L75" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8473)) {</span>
<span class="nc" id="L76">                        mListeners.get(i).onLongPress(e);</span>
                    }
                }
            }
        }
<span class="nc" id="L81">    }</span>

    @Override
    public synchronized boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
<span class="nc" id="L85">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8486)) {</span>
            {
<span class="nc" id="L88">                long _loopCounter133 = 0;</span>
<span class="nc bnc" id="L89" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8485) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8484) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8483) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8482) ? (i != size) : (ListenerUtil.mutListener.listen(8481) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L90">                    ListenerUtil.loopListener.listen(&quot;_loopCounter133&quot;, ++_loopCounter133);</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8480)) {</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">                        if (mListeners.get(i).onScroll(e1, e2, distanceX, distanceY)) {</span>
<span class="nc" id="L93">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L99">        return false;</span>
    }

    @Override
    public synchronized boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
<span class="nc" id="L104">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8493)) {</span>
            {
<span class="nc" id="L107">                long _loopCounter134 = 0;</span>
<span class="nc bnc" id="L108" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8492) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8491) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8490) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8489) ? (i != size) : (ListenerUtil.mutListener.listen(8488) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L109">                    ListenerUtil.loopListener.listen(&quot;_loopCounter134&quot;, ++_loopCounter134);</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8487)) {</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">                        if (mListeners.get(i).onFling(e1, e2, velocityX, velocityY)) {</span>
<span class="nc" id="L112">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L118">        return false;</span>
    }

    @Override
    public synchronized void onShowPress(MotionEvent e) {
<span class="nc" id="L123">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8500)) {</span>
            {
<span class="nc" id="L126">                long _loopCounter135 = 0;</span>
<span class="nc bnc" id="L127" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8499) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8498) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8497) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8496) ? (i != size) : (ListenerUtil.mutListener.listen(8495) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L128">                    ListenerUtil.loopListener.listen(&quot;_loopCounter135&quot;, ++_loopCounter135);</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8494)) {</span>
<span class="nc" id="L130">                        mListeners.get(i).onShowPress(e);</span>
                    }
                }
            }
        }
<span class="nc" id="L135">    }</span>

    @Override
    public synchronized boolean onDown(MotionEvent e) {
<span class="nc" id="L139">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L140" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8507)) {</span>
            {
<span class="nc" id="L142">                long _loopCounter136 = 0;</span>
<span class="nc bnc" id="L143" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8506) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8505) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8504) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8503) ? (i != size) : (ListenerUtil.mutListener.listen(8502) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L144">                    ListenerUtil.loopListener.listen(&quot;_loopCounter136&quot;, ++_loopCounter136);</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8501)) {</span>
<span class="nc bnc" id="L146" title="All 2 branches missed.">                        if (mListeners.get(i).onDown(e)) {</span>
<span class="nc" id="L147">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L153">        return false;</span>
    }

    @Override
    public synchronized boolean onDoubleTap(MotionEvent e) {
<span class="nc" id="L158">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8514)) {</span>
            {
<span class="nc" id="L161">                long _loopCounter137 = 0;</span>
<span class="nc bnc" id="L162" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8513) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8512) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8511) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8510) ? (i != size) : (ListenerUtil.mutListener.listen(8509) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L163">                    ListenerUtil.loopListener.listen(&quot;_loopCounter137&quot;, ++_loopCounter137);</span>
<span class="nc bnc" id="L164" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8508)) {</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">                        if (mListeners.get(i).onDoubleTap(e)) {</span>
<span class="nc" id="L166">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L172">        return false;</span>
    }

    @Override
    public synchronized boolean onDoubleTapEvent(MotionEvent e) {
<span class="nc" id="L177">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8521)) {</span>
            {
<span class="nc" id="L180">                long _loopCounter138 = 0;</span>
<span class="nc bnc" id="L181" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8520) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8519) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8518) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8517) ? (i != size) : (ListenerUtil.mutListener.listen(8516) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L182">                    ListenerUtil.loopListener.listen(&quot;_loopCounter138&quot;, ++_loopCounter138);</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8515)) {</span>
<span class="nc bnc" id="L184" title="All 2 branches missed.">                        if (mListeners.get(i).onDoubleTapEvent(e)) {</span>
<span class="nc" id="L185">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L191">        return false;</span>
    }

    @Override
    public synchronized boolean onSingleTapConfirmed(MotionEvent e) {
<span class="nc" id="L196">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8528)) {</span>
            {
<span class="nc" id="L199">                long _loopCounter139 = 0;</span>
<span class="nc bnc" id="L200" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8527) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8526) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8525) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8524) ? (i != size) : (ListenerUtil.mutListener.listen(8523) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L201">                    ListenerUtil.loopListener.listen(&quot;_loopCounter139&quot;, ++_loopCounter139);</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8522)) {</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">                        if (mListeners.get(i).onSingleTapConfirmed(e)) {</span>
<span class="nc" id="L204">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L210">        return false;</span>
    }

    @Override
    public synchronized boolean onContextClick(MotionEvent e) {
<span class="nc" id="L215">        final int size = mListeners.size();</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(8535)) {</span>
            {
<span class="nc" id="L218">                long _loopCounter140 = 0;</span>
<span class="nc bnc" id="L219" title="All 22 branches missed.">                for (int i = 0; (ListenerUtil.mutListener.listen(8534) ? (i &gt;= size) : (ListenerUtil.mutListener.listen(8533) ? (i &lt;= size) : (ListenerUtil.mutListener.listen(8532) ? (i &gt; size) : (ListenerUtil.mutListener.listen(8531) ? (i != size) : (ListenerUtil.mutListener.listen(8530) ? (i == size) : (i &lt; size)))))); i++) {</span>
<span class="nc" id="L220">                    ListenerUtil.loopListener.listen(&quot;_loopCounter140&quot;, ++_loopCounter140);</span>
<span class="nc bnc" id="L221" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(8529)) {</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">                        if (mListeners.get(i).onContextClick(e)) {</span>
<span class="nc" id="L223">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L229">        return false;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>Generated by the Android Gradle plugin 8.0.2</div></body></html>