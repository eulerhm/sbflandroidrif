<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ChartBuilder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">AnkiDroid</a> &gt; <a href="index.source.html" class="el_package">com.ichi2.anki.stats</a> &gt; <span class="el_source">ChartBuilder.java</span></div><h1>ChartBuilder.java</h1><pre class="source lang-java linenums">/**
 * *************************************************************************************
 *  Copyright (c) 2014 Michael Goldbach &lt;michael@m-goldbach.net&gt;                         *
 *                                                                                       *
 *  This program is free software; you can redistribute it and/or modify it under        *
 *  the terms of the GNU General Public License as published by the Free Software        *
 *  Foundation; either version 3 of the License, or (at your option) any later           *
 *  version.                                                                             *
 *                                                                                       *
 *  This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
 *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
 *  PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
 *                                                                                       *
 *  You should have received a copy of the GNU General Public License along with         *
 *  this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.                           *
 * **************************************************************************************
 */
package com.ichi2.anki.stats;

import android.graphics.Paint;
import com.ichi2.anki.R;
import com.ichi2.libanki.Collection;
import com.ichi2.libanki.stats.Stats;
import com.ichi2.themes.Themes;
import com.wildplot.android.rendering.BarGraph;
import com.wildplot.android.rendering.LegendDrawable;
import com.wildplot.android.rendering.Lines;
import com.wildplot.android.rendering.PieChart;
import com.wildplot.android.rendering.PlotSheet;
import com.wildplot.android.rendering.XAxis;
import com.wildplot.android.rendering.XGrid;
import com.wildplot.android.rendering.YAxis;
import com.wildplot.android.rendering.YGrid;
import com.wildplot.android.rendering.graphics.wrapper.ColorWrap;
import com.wildplot.android.rendering.graphics.wrapper.RectangleWrap;
import timber.log.Timber;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

public class ChartBuilder {

    private static final float BAR_OPACITY = 0.7f;

    private static final double STARTING_BAR_THICKNESS = 0.6;

    private static final double Y_AXIS_STRETCH_FACTOR = 1.05;

    private final Stats.ChartType mChartType;

    private final long mDeckId;

    private final ChartView mChartView;

    private final Collection mCollectionData;

<span class="nc" id="L55">    int mMaxCards = 0;</span>

    private boolean mBackwards;

    private int[] mValueLabels;

    private int[] mColors;

    private int[] mAxisTitles;

    private double[][] mSeriesList;

<span class="nc" id="L67">    private double mLastElement = 0;</span>

<span class="nc" id="L69">    private double[][] mCumulative = null;</span>

    private double mFirstElement;

    private boolean mHasColoredCumulative;

    private double mMcount;

    private boolean mDynamicAxis;

<span class="nc" id="L79">    public ChartBuilder(ChartView chartView, Collection collectionData, long deckId, Stats.ChartType chartType) {</span>
<span class="nc" id="L80">        mChartView = chartView;</span>
<span class="nc" id="L81">        mCollectionData = collectionData;</span>
<span class="nc" id="L82">        mDeckId = deckId;</span>
<span class="nc" id="L83">        mChartType = chartType;</span>
<span class="nc" id="L84">    }</span>

    private void calcStats(Stats.AxisType type) {
<span class="nc" id="L87">        Stats stats = new Stats(mCollectionData, mDeckId);</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3311)) {</span>
<span class="nc bnc" id="L89" title="All 9 branches missed.">            switch(mChartType) {</span>
                case FORECAST:
<span class="nc bnc" id="L91" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3303)) {</span>
<span class="nc" id="L92">                        stats.calculateDue(mChartView.getContext(), type);</span>
                    }
                    break;
                case REVIEW_COUNT:
<span class="nc bnc" id="L96" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3304)) {</span>
<span class="nc" id="L97">                        stats.calculateReviewCount(type);</span>
                    }
                    break;
                case REVIEW_TIME:
<span class="nc bnc" id="L101" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3305)) {</span>
<span class="nc" id="L102">                        stats.calculateReviewTime(type);</span>
                    }
                    break;
                case INTERVALS:
<span class="nc bnc" id="L106" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3306)) {</span>
<span class="nc" id="L107">                        stats.calculateIntervals(mChartView.getContext(), type);</span>
                    }
                    break;
                case HOURLY_BREAKDOWN:
<span class="nc bnc" id="L111" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3307)) {</span>
<span class="nc" id="L112">                        stats.calculateBreakdown(type);</span>
                    }
                    break;
                case WEEKLY_BREAKDOWN:
<span class="nc bnc" id="L116" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3308)) {</span>
<span class="nc" id="L117">                        stats.calculateWeeklyBreakdown(type);</span>
                    }
                    break;
                case ANSWER_BUTTONS:
<span class="nc bnc" id="L121" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3309)) {</span>
<span class="nc" id="L122">                        stats.calculateAnswerButtons(type);</span>
                    }
                    break;
                case CARDS_TYPES:
<span class="nc bnc" id="L126" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3310)) {</span>
<span class="nc" id="L127">                        stats.calculateCardTypes(type);</span>
                    }
                    break;
            }
        }
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3312)) {</span>
<span class="nc" id="L133">            mCumulative = stats.getCumulative();</span>
        }
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3313)) {</span>
<span class="nc" id="L136">            mSeriesList = stats.getSeriesList();</span>
        }
<span class="nc" id="L138">        Object[] metaData = stats.getMetaInfo();</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3314)) {</span>
<span class="nc" id="L140">            mBackwards = (Boolean) metaData[2];</span>
        }
<span class="nc bnc" id="L142" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3315)) {</span>
<span class="nc" id="L143">            mValueLabels = (int[]) metaData[3];</span>
        }
<span class="nc bnc" id="L145" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3316)) {</span>
<span class="nc" id="L146">            mColors = (int[]) metaData[4];</span>
        }
<span class="nc bnc" id="L148" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3317)) {</span>
<span class="nc" id="L149">            mAxisTitles = (int[]) metaData[5];</span>
        }
<span class="nc bnc" id="L151" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3318)) {</span>
<span class="nc" id="L152">            mMaxCards = (Integer) metaData[7];</span>
        }
<span class="nc bnc" id="L154" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3319)) {</span>
<span class="nc" id="L155">            mLastElement = (Double) metaData[10];</span>
        }
<span class="nc bnc" id="L157" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3320)) {</span>
<span class="nc" id="L158">            mFirstElement = (Double) metaData[9];</span>
        }
<span class="nc bnc" id="L160" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3321)) {</span>
<span class="nc" id="L161">            mHasColoredCumulative = (Boolean) metaData[19];</span>
        }
<span class="nc bnc" id="L163" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3322)) {</span>
<span class="nc" id="L164">            mMcount = (Double) metaData[18];</span>
        }
<span class="nc bnc" id="L166" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3323)) {</span>
<span class="nc" id="L167">            mDynamicAxis = (Boolean) metaData[20];</span>
        }
<span class="nc" id="L169">    }</span>

    public PlotSheet renderChart(Stats.AxisType type) {
<span class="nc bnc" id="L172" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3324)) {</span>
<span class="nc" id="L173">            calcStats(type);</span>
        }
<span class="nc" id="L175">        Paint paint = new Paint(Paint.LINEAR_TEXT_FLAG | Paint.ANTI_ALIAS_FLAG);</span>
<span class="nc bnc" id="L176" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3325)) {</span>
<span class="nc" id="L177">            paint.setStyle(Paint.Style.STROKE);</span>
        }
<span class="nc" id="L179">        int height = mChartView.getMeasuredHeight();</span>
<span class="nc" id="L180">        int width = mChartView.getMeasuredWidth();</span>
<span class="nc bnc" id="L181" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3326)) {</span>
<span class="nc" id="L182">            Timber.d(&quot;height: %d, width: %d, %d&quot;, height, width, mChartView.getWidth());</span>
        }
<span class="nc bnc" id="L184" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3338)) {</span>
<span class="nc bnc" id="L185" title="All 90 branches missed.">            if ((ListenerUtil.mutListener.listen(3337) ? ((ListenerUtil.mutListener.listen(3331) ? (height &gt;= 0) : (ListenerUtil.mutListener.listen(3330) ? (height &gt; 0) : (ListenerUtil.mutListener.listen(3329) ? (height &lt; 0) : (ListenerUtil.mutListener.listen(3328) ? (height != 0) : (ListenerUtil.mutListener.listen(3327) ? (height == 0) : (height &lt;= 0)))))) &amp;&amp; (ListenerUtil.mutListener.listen(3336) ? (width &gt;= 0) : (ListenerUtil.mutListener.listen(3335) ? (width &gt; 0) : (ListenerUtil.mutListener.listen(3334) ? (width &lt; 0) : (ListenerUtil.mutListener.listen(3333) ? (width != 0) : (ListenerUtil.mutListener.listen(3332) ? (width == 0) : (width &lt;= 0))))))) : ((ListenerUtil.mutListener.listen(3331) ? (height &gt;= 0) : (ListenerUtil.mutListener.listen(3330) ? (height &gt; 0) : (ListenerUtil.mutListener.listen(3329) ? (height &lt; 0) : (ListenerUtil.mutListener.listen(3328) ? (height != 0) : (ListenerUtil.mutListener.listen(3327) ? (height == 0) : (height &lt;= 0)))))) || (ListenerUtil.mutListener.listen(3336) ? (width &gt;= 0) : (ListenerUtil.mutListener.listen(3335) ? (width &gt; 0) : (ListenerUtil.mutListener.listen(3334) ? (width &lt; 0) : (ListenerUtil.mutListener.listen(3333) ? (width != 0) : (ListenerUtil.mutListener.listen(3332) ? (width == 0) : (width &lt;= 0))))))))) {</span>
<span class="nc" id="L186">                return null;</span>
            }
        }
<span class="nc" id="L189">        RectangleWrap rect = new RectangleWrap(width, height);</span>
<span class="nc bnc" id="L190" title="All 8 branches missed.">        float textSize = (ListenerUtil.mutListener.listen(3342) ? (AnkiStatsTaskHandler.getInstance().getmStandardTextSize() % 0.85f) : (ListenerUtil.mutListener.listen(3341) ? (AnkiStatsTaskHandler.getInstance().getmStandardTextSize() / 0.85f) : (ListenerUtil.mutListener.listen(3340) ? (AnkiStatsTaskHandler.getInstance().getmStandardTextSize() - 0.85f) : (ListenerUtil.mutListener.listen(3339) ? (AnkiStatsTaskHandler.getInstance().getmStandardTextSize() + 0.85f) : (AnkiStatsTaskHandler.getInstance().getmStandardTextSize() * 0.85f)))));</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3343)) {</span>
<span class="nc" id="L192">            paint.setTextSize(textSize);</span>
        }
<span class="nc" id="L194">        float FontHeight = paint.getTextSize();</span>
<span class="nc bnc" id="L195" title="All 8 branches missed.">        int desiredPixelDistanceBetweenTicks = Math.round((ListenerUtil.mutListener.listen(3347) ? (paint.measureText(&quot;100000&quot;) % 2.6f) : (ListenerUtil.mutListener.listen(3346) ? (paint.measureText(&quot;100000&quot;) / 2.6f) : (ListenerUtil.mutListener.listen(3345) ? (paint.measureText(&quot;100000&quot;) - 2.6f) : (ListenerUtil.mutListener.listen(3344) ? (paint.measureText(&quot;100000&quot;) + 2.6f) : (paint.measureText(&quot;100000&quot;) * 2.6f))))));</span>
<span class="nc bnc" id="L196" title="All 8 branches missed.">        int frameThickness = Math.round((ListenerUtil.mutListener.listen(3351) ? (FontHeight % 4.0f) : (ListenerUtil.mutListener.listen(3350) ? (FontHeight / 4.0f) : (ListenerUtil.mutListener.listen(3349) ? (FontHeight - 4.0f) : (ListenerUtil.mutListener.listen(3348) ? (FontHeight + 4.0f) : (FontHeight * 4.0f))))));</span>
<span class="nc bnc" id="L197" title="All 24 branches missed.">        PlotSheet plotSheet = new PlotSheet((ListenerUtil.mutListener.listen(3355) ? (mFirstElement % 0.5) : (ListenerUtil.mutListener.listen(3354) ? (mFirstElement / 0.5) : (ListenerUtil.mutListener.listen(3353) ? (mFirstElement * 0.5) : (ListenerUtil.mutListener.listen(3352) ? (mFirstElement + 0.5) : (mFirstElement - 0.5))))), (ListenerUtil.mutListener.listen(3359) ? (mLastElement % 0.5) : (ListenerUtil.mutListener.listen(3358) ? (mLastElement / 0.5) : (ListenerUtil.mutListener.listen(3357) ? (mLastElement * 0.5) : (ListenerUtil.mutListener.listen(3356) ? (mLastElement - 0.5) : (mLastElement + 0.5))))), 0, (ListenerUtil.mutListener.listen(3363) ? (mMaxCards % Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3362) ? (mMaxCards / Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3361) ? (mMaxCards - Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3360) ? (mMaxCards + Y_AXIS_STRETCH_FACTOR) : (mMaxCards * Y_AXIS_STRETCH_FACTOR))))));</span>
<span class="nc bnc" id="L198" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3376)) {</span>
<span class="nc bnc" id="L199" title="All 24 branches missed.">            plotSheet.setFrameThickness((ListenerUtil.mutListener.listen(3367) ? (frameThickness % 0.66f) : (ListenerUtil.mutListener.listen(3366) ? (frameThickness / 0.66f) : (ListenerUtil.mutListener.listen(3365) ? (frameThickness - 0.66f) : (ListenerUtil.mutListener.listen(3364) ? (frameThickness + 0.66f) : (frameThickness * 0.66f))))), (ListenerUtil.mutListener.listen(3371) ? (frameThickness % 0.66f) : (ListenerUtil.mutListener.listen(3370) ? (frameThickness / 0.66f) : (ListenerUtil.mutListener.listen(3369) ? (frameThickness - 0.66f) : (ListenerUtil.mutListener.listen(3368) ? (frameThickness + 0.66f) : (frameThickness * 0.66f))))), frameThickness, (ListenerUtil.mutListener.listen(3375) ? (frameThickness % 0.9f) : (ListenerUtil.mutListener.listen(3374) ? (frameThickness / 0.9f) : (ListenerUtil.mutListener.listen(3373) ? (frameThickness - 0.9f) : (ListenerUtil.mutListener.listen(3372) ? (frameThickness + 0.9f) : (frameThickness * 0.9f))))));</span>
        }
<span class="nc bnc" id="L201" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3377)) {</span>
<span class="nc" id="L202">            plotSheet.setFontSize(textSize);</span>
        }
<span class="nc" id="L204">        int backgroundColor = Themes.getColorFromAttr(mChartView.getContext(), android.R.attr.colorBackground);</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3378)) {</span>
<span class="nc" id="L206">            plotSheet.setBackgroundColor(new ColorWrap(backgroundColor));</span>
        }
<span class="nc" id="L208">        int textColor = Themes.getColorFromAttr(mChartView.getContext(), android.R.attr.textColor);</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3379)) {</span>
<span class="nc" id="L210">            plotSheet.setTextColor(new ColorWrap(textColor));</span>
        }
<span class="nc bnc" id="L212" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3380)) {</span>
<span class="nc" id="L213">            plotSheet.setIsBackwards(mBackwards);</span>
        }
<span class="nc bnc" id="L215" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3381)) {</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">            if (mChartType == Stats.ChartType.CARDS_TYPES) {</span>
<span class="nc" id="L217">                return createPieChart(plotSheet);</span>
            }
        }
        // for second y-axis
<span class="nc bnc" id="L221" title="All 24 branches missed.">        PlotSheet hiddenPlotSheet = new PlotSheet((ListenerUtil.mutListener.listen(3385) ? (mFirstElement % 0.5) : (ListenerUtil.mutListener.listen(3384) ? (mFirstElement / 0.5) : (ListenerUtil.mutListener.listen(3383) ? (mFirstElement * 0.5) : (ListenerUtil.mutListener.listen(3382) ? (mFirstElement + 0.5) : (mFirstElement - 0.5))))), (ListenerUtil.mutListener.listen(3389) ? (mLastElement % 0.5) : (ListenerUtil.mutListener.listen(3388) ? (mLastElement / 0.5) : (ListenerUtil.mutListener.listen(3387) ? (mLastElement * 0.5) : (ListenerUtil.mutListener.listen(3386) ? (mLastElement - 0.5) : (mLastElement + 0.5))))), 0, (ListenerUtil.mutListener.listen(3393) ? (mMcount % Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3392) ? (mMcount / Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3391) ? (mMcount - Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3390) ? (mMcount + Y_AXIS_STRETCH_FACTOR) : (mMcount * Y_AXIS_STRETCH_FACTOR))))));</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3406)) {</span>
<span class="nc bnc" id="L223" title="All 24 branches missed.">            hiddenPlotSheet.setFrameThickness((ListenerUtil.mutListener.listen(3397) ? (frameThickness % 0.66f) : (ListenerUtil.mutListener.listen(3396) ? (frameThickness / 0.66f) : (ListenerUtil.mutListener.listen(3395) ? (frameThickness - 0.66f) : (ListenerUtil.mutListener.listen(3394) ? (frameThickness + 0.66f) : (frameThickness * 0.66f))))), (ListenerUtil.mutListener.listen(3401) ? (frameThickness % 0.66f) : (ListenerUtil.mutListener.listen(3400) ? (frameThickness / 0.66f) : (ListenerUtil.mutListener.listen(3399) ? (frameThickness - 0.66f) : (ListenerUtil.mutListener.listen(3398) ? (frameThickness + 0.66f) : (frameThickness * 0.66f))))), frameThickness, (ListenerUtil.mutListener.listen(3405) ? (frameThickness % 0.9f) : (ListenerUtil.mutListener.listen(3404) ? (frameThickness / 0.9f) : (ListenerUtil.mutListener.listen(3403) ? (frameThickness - 0.9f) : (ListenerUtil.mutListener.listen(3402) ? (frameThickness + 0.9f) : (frameThickness * 0.9f))))));</span>
        }
<span class="nc bnc" id="L225" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3407)) {</span>
<span class="nc" id="L226">            setupCumulative(plotSheet, hiddenPlotSheet);</span>
        }
<span class="nc bnc" id="L228" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3408)) {</span>
<span class="nc" id="L229">            setupBarGraphs(plotSheet, hiddenPlotSheet);</span>
        }
<span class="nc" id="L231">        double xTicks = ticksCalcX(desiredPixelDistanceBetweenTicks, rect, mFirstElement, mLastElement);</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3409)) {</span>
<span class="nc" id="L233">            setupXaxis(plotSheet, xTicks, true);</span>
        }
<span class="nc bnc" id="L235" title="All 8 branches missed.">        double yTicks = ticksCalcY(desiredPixelDistanceBetweenTicks, rect, 0, (ListenerUtil.mutListener.listen(3413) ? (mMaxCards % Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3412) ? (mMaxCards / Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3411) ? (mMaxCards - Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3410) ? (mMaxCards + Y_AXIS_STRETCH_FACTOR) : (mMaxCards * Y_AXIS_STRETCH_FACTOR))))));</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3414)) {</span>
<span class="nc" id="L237">            setupYaxis(plotSheet, hiddenPlotSheet, yTicks, mAxisTitles[1], false, true);</span>
        }
<span class="nc bnc" id="L239" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3425)) {</span>
            // 2 = Y-axis title right (optional)
<span class="nc bnc" id="L241" title="All 22 branches missed.">            if ((ListenerUtil.mutListener.listen(3419) ? (mAxisTitles.length &gt;= 3) : (ListenerUtil.mutListener.listen(3418) ? (mAxisTitles.length &lt;= 3) : (ListenerUtil.mutListener.listen(3417) ? (mAxisTitles.length &gt; 3) : (ListenerUtil.mutListener.listen(3416) ? (mAxisTitles.length &lt; 3) : (ListenerUtil.mutListener.listen(3415) ? (mAxisTitles.length != 3) : (mAxisTitles.length == 3))))))) {</span>
<span class="nc bnc" id="L242" title="All 8 branches missed.">                double rightYtics = ticsCalc(desiredPixelDistanceBetweenTicks, rect, (ListenerUtil.mutListener.listen(3423) ? (mMcount % Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3422) ? (mMcount / Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3421) ? (mMcount - Y_AXIS_STRETCH_FACTOR) : (ListenerUtil.mutListener.listen(3420) ? (mMcount + Y_AXIS_STRETCH_FACTOR) : (mMcount * Y_AXIS_STRETCH_FACTOR))))));</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3424)) {</span>
<span class="nc" id="L244">                    setupYaxis(plotSheet, hiddenPlotSheet, rightYtics, mAxisTitles[2], true, true);</span>
                }
            }
        }
<span class="nc bnc" id="L248" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3434)) {</span>
<span class="nc bnc" id="L249" title="All 16 branches missed.">            setupGrid(plotSheet, (ListenerUtil.mutListener.listen(3429) ? (yTicks % 0.5) : (ListenerUtil.mutListener.listen(3428) ? (yTicks / 0.5) : (ListenerUtil.mutListener.listen(3427) ? (yTicks - 0.5) : (ListenerUtil.mutListener.listen(3426) ? (yTicks + 0.5) : (yTicks * 0.5))))), (ListenerUtil.mutListener.listen(3433) ? (xTicks % 0.5) : (ListenerUtil.mutListener.listen(3432) ? (xTicks / 0.5) : (ListenerUtil.mutListener.listen(3431) ? (xTicks - 0.5) : (ListenerUtil.mutListener.listen(3430) ? (xTicks + 0.5) : (xTicks * 0.5))))));</span>
        }
<span class="nc" id="L251">        return plotSheet;</span>
    }

    private PlotSheet createPieChart(PlotSheet plotSheet) {
<span class="nc" id="L255">        ColorWrap[] colors = { new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[0])), new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[1])), new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[2])), new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[3])), new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[4])) };</span>
<span class="nc" id="L256">        PieChart pieChart = new PieChart(plotSheet, mSeriesList[0], colors);</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3435)) {</span>
<span class="nc" id="L258">            pieChart.setName(mChartView.getResources().getString(mValueLabels[0]) + &quot;: &quot; + (int) mSeriesList[0][0]);</span>
        }
<span class="nc" id="L260">        LegendDrawable legendDrawable1 = new LegendDrawable();</span>
<span class="nc" id="L261">        LegendDrawable legendDrawable2 = new LegendDrawable();</span>
<span class="nc" id="L262">        LegendDrawable legendDrawable3 = new LegendDrawable();</span>
<span class="nc" id="L263">        LegendDrawable legendDrawable4 = new LegendDrawable();</span>
<span class="nc bnc" id="L264" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3436)) {</span>
<span class="nc" id="L265">            legendDrawable1.setColor(new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[1])));</span>
        }
<span class="nc bnc" id="L267" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3437)) {</span>
<span class="nc" id="L268">            legendDrawable2.setColor(new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[2])));</span>
        }
<span class="nc bnc" id="L270" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3438)) {</span>
<span class="nc" id="L271">            legendDrawable3.setColor(new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[3])));</span>
        }
<span class="nc bnc" id="L273" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3439)) {</span>
<span class="nc" id="L274">            legendDrawable4.setColor(new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[4])));</span>
        }
<span class="nc bnc" id="L276" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3440)) {</span>
<span class="nc" id="L277">            legendDrawable1.setName(mChartView.getResources().getString(mValueLabels[1]) + &quot;: &quot; + (int) mSeriesList[0][1]);</span>
        }
<span class="nc bnc" id="L279" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3441)) {</span>
<span class="nc" id="L280">            legendDrawable2.setName(mChartView.getResources().getString(mValueLabels[2]) + &quot;: &quot; + (int) mSeriesList[0][2]);</span>
        }
<span class="nc bnc" id="L282" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3442)) {</span>
<span class="nc" id="L283">            legendDrawable3.setName(mChartView.getResources().getString(mValueLabels[3]) + &quot;: &quot; + (int) mSeriesList[0][3]);</span>
        }
<span class="nc bnc" id="L285" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3443)) {</span>
<span class="nc" id="L286">            legendDrawable4.setName(mChartView.getResources().getString(mValueLabels[4]) + &quot;: &quot; + (int) mSeriesList[0][4]);</span>
        }
<span class="nc bnc" id="L288" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3444)) {</span>
<span class="nc" id="L289">            plotSheet.unsetBorder();</span>
        }
<span class="nc bnc" id="L291" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3445)) {</span>
<span class="nc" id="L292">            plotSheet.addDrawable(pieChart);</span>
        }
<span class="nc bnc" id="L294" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3446)) {</span>
<span class="nc" id="L295">            plotSheet.addDrawable(legendDrawable1);</span>
        }
<span class="nc bnc" id="L297" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3447)) {</span>
<span class="nc" id="L298">            plotSheet.addDrawable(legendDrawable2);</span>
        }
<span class="nc bnc" id="L300" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3448)) {</span>
<span class="nc" id="L301">            plotSheet.addDrawable(legendDrawable3);</span>
        }
<span class="nc bnc" id="L303" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3449)) {</span>
<span class="nc" id="L304">            plotSheet.addDrawable(legendDrawable4);</span>
        }
<span class="nc" id="L306">        return plotSheet;</span>
    }

    private void setupBarGraphs(PlotSheet plotSheet, PlotSheet hiddenPlotSheet) {
<span class="nc" id="L310">        int length = mSeriesList.length;</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3452)) {</span>
<span class="nc bnc" id="L312" title="All 10 branches missed.">            if ((ListenerUtil.mutListener.listen(3450) ? (mChartType == Stats.ChartType.HOURLY_BREAKDOWN &amp;&amp; mChartType == Stats.ChartType.WEEKLY_BREAKDOWN) : (mChartType == Stats.ChartType.HOURLY_BREAKDOWN || mChartType == Stats.ChartType.WEEKLY_BREAKDOWN))) {</span>
<span class="nc bnc" id="L313" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3451)) {</span>
                    // there is data in hourly breakdown that is never used (even in Anki-Desktop)
<span class="nc" id="L315">                    length--;</span>
                }
            }
        }
<span class="nc bnc" id="L319" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3500)) {</span>
            {
<span class="nc" id="L321">                long _loopCounter85 = 0;</span>
<span class="nc bnc" id="L322" title="All 22 branches missed.">                for (int i = 1; (ListenerUtil.mutListener.listen(3499) ? (i &gt;= length) : (ListenerUtil.mutListener.listen(3498) ? (i &lt;= length) : (ListenerUtil.mutListener.listen(3497) ? (i &gt; length) : (ListenerUtil.mutListener.listen(3496) ? (i != length) : (ListenerUtil.mutListener.listen(3495) ? (i == length) : (i &lt; length)))))); i++) {</span>
<span class="nc" id="L323">                    ListenerUtil.loopListener.listen(&quot;_loopCounter85&quot;, ++_loopCounter85);</span>
<span class="nc" id="L324">                    double[][] bars = new double[2][];</span>
<span class="nc bnc" id="L325" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3453)) {</span>
<span class="nc" id="L326">                        bars[0] = mSeriesList[0];</span>
                    }
<span class="nc bnc" id="L328" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3454)) {</span>
<span class="nc" id="L329">                        bars[1] = mSeriesList[i];</span>
                    }
<span class="nc" id="L331">                    PlotSheet usedPlotSheet = plotSheet;</span>
<span class="nc" id="L332">                    double barThickness = STARTING_BAR_THICKNESS;</span>
<span class="nc bnc" id="L333" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3465)) {</span>
<span class="nc bnc" id="L334" title="All 10 branches missed.">                        if (((ListenerUtil.mutListener.listen(3455) ? (mChartType == Stats.ChartType.HOURLY_BREAKDOWN &amp;&amp; mChartType == Stats.ChartType.WEEKLY_BREAKDOWN) : (mChartType == Stats.ChartType.HOURLY_BREAKDOWN || mChartType == Stats.ChartType.WEEKLY_BREAKDOWN)))) {</span>
<span class="nc bnc" id="L335" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(3456)) {</span>
<span class="nc" id="L336">                                barThickness = 0.8;</span>
                            }
<span class="nc bnc" id="L338" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(3464)) {</span>
<span class="nc bnc" id="L339" title="All 22 branches missed.">                                if ((ListenerUtil.mutListener.listen(3461) ? (i &gt;= 2) : (ListenerUtil.mutListener.listen(3460) ? (i &lt;= 2) : (ListenerUtil.mutListener.listen(3459) ? (i &gt; 2) : (ListenerUtil.mutListener.listen(3458) ? (i &lt; 2) : (ListenerUtil.mutListener.listen(3457) ? (i != 2) : (i == 2))))))) {</span>
<span class="nc bnc" id="L340" title="All 2 branches missed.">                                    if (!ListenerUtil.mutListener.listen(3462)) {</span>
<span class="nc" id="L341">                                        usedPlotSheet = hiddenPlotSheet;</span>
                                    }
<span class="nc bnc" id="L343" title="All 2 branches missed.">                                    if (!ListenerUtil.mutListener.listen(3463)) {</span>
<span class="nc" id="L344">                                        barThickness = 0.2;</span>
                                    }
                                }
                            }
                        }
                    }
                    ColorWrap color;
<span class="nc bnc" id="L351" title="All 3 branches missed.">                    switch(mChartType) {</span>
                        case ANSWER_BUTTONS:
                        case HOURLY_BREAKDOWN:
                        case WEEKLY_BREAKDOWN:
                        case INTERVALS:
<span class="nc bnc" id="L356" title="All 8 branches missed.">                            color = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[(ListenerUtil.mutListener.listen(3469) ? (i % 1) : (ListenerUtil.mutListener.listen(3468) ? (i / 1) : (ListenerUtil.mutListener.listen(3467) ? (i * 1) : (ListenerUtil.mutListener.listen(3466) ? (i + 1) : (i - 1)))))]), BAR_OPACITY);</span>
<span class="nc" id="L357">                            break;</span>
                        case REVIEW_COUNT:
                        case REVIEW_TIME:
                        case FORECAST:
<span class="nc bnc" id="L361" title="All 22 branches missed.">                            if ((ListenerUtil.mutListener.listen(3474) ? (i &gt;= 1) : (ListenerUtil.mutListener.listen(3473) ? (i &lt;= 1) : (ListenerUtil.mutListener.listen(3472) ? (i &gt; 1) : (ListenerUtil.mutListener.listen(3471) ? (i &lt; 1) : (ListenerUtil.mutListener.listen(3470) ? (i != 1) : (i == 1))))))) {</span>
<span class="nc bnc" id="L362" title="All 8 branches missed.">                                color = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[(ListenerUtil.mutListener.listen(3478) ? (i % 1) : (ListenerUtil.mutListener.listen(3477) ? (i / 1) : (ListenerUtil.mutListener.listen(3476) ? (i * 1) : (ListenerUtil.mutListener.listen(3475) ? (i + 1) : (i - 1)))))]), BAR_OPACITY);</span>
<span class="nc" id="L363">                                break;</span>
                            }
<span class="nc bnc" id="L365" title="All 8 branches missed.">                            color = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[(ListenerUtil.mutListener.listen(3482) ? (i % 1) : (ListenerUtil.mutListener.listen(3481) ? (i / 1) : (ListenerUtil.mutListener.listen(3480) ? (i * 1) : (ListenerUtil.mutListener.listen(3479) ? (i + 1) : (i - 1)))))]));</span>
<span class="nc" id="L366">                            break;</span>
                        default:
<span class="nc bnc" id="L368" title="All 8 branches missed.">                            color = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[(ListenerUtil.mutListener.listen(3486) ? (i % 1) : (ListenerUtil.mutListener.listen(3485) ? (i / 1) : (ListenerUtil.mutListener.listen(3484) ? (i * 1) : (ListenerUtil.mutListener.listen(3483) ? (i + 1) : (i - 1)))))]));</span>
                    }
<span class="nc" id="L370">                    BarGraph barGraph = new BarGraph(usedPlotSheet, barThickness, bars, color);</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3487)) {</span>
<span class="nc" id="L372">                        barGraph.setFilling(true);</span>
                    }
<span class="nc bnc" id="L374" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3492)) {</span>
<span class="nc bnc" id="L375" title="All 8 branches missed.">                        barGraph.setName(mChartView.getResources().getString(mValueLabels[(ListenerUtil.mutListener.listen(3491) ? (i % 1) : (ListenerUtil.mutListener.listen(3490) ? (i / 1) : (ListenerUtil.mutListener.listen(3489) ? (i * 1) : (ListenerUtil.mutListener.listen(3488) ? (i + 1) : (i - 1)))))]));</span>
                    }
<span class="nc bnc" id="L377" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3493)) {</span>
                        // barGraph.setFillColor(Color.GREEN.darker());
<span class="nc" id="L379">                        barGraph.setFillColor(color);</span>
                    }
<span class="nc bnc" id="L381" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3494)) {</span>
<span class="nc" id="L382">                        plotSheet.addDrawable(barGraph);</span>
                    }
                }
            }
        }
<span class="nc" id="L387">    }</span>

    private void setupCumulative(PlotSheet plotSheet, PlotSheet hiddenPlotSheet) {
<span class="nc bnc" id="L390" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3501)) {</span>
<span class="nc bnc" id="L391" title="All 2 branches missed.">            if (mCumulative == null) {</span>
<span class="nc" id="L392">                return;</span>
            }
        }
<span class="nc bnc" id="L395" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3520)) {</span>
            {
<span class="nc" id="L397">                long _loopCounter86 = 0;</span>
<span class="nc bnc" id="L398" title="All 22 branches missed.">                for (int i = 1; (ListenerUtil.mutListener.listen(3519) ? (i &gt;= mCumulative.length) : (ListenerUtil.mutListener.listen(3518) ? (i &lt;= mCumulative.length) : (ListenerUtil.mutListener.listen(3517) ? (i &gt; mCumulative.length) : (ListenerUtil.mutListener.listen(3516) ? (i != mCumulative.length) : (ListenerUtil.mutListener.listen(3515) ? (i == mCumulative.length) : (i &lt; mCumulative.length)))))); i++) {</span>
<span class="nc" id="L399">                    ListenerUtil.loopListener.listen(&quot;_loopCounter86&quot;, ++_loopCounter86);</span>
<span class="nc" id="L400">                    double[][] cumulative = { mCumulative[0], mCumulative[i] };</span>
<span class="nc" id="L401">                    ColorWrap usedColor = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), R.attr.stats_cumulative));</span>
<span class="nc" id="L402">                    String name = mChartView.getResources().getString(R.string.stats_cumulative);</span>
<span class="nc bnc" id="L403" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3509)) {</span>
<span class="nc bnc" id="L404" title="All 2 branches missed.">                        if (mHasColoredCumulative) {</span>
<span class="nc bnc" id="L405" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(3508)) {</span>
                                // also non colored Cumulatives have names!
<span class="nc bnc" id="L407" title="All 8 branches missed.">                                usedColor = new ColorWrap(Themes.getColorFromAttr(mChartView.getContext(), mColors[(ListenerUtil.mutListener.listen(3507) ? (i % 1) : (ListenerUtil.mutListener.listen(3506) ? (i / 1) : (ListenerUtil.mutListener.listen(3505) ? (i * 1) : (ListenerUtil.mutListener.listen(3504) ? (i + 1) : (i - 1)))))]));</span>
                            }
                        } else {
<span class="nc bnc" id="L410" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(3503)) {</span>
<span class="nc bnc" id="L411" title="All 2 branches missed.">                                if (mChartType == Stats.ChartType.INTERVALS) {</span>
<span class="nc bnc" id="L412" title="All 2 branches missed.">                                    if (!ListenerUtil.mutListener.listen(3502)) {</span>
<span class="nc" id="L413">                                        name = mChartView.getResources().getString(R.string.stats_cumulative_percentage);</span>
                                    }
                                }
                            }
                        }
                    }
<span class="nc" id="L419">                    Lines lines = new Lines(hiddenPlotSheet, cumulative, usedColor);</span>
<span class="nc bnc" id="L420" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3510)) {</span>
<span class="nc" id="L421">                        lines.setSize(3f);</span>
                    }
<span class="nc bnc" id="L423" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3511)) {</span>
<span class="nc" id="L424">                        lines.setShadow(2f, 2f, ColorWrap.BLACK);</span>
                    }
<span class="nc bnc" id="L426" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3513)) {</span>
<span class="nc bnc" id="L427" title="All 2 branches missed.">                        if (!mHasColoredCumulative) {</span>
<span class="nc bnc" id="L428" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(3512)) {</span>
<span class="nc" id="L429">                                lines.setName(name);</span>
                            }
                        }
                    }
<span class="nc bnc" id="L433" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3514)) {</span>
<span class="nc" id="L434">                        plotSheet.addDrawable(lines);</span>
                    }
                }
            }
        }
<span class="nc" id="L439">    }</span>

    private void setupXaxis(PlotSheet plotSheet, double xTicks, boolean hasName) {
<span class="nc bnc" id="L442" title="All 8 branches missed.">        XAxis xAxis = new XAxis(plotSheet, 0, xTicks, (ListenerUtil.mutListener.listen(3524) ? (xTicks % 2.0) : (ListenerUtil.mutListener.listen(3523) ? (xTicks * 2.0) : (ListenerUtil.mutListener.listen(3522) ? (xTicks - 2.0) : (ListenerUtil.mutListener.listen(3521) ? (xTicks + 2.0) : (xTicks / 2.0))))));</span>
<span class="nc bnc" id="L443" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3525)) {</span>
<span class="nc" id="L444">            xAxis.setOnFrame();</span>
        }
<span class="nc bnc" id="L446" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3529)) {</span>
<span class="nc bnc" id="L447" title="All 2 branches missed.">            if (hasName) {</span>
<span class="nc bnc" id="L448" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3528)) {</span>
<span class="nc bnc" id="L449" title="All 2 branches missed.">                    if (mDynamicAxis) {</span>
<span class="nc bnc" id="L450" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3527)) {</span>
<span class="nc" id="L451">                            xAxis.setName(mChartView.getResources().getStringArray(R.array.due_x_axis_title)[mAxisTitles[0]]);</span>
                        }
                    } else {
<span class="nc bnc" id="L454" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(3526)) {</span>
<span class="nc" id="L455">                            xAxis.setName(mChartView.getResources().getString(mAxisTitles[0]));</span>
                        }
                    }
                }
            }
        }
        double[] timePositions;
        // some explicit x-axis naming:
<span class="nc bnc" id="L463" title="All 4 branches missed.">        switch(mChartType) {</span>
            case ANSWER_BUTTONS:
<span class="nc bnc" id="L465" title="All 22 branches missed.">                if ((ListenerUtil.mutListener.listen(3534) ? (mCollectionData.schedVer() &gt;= 1) : (ListenerUtil.mutListener.listen(3533) ? (mCollectionData.schedVer() &lt;= 1) : (ListenerUtil.mutListener.listen(3532) ? (mCollectionData.schedVer() &gt; 1) : (ListenerUtil.mutListener.listen(3531) ? (mCollectionData.schedVer() &lt; 1) : (ListenerUtil.mutListener.listen(3530) ? (mCollectionData.schedVer() != 1) : (mCollectionData.schedVer() == 1))))))) {</span>
<span class="nc" id="L466">                    timePositions = new double[] { 1, 2, 3, 6, 7, 8, 9, 11, 12, 13, 14 };</span>
<span class="nc bnc" id="L467" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3536)) {</span>
<span class="nc" id="L468">                        xAxis.setExplicitTicks(timePositions, mChartView.getResources().getStringArray(R.array.stats_eases_ticks));</span>
                    }
                } else {
<span class="nc" id="L471">                    timePositions = new double[] { 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14 };</span>
<span class="nc bnc" id="L472" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3535)) {</span>
<span class="nc" id="L473">                        xAxis.setExplicitTicks(timePositions, mChartView.getResources().getStringArray(R.array.stats_eases_ticks_schedv2));</span>
                    }
                }
                break;
            case HOURLY_BREAKDOWN:
<span class="nc" id="L478">                timePositions = new double[] { 0, 6, 12, 18, 23 };</span>
<span class="nc bnc" id="L479" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3537)) {</span>
<span class="nc" id="L480">                    xAxis.setExplicitTicks(timePositions, mChartView.getResources().getStringArray(R.array.stats_day_time_strings));</span>
                }
                break;
            case WEEKLY_BREAKDOWN:
<span class="nc" id="L484">                timePositions = new double[] { 0, 1, 2, 3, 4, 5, 6 };</span>
<span class="nc bnc" id="L485" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3538)) {</span>
<span class="nc" id="L486">                    xAxis.setExplicitTicks(timePositions, mChartView.getResources().getStringArray(R.array.stats_week_days));</span>
                }
                break;
        }
<span class="nc bnc" id="L490" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3539)) {</span>
<span class="nc" id="L491">            xAxis.setIntegerNumbering(true);</span>
        }
<span class="nc bnc" id="L493" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3540)) {</span>
<span class="nc" id="L494">            plotSheet.addDrawable(xAxis);</span>
        }
<span class="nc" id="L496">    }</span>

    private void setupYaxis(PlotSheet plotSheet, PlotSheet hiddenPlotSheet, double yTicks, int title, boolean isOnRight, boolean hasName) {
        YAxis yAxis;
<span class="nc bnc" id="L500" title="All 10 branches missed.">        if ((ListenerUtil.mutListener.listen(3541) ? (isOnRight || hiddenPlotSheet != null) : (isOnRight &amp;&amp; hiddenPlotSheet != null))) {</span>
<span class="nc bnc" id="L501" title="All 8 branches missed.">            yAxis = new YAxis(hiddenPlotSheet, 0, yTicks, (ListenerUtil.mutListener.listen(3549) ? (yTicks % 2.0) : (ListenerUtil.mutListener.listen(3548) ? (yTicks * 2.0) : (ListenerUtil.mutListener.listen(3547) ? (yTicks - 2.0) : (ListenerUtil.mutListener.listen(3546) ? (yTicks + 2.0) : (yTicks / 2.0))))));</span>
        } else {
<span class="nc bnc" id="L503" title="All 8 branches missed.">            yAxis = new YAxis(plotSheet, 0, yTicks, (ListenerUtil.mutListener.listen(3545) ? (yTicks % 2.0) : (ListenerUtil.mutListener.listen(3544) ? (yTicks * 2.0) : (ListenerUtil.mutListener.listen(3543) ? (yTicks - 2.0) : (ListenerUtil.mutListener.listen(3542) ? (yTicks + 2.0) : (yTicks / 2.0))))));</span>
        }
<span class="nc bnc" id="L505" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3550)) {</span>
<span class="nc" id="L506">            yAxis.setIntegerNumbering(true);</span>
        }
<span class="nc bnc" id="L508" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3552)) {</span>
<span class="nc bnc" id="L509" title="All 2 branches missed.">            if (hasName) {</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3551)) {</span>
<span class="nc" id="L511">                    yAxis.setName(mChartView.getResources().getString(title));</span>
                }
            }
        }
<span class="nc bnc" id="L515" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3555)) {</span>
<span class="nc bnc" id="L516" title="All 2 branches missed.">            if (isOnRight) {</span>
<span class="nc bnc" id="L517" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3554)) {</span>
<span class="nc" id="L518">                    yAxis.setOnRightSideFrame();</span>
                }
            } else {
<span class="nc bnc" id="L521" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3553)) {</span>
<span class="nc" id="L522">                    yAxis.setOnFrame();</span>
                }
            }
        }
<span class="nc bnc" id="L526" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3556)) {</span>
<span class="nc" id="L527">            yAxis.setHasNumbersRotated();</span>
        }
<span class="nc bnc" id="L529" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3557)) {</span>
<span class="nc" id="L530">            plotSheet.addDrawable(yAxis);</span>
        }
<span class="nc" id="L532">    }</span>

    private void setupGrid(PlotSheet plotSheet, double yTicks, double xTicks) {
<span class="nc" id="L535">        int red = ColorWrap.LIGHT_GRAY.getRed();</span>
<span class="nc" id="L536">        int green = ColorWrap.LIGHT_GRAY.getGreen();</span>
<span class="nc" id="L537">        int blue = ColorWrap.LIGHT_GRAY.getBlue();</span>
<span class="nc" id="L538">        ColorWrap newGridColor = new ColorWrap(red, green, blue, 222);</span>
        // ticks are not wrong, xgrid is vertical to yaxis -&gt; yticks
<span class="nc" id="L540">        XGrid xGrid = new XGrid(plotSheet, 0, yTicks);</span>
<span class="nc" id="L541">        YGrid yGrid = new YGrid(plotSheet, 0, xTicks);</span>
        double[] timePositions;
        // some explicit x-axis naming:
<span class="nc bnc" id="L544" title="All 4 branches missed.">        switch(mChartType) {</span>
            case ANSWER_BUTTONS:
<span class="nc bnc" id="L546" title="All 22 branches missed.">                if ((ListenerUtil.mutListener.listen(3562) ? (mCollectionData.schedVer() &gt;= 1) : (ListenerUtil.mutListener.listen(3561) ? (mCollectionData.schedVer() &lt;= 1) : (ListenerUtil.mutListener.listen(3560) ? (mCollectionData.schedVer() &gt; 1) : (ListenerUtil.mutListener.listen(3559) ? (mCollectionData.schedVer() &lt; 1) : (ListenerUtil.mutListener.listen(3558) ? (mCollectionData.schedVer() != 1) : (mCollectionData.schedVer() == 1))))))) {</span>
<span class="nc" id="L547">                    timePositions = new double[] { 1, 2, 3, 6, 7, 8, 9, 11, 12, 13, 14 };</span>
                } else {
<span class="nc" id="L549">                    timePositions = new double[] { 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14 };</span>
                }
<span class="nc bnc" id="L551" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3563)) {</span>
<span class="nc" id="L552">                    yGrid.setExplicitTicks(timePositions);</span>
                }
                break;
            case HOURLY_BREAKDOWN:
<span class="nc" id="L556">                timePositions = new double[] { 0, 6, 12, 18, 23 };</span>
<span class="nc bnc" id="L557" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3564)) {</span>
<span class="nc" id="L558">                    yGrid.setExplicitTicks(timePositions);</span>
                }
                break;
            case WEEKLY_BREAKDOWN:
<span class="nc" id="L562">                timePositions = new double[] { 0, 1, 2, 3, 4, 5, 6 };</span>
<span class="nc bnc" id="L563" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(3565)) {</span>
<span class="nc" id="L564">                    yGrid.setExplicitTicks(timePositions);</span>
                }
                break;
        }
<span class="nc bnc" id="L568" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3566)) {</span>
<span class="nc" id="L569">            xGrid.setColor(newGridColor);</span>
        }
<span class="nc bnc" id="L571" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3567)) {</span>
<span class="nc" id="L572">            yGrid.setColor(newGridColor);</span>
        }
<span class="nc bnc" id="L574" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3568)) {</span>
<span class="nc" id="L575">            plotSheet.addDrawable(xGrid);</span>
        }
<span class="nc bnc" id="L577" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3569)) {</span>
<span class="nc" id="L578">            plotSheet.addDrawable(yGrid);</span>
        }
<span class="nc" id="L580">    }</span>

    public double ticksCalcX(int pixelDistance, RectangleWrap field, double start, double end) {
<span class="nc bnc" id="L583" title="All 8 branches missed.">        double deltaRange = (ListenerUtil.mutListener.listen(3573) ? (end % start) : (ListenerUtil.mutListener.listen(3572) ? (end / start) : (ListenerUtil.mutListener.listen(3571) ? (end * start) : (ListenerUtil.mutListener.listen(3570) ? (end + start) : (end - start)))));</span>
<span class="nc bnc" id="L584" title="All 8 branches missed.">        int ticlimit = (ListenerUtil.mutListener.listen(3577) ? (field.width % pixelDistance) : (ListenerUtil.mutListener.listen(3576) ? (field.width * pixelDistance) : (ListenerUtil.mutListener.listen(3575) ? (field.width - pixelDistance) : (ListenerUtil.mutListener.listen(3574) ? (field.width + pixelDistance) : (field.width / pixelDistance)))));</span>
<span class="nc bnc" id="L585" title="All 8 branches missed.">        double tics = Math.pow(10, (int) Math.log10((ListenerUtil.mutListener.listen(3581) ? (deltaRange % ticlimit) : (ListenerUtil.mutListener.listen(3580) ? (deltaRange * ticlimit) : (ListenerUtil.mutListener.listen(3579) ? (deltaRange - ticlimit) : (ListenerUtil.mutListener.listen(3578) ? (deltaRange + ticlimit) : (deltaRange / ticlimit)))))));</span>
<span class="nc bnc" id="L586" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3596)) {</span>
            {
<span class="nc" id="L588">                long _loopCounter87 = 0;</span>
<span class="nc bnc" id="L589" title="All 310 branches missed.">                while ((ListenerUtil.mutListener.listen(3595) ? ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) &gt;= ticlimit) : (ListenerUtil.mutListener.listen(3594) ? ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) &gt; ticlimit) : (ListenerUtil.mutListener.listen(3593) ? ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) &lt; ticlimit) : (ListenerUtil.mutListener.listen(3592) ? ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) != ticlimit) : (ListenerUtil.mutListener.listen(3591) ? ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) == ticlimit) : ((ListenerUtil.mutListener.listen(3590) ? (2.0 % ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3589) ? (2.0 / ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3588) ? (2.0 - ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (ListenerUtil.mutListener.listen(3587) ? (2.0 + ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))) : (2.0 * ((ListenerUtil.mutListener.listen(3586) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3585) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3584) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3583) ? (deltaRange + (tics)) : (deltaRange / (tics)))))))))))) &lt;= ticlimit))))))) {</span>
<span class="nc" id="L590">                    ListenerUtil.loopListener.listen(&quot;_loopCounter87&quot;, ++_loopCounter87);</span>
<span class="nc bnc" id="L591" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3582)) {</span>
<span class="nc" id="L592">                        tics /= 2.0;</span>
                    }
                }
            }
        }
<span class="nc bnc" id="L597" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3611)) {</span>
            {
<span class="nc" id="L599">                long _loopCounter88 = 0;</span>
<span class="nc bnc" id="L600" title="All 310 branches missed.">                while ((ListenerUtil.mutListener.listen(3610) ? ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) &lt;= ticlimit) : (ListenerUtil.mutListener.listen(3609) ? ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) &gt; ticlimit) : (ListenerUtil.mutListener.listen(3608) ? ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) &lt; ticlimit) : (ListenerUtil.mutListener.listen(3607) ? ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) != ticlimit) : (ListenerUtil.mutListener.listen(3606) ? ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) == ticlimit) : ((ListenerUtil.mutListener.listen(3605) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) % 2) : (ListenerUtil.mutListener.listen(3604) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) * 2) : (ListenerUtil.mutListener.listen(3603) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) - 2) : (ListenerUtil.mutListener.listen(3602) ? (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) + 2) : (((ListenerUtil.mutListener.listen(3601) ? (deltaRange % (tics)) : (ListenerUtil.mutListener.listen(3600) ? (deltaRange * (tics)) : (ListenerUtil.mutListener.listen(3599) ? (deltaRange - (tics)) : (ListenerUtil.mutListener.listen(3598) ? (deltaRange + (tics)) : (deltaRange / (tics))))))) / 2))))) &gt;= ticlimit))))))) {</span>
<span class="nc" id="L601">                    ListenerUtil.loopListener.listen(&quot;_loopCounter88&quot;, ++_loopCounter88);</span>
<span class="nc bnc" id="L602" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(3597)) {</span>
<span class="nc" id="L603">                        tics *= 2.0;</span>
                    }
                }
            }
        }
<span class="nc" id="L608">        return tics;</span>
    }

    public double ticksCalcY(int pixelDistance, RectangleWrap field, double start, double end) {
<span class="nc bnc" id="L612" title="All 8 branches missed.">        double size = ticsCalc(pixelDistance, field, (ListenerUtil.mutListener.listen(3615) ? (end % start) : (ListenerUtil.mutListener.listen(3614) ? (end / start) : (ListenerUtil.mutListener.listen(3613) ? (end * start) : (ListenerUtil.mutListener.listen(3612) ? (end + start) : (end - start))))));</span>
<span class="nc bnc" id="L613" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3616)) {</span>
<span class="nc" id="L614">            Timber.d(&quot;ChartBuilder ticksCalcY: pixelDistance: %d, ticks: %,.2f, start: %,.2f, end: %,.2f, height: %d&quot;, pixelDistance, size, start, end, field.height);</span>
        }
<span class="nc" id="L616">        return size;</span>
    }

    public double ticsCalc(int pixelDistance, RectangleWrap field, double deltaRange) {
        // Make approximation of number of ticks based on desired number of pixels per tick
<span class="nc bnc" id="L621" title="All 8 branches missed.">        double numTicks = (ListenerUtil.mutListener.listen(3620) ? (field.height % pixelDistance) : (ListenerUtil.mutListener.listen(3619) ? (field.height * pixelDistance) : (ListenerUtil.mutListener.listen(3618) ? (field.height - pixelDistance) : (ListenerUtil.mutListener.listen(3617) ? (field.height + pixelDistance) : (field.height / pixelDistance)))));</span>
        // Compute size of one tick in graph-units
<span class="nc bnc" id="L623" title="All 8 branches missed.">        double delta = (ListenerUtil.mutListener.listen(3624) ? (deltaRange % numTicks) : (ListenerUtil.mutListener.listen(3623) ? (deltaRange * numTicks) : (ListenerUtil.mutListener.listen(3622) ? (deltaRange - numTicks) : (ListenerUtil.mutListener.listen(3621) ? (deltaRange + numTicks) : (deltaRange / numTicks)))));</span>
        // Write size of one tick in the form norm * magn
<span class="nc bnc" id="L625" title="All 8 branches missed.">        double dec = Math.floor((ListenerUtil.mutListener.listen(3628) ? (Math.log(delta) % Math.log(10)) : (ListenerUtil.mutListener.listen(3627) ? (Math.log(delta) * Math.log(10)) : (ListenerUtil.mutListener.listen(3626) ? (Math.log(delta) - Math.log(10)) : (ListenerUtil.mutListener.listen(3625) ? (Math.log(delta) + Math.log(10)) : (Math.log(delta) / Math.log(10)))))));</span>
<span class="nc" id="L626">        double magn = Math.pow(10, dec);</span>
        // norm is between 1.0 and 10.0
<span class="nc bnc" id="L628" title="All 8 branches missed.">        double norm = (ListenerUtil.mutListener.listen(3632) ? (delta % magn) : (ListenerUtil.mutListener.listen(3631) ? (delta * magn) : (ListenerUtil.mutListener.listen(3630) ? (delta - magn) : (ListenerUtil.mutListener.listen(3629) ? (delta + magn) : (delta / magn)))));</span>
        // Where size in (1, 2, 2.5, 5, 10)
        double size;
<span class="nc bnc" id="L631" title="All 22 branches missed.">        if ((ListenerUtil.mutListener.listen(3637) ? (norm &gt;= 1.5) : (ListenerUtil.mutListener.listen(3636) ? (norm &lt;= 1.5) : (ListenerUtil.mutListener.listen(3635) ? (norm &gt; 1.5) : (ListenerUtil.mutListener.listen(3634) ? (norm != 1.5) : (ListenerUtil.mutListener.listen(3633) ? (norm == 1.5) : (norm &lt; 1.5))))))) {</span>
<span class="nc" id="L632">            size = 1;</span>
<span class="nc bnc" id="L633" title="All 22 branches missed.">        } else if ((ListenerUtil.mutListener.listen(3642) ? (norm &gt;= 3) : (ListenerUtil.mutListener.listen(3641) ? (norm &lt;= 3) : (ListenerUtil.mutListener.listen(3640) ? (norm &gt; 3) : (ListenerUtil.mutListener.listen(3639) ? (norm != 3) : (ListenerUtil.mutListener.listen(3638) ? (norm == 3) : (norm &lt; 3))))))) {</span>
<span class="nc" id="L634">            size = 2;</span>
            // special case for 2.5, requires an extra decimal
<span class="nc bnc" id="L636" title="All 22 branches missed.">            if ((ListenerUtil.mutListener.listen(3652) ? (norm &gt;= 2.25) : (ListenerUtil.mutListener.listen(3651) ? (norm &lt;= 2.25) : (ListenerUtil.mutListener.listen(3650) ? (norm &lt; 2.25) : (ListenerUtil.mutListener.listen(3649) ? (norm != 2.25) : (ListenerUtil.mutListener.listen(3648) ? (norm == 2.25) : (norm &gt; 2.25))))))) {</span>
<span class="nc" id="L637">                size = 2.5;</span>
            }
<span class="nc bnc" id="L639" title="All 22 branches missed.">        } else if ((ListenerUtil.mutListener.listen(3647) ? (norm &gt;= 7.5) : (ListenerUtil.mutListener.listen(3646) ? (norm &lt;= 7.5) : (ListenerUtil.mutListener.listen(3645) ? (norm &gt; 7.5) : (ListenerUtil.mutListener.listen(3644) ? (norm != 7.5) : (ListenerUtil.mutListener.listen(3643) ? (norm == 7.5) : (norm &lt; 7.5))))))) {</span>
<span class="nc" id="L640">            size = 5;</span>
        } else {
<span class="nc" id="L642">            size = 10;</span>
        }
<span class="nc bnc" id="L644" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3653)) {</span>
            // Compute size * magn so that we return one number
<span class="nc" id="L646">            size *= magn;</span>
        }
<span class="nc bnc" id="L648" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(3654)) {</span>
<span class="nc" id="L649">            Timber.d(&quot;ChartBuilder ticksCalc : pixelDistance: %d, ticks: %,.2f, deltaRange: %,.2f, height: %d&quot;, pixelDistance, size, deltaRange, field.height);</span>
        }
<span class="nc" id="L651">        return size;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>