<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ConfirmationDialog.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">AnkiDroid</a> &gt; <a href="index.source.html" class="el_package">com.ichi2.anki.dialogs</a> &gt; <span class="el_source">ConfirmationDialog.java</span></div><h1>ConfirmationDialog.java</h1><pre class="source lang-java linenums">package com.ichi2.anki.dialogs;

import android.content.res.Resources;
import android.os.Bundle;
import androidx.annotation.NonNull;
import androidx.fragment.app.DialogFragment;
import com.afollestad.materialdialogs.MaterialDialog;
import com.ichi2.anki.R;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

/**
 * This is a reusable convenience class which makes it easy to show a confirmation dialog as a DialogFragment.
 * Create a new instance, call setArgs(...), setConfirm(), and setCancel() then show it via the fragment manager as usual.
 */
<span class="nc" id="L15">public class ConfirmationDialog extends DialogFragment {</span>

    // Do nothing by default
<span class="nc" id="L18">    private Runnable mConfirm = () -&gt; {</span>
<span class="nc" id="L19">    };</span>

    // Do nothing by default
<span class="nc" id="L22">    private Runnable mCancel = () -&gt; {</span>
<span class="nc" id="L23">    };</span>

    public void setArgs(String message) {
<span class="nc bnc" id="L26" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(393)) {</span>
<span class="nc" id="L27">            setArgs(&quot;&quot;, message);</span>
        }
<span class="nc" id="L29">    }</span>

    public void setArgs(String title, String message) {
<span class="nc" id="L32">        Bundle args = new Bundle();</span>
<span class="nc bnc" id="L33" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(394)) {</span>
<span class="nc" id="L34">            args.putString(&quot;message&quot;, message);</span>
        }
<span class="nc bnc" id="L36" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(395)) {</span>
<span class="nc" id="L37">            args.putString(&quot;title&quot;, title);</span>
        }
<span class="nc bnc" id="L39" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(396)) {</span>
<span class="nc" id="L40">            setArguments(args);</span>
        }
<span class="nc" id="L42">    }</span>

    public void setConfirm(Runnable confirm) {
<span class="nc bnc" id="L45" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(397)) {</span>
<span class="nc" id="L46">            mConfirm = confirm;</span>
        }
<span class="nc" id="L48">    }</span>

    public void setCancel(Runnable cancel) {
<span class="nc bnc" id="L51" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(398)) {</span>
<span class="nc" id="L52">            mCancel = cancel;</span>
        }
<span class="nc" id="L54">    }</span>

    @NonNull
    @Override
    public MaterialDialog onCreateDialog(Bundle savedInstanceState) {
<span class="nc bnc" id="L59" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(399)) {</span>
<span class="nc" id="L60">            super.onCreate(savedInstanceState);</span>
        }
<span class="nc" id="L62">        Resources res = getActivity().getResources();</span>
<span class="nc" id="L63">        String title = getArguments().getString(&quot;title&quot;);</span>
<span class="nc bnc" id="L64" title="All 2 branches missed.">        return new MaterialDialog.Builder(getActivity()).title(&quot;&quot;.equals(title) ? res.getString(R.string.app_name) : title).content(getArguments().getString(&quot;message&quot;)).positiveText(R.string.dialog_ok).negativeText(R.string.dialog_cancel).onPositive((dialog, which) -&gt; mConfirm.run()).onNegative((dialog, which) -&gt; mCancel.run()).show();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>