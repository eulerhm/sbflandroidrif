<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Statistics.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">AnkiDroid</a> &gt; <a href="index.source.html" class="el_package">com.ichi2.anki</a> &gt; <span class="el_source">Statistics.java</span></div><h1>Statistics.java</h1><pre class="source lang-java linenums">/**
 * *************************************************************************************
 *  Copyright (c) 2014 Michael Goldbach &lt;michael@m-goldbach.net&gt;                         *
 *                                                                                       *
 *  This program is free software; you can redistribute it and/or modify it under        *
 *  the terms of the GNU General Public License as published by the Free Software        *
 *  Foundation; either version 3 of the License, or (at your option) any later           *
 *  version.                                                                             *
 *                                                                                       *
 *  This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
 *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
 *  PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
 *                                                                                       *
 *  You should have received a copy of the GNU General Public License along with         *
 *  this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.                           *
 * **************************************************************************************
 */
package com.ichi2.anki;

import android.content.Intent;
import android.graphics.Color;
import android.os.AsyncTask;
import android.os.Bundle;
import androidx.annotation.NonNull;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentPagerAdapter;
import androidx.viewpager.widget.ViewPager;
import androidx.appcompat.app.ActionBar;
import androidx.appcompat.app.AppCompatActivity;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.webkit.WebView;
import android.widget.AdapterView;
import android.widget.ProgressBar;
import android.widget.Spinner;
import android.widget.TextView;
import com.ichi2.anim.ActivityTransitionAnimation;
import com.ichi2.anki.stats.AnkiStatsTaskHandler;
import com.ichi2.anki.stats.ChartView;
import com.ichi2.anki.widgets.DeckDropDownAdapter;
import com.ichi2.libanki.Collection;
import com.ichi2.libanki.Decks;
import com.ichi2.libanki.stats.Stats;
import com.ichi2.libanki.Deck;
import com.ichi2.ui.FixedTextView;
import com.ichi2.ui.SlidingTabLayout;
import com.ichi2.utils.JSONException;
import java.util.ArrayList;
import java.util.Locale;
import timber.log.Timber;
import br.ufmg.labsoft.mutvariants.listeners.ListenerUtil;

<span class="nc" id="L58">public class Statistics extends NavigationDrawerActivity implements DeckDropDownAdapter.SubtitleListener {</span>

    public static final int TODAYS_STATS_TAB_POSITION = 0;

    public static final int FORECAST_TAB_POSITION = 1;

    public static final int REVIEW_COUNT_TAB_POSITION = 2;

    public static final int REVIEW_TIME_TAB_POSITION = 3;

    public static final int INTERVALS_TAB_POSITION = 4;

    public static final int HOURLY_BREAKDOWN_TAB_POSITION = 5;

    public static final int WEEKLY_BREAKDOWN_TAB_POSITION = 6;

    public static final int ANSWER_BUTTONS_TAB_POSITION = 7;

    public static final int CARDS_TYPES_TAB_POSITION = 8;

    private SectionsPagerAdapter mSectionsPagerAdapter;

    private ViewPager mViewPager;

<span class="nc" id="L82">    private AnkiStatsTaskHandler mTaskHandler = null;</span>

    private long mDeckId;

    private ArrayList&lt;Deck&gt; mDropDownDecks;

    private Spinner mActionBarSpinner;

    private static boolean sIsSubtitle;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
<span class="nc bnc" id="L94" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11487)) {</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">            if (showedActivityFailedScreen(savedInstanceState)) {</span>
<span class="nc" id="L96">                return;</span>
            }
        }
<span class="nc bnc" id="L99" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11488)) {</span>
<span class="nc" id="L100">            Timber.d(&quot;onCreate()&quot;);</span>
        }
<span class="nc bnc" id="L102" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11489)) {</span>
<span class="nc" id="L103">            sIsSubtitle = true;</span>
        }
<span class="nc bnc" id="L105" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11490)) {</span>
<span class="nc" id="L106">            super.onCreate(savedInstanceState);</span>
        }
<span class="nc bnc" id="L108" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11491)) {</span>
<span class="nc" id="L109">            setContentView(R.layout.activity_anki_stats);</span>
        }
<span class="nc bnc" id="L111" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11492)) {</span>
<span class="nc" id="L112">            initNavigationDrawer(findViewById(android.R.id.content));</span>
        }
<span class="nc bnc" id="L114" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11493)) {</span>
<span class="nc" id="L115">            startLoadingCollection();</span>
        }
<span class="nc" id="L117">    }</span>

    @Override
    protected void onCollectionLoaded(Collection col) {
<span class="nc bnc" id="L121" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11494)) {</span>
<span class="nc" id="L122">            Timber.d(&quot;onCollectionLoaded()&quot;);</span>
        }
<span class="nc bnc" id="L124" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11495)) {</span>
<span class="nc" id="L125">            super.onCollectionLoaded(col);</span>
        }
<span class="nc bnc" id="L127" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11496)) {</span>
            // Add drop-down menu to select deck to action bar.
<span class="nc" id="L129">            mDropDownDecks = getCol().getDecks().allSorted();</span>
        }
<span class="nc" id="L131">        ActionBar actionBar = getSupportActionBar();</span>
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11497)) {</span>
<span class="nc" id="L133">            actionBar.setDisplayShowTitleEnabled(false);</span>
        }
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11498)) {</span>
<span class="nc" id="L136">            mActionBarSpinner = findViewById(R.id.toolbar_spinner);</span>
        }
<span class="nc bnc" id="L138" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11499)) {</span>
<span class="nc" id="L139">            mActionBarSpinner.setAdapter(new DeckDropDownAdapter(this, mDropDownDecks));</span>
        }
<span class="nc bnc" id="L141" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11501)) {</span>
<span class="nc" id="L142">            mActionBarSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {</span>

                @Override
                public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {
<span class="nc bnc" id="L146" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11500)) {</span>
<span class="nc" id="L147">                        selectDropDownItem(position);</span>
                    }
<span class="nc" id="L149">                }</span>

                @Override
                public void onNothingSelected(AdapterView&lt;?&gt; parent) {
<span class="nc" id="L153">                }</span>
            });
        }
<span class="nc bnc" id="L156" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11502)) {</span>
<span class="nc" id="L157">            mActionBarSpinner.setVisibility(View.VISIBLE);</span>
        }
<span class="nc bnc" id="L159" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11503)) {</span>
            // Setup Task Handler
<span class="nc" id="L161">            mTaskHandler = new AnkiStatsTaskHandler(col);</span>
        }
<span class="nc bnc" id="L163" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11504)) {</span>
            // primary sections of the activity.
<span class="nc" id="L165">            mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());</span>
        }
<span class="nc bnc" id="L167" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11505)) {</span>
            // Set up the ViewPager with the sections adapter.
<span class="nc" id="L169">            mViewPager = findViewById(R.id.pager);</span>
        }
<span class="nc bnc" id="L171" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11506)) {</span>
<span class="nc" id="L172">            mViewPager.setAdapter(mSectionsPagerAdapter);</span>
        }
<span class="nc bnc" id="L174" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11507)) {</span>
<span class="nc" id="L175">            mViewPager.setOffscreenPageLimit(8);</span>
        }
<span class="nc" id="L177">        SlidingTabLayout slidingTabLayout = findViewById(R.id.sliding_tabs);</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11508)) {</span>
<span class="nc" id="L179">            slidingTabLayout.setViewPager(mViewPager);</span>
        }
        // Dirty way to get text size from a TextView with current style, change if possible
<span class="nc" id="L182">        float size = new FixedTextView(this).getTextSize();</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11509)) {</span>
<span class="nc" id="L184">            mTaskHandler.setmStandardTextSize(size);</span>
        }
<span class="nc bnc" id="L186" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11510)) {</span>
            // Prepare options menu only after loading everything
<span class="nc" id="L188">            supportInvalidateOptionsMenu();</span>
        }
<span class="nc bnc" id="L190" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11511)) {</span>
<span class="nc" id="L191">            mSectionsPagerAdapter.notifyDataSetChanged();</span>
        }
<span class="nc bnc" id="L193" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11512)) {</span>
            // Default to libanki's selected deck
<span class="nc" id="L195">            selectDeckById(getCol().getDecks().selected());</span>
        }
<span class="nc" id="L197">    }</span>

    @Override
    protected void onResume() {
<span class="nc bnc" id="L201" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11513)) {</span>
<span class="nc" id="L202">            Timber.d(&quot;onResume()&quot;);</span>
        }
<span class="nc bnc" id="L204" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11514)) {</span>
<span class="nc" id="L205">            selectNavigationItem(R.id.nav_stats);</span>
        }
<span class="nc bnc" id="L207" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11515)) {</span>
<span class="nc" id="L208">            super.onResume();</span>
        }
<span class="nc" id="L210">    }</span>

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
<span class="nc bnc" id="L214" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11516)) {</span>
<span class="nc" id="L215">            super.onCreateOptionsMenu(menu);</span>
        }
        // System.err.println(&quot;in onCreateOptionsMenu&quot;);
<span class="nc" id="L218">        MenuInflater inflater = getMenuInflater();</span>
<span class="nc bnc" id="L219" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11517)) {</span>
<span class="nc" id="L220">            inflater.inflate(R.menu.anki_stats, menu);</span>
        }
<span class="nc bnc" id="L222" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11522)) {</span>
            // exit if mTaskHandler not initialized yet
<span class="nc bnc" id="L224" title="All 2 branches missed.">            if (mTaskHandler != null) {</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11521)) {</span>
<span class="nc bnc" id="L226" title="All 4 branches missed.">                    switch(mTaskHandler.getStatType()) {</span>
                        case TYPE_MONTH:
<span class="nc" id="L228">                            MenuItem monthItem = menu.findItem(R.id.item_time_month);</span>
<span class="nc bnc" id="L229" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11518)) {</span>
<span class="nc" id="L230">                                monthItem.setChecked(true);</span>
                            }
                            break;
                        case TYPE_YEAR:
<span class="nc" id="L234">                            MenuItem yearItem = menu.findItem(R.id.item_time_year);</span>
<span class="nc bnc" id="L235" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11519)) {</span>
<span class="nc" id="L236">                                yearItem.setChecked(true);</span>
                            }
                            break;
                        case TYPE_LIFE:
<span class="nc" id="L240">                            MenuItem lifeItem = menu.findItem(R.id.item_time_all);</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11520)) {</span>
<span class="nc" id="L242">                                lifeItem.setChecked(true);</span>
                            }
                            break;
                    }
                }
            }
        }
<span class="nc" id="L249">        return super.onCreateOptionsMenu(menu);</span>
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
<span class="nc bnc" id="L254" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11523)) {</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">            if (getDrawerToggle().onOptionsItemSelected(item)) {</span>
<span class="nc" id="L256">                return true;</span>
            }
        }
<span class="nc" id="L259">        int itemId = item.getItemId();</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11536)) {</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">            if (itemId == R.id.item_time_month) {</span>
<span class="nc bnc" id="L262" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11532)) {</span>
<span class="nc bnc" id="L263" title="All 2 branches missed.">                    item.setChecked(!item.isChecked());</span>
                }
<span class="nc bnc" id="L265" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11535)) {</span>
<span class="nc bnc" id="L266" title="All 2 branches missed.">                    if (mTaskHandler.getStatType() != Stats.AxisType.TYPE_MONTH) {</span>
<span class="nc bnc" id="L267" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11533)) {</span>
<span class="nc" id="L268">                            mTaskHandler.setStatType(Stats.AxisType.TYPE_MONTH);</span>
                        }
<span class="nc bnc" id="L270" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11534)) {</span>
<span class="nc" id="L271">                            mSectionsPagerAdapter.notifyDataSetChanged();</span>
                        }
                    }
                }
<span class="nc" id="L275">                return true;</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">            } else if (itemId == R.id.item_time_year) {</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11528)) {</span>
<span class="nc bnc" id="L278" title="All 2 branches missed.">                    item.setChecked(!item.isChecked());</span>
                }
<span class="nc bnc" id="L280" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11531)) {</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">                    if (mTaskHandler.getStatType() != Stats.AxisType.TYPE_YEAR) {</span>
<span class="nc bnc" id="L282" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11529)) {</span>
<span class="nc" id="L283">                            mTaskHandler.setStatType(Stats.AxisType.TYPE_YEAR);</span>
                        }
<span class="nc bnc" id="L285" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11530)) {</span>
<span class="nc" id="L286">                            mSectionsPagerAdapter.notifyDataSetChanged();</span>
                        }
                    }
                }
<span class="nc" id="L290">                return true;</span>
<span class="nc bnc" id="L291" title="All 2 branches missed.">            } else if (itemId == R.id.item_time_all) {</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11524)) {</span>
<span class="nc bnc" id="L293" title="All 2 branches missed.">                    item.setChecked(!item.isChecked());</span>
                }
<span class="nc bnc" id="L295" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11527)) {</span>
<span class="nc bnc" id="L296" title="All 2 branches missed.">                    if (mTaskHandler.getStatType() != Stats.AxisType.TYPE_LIFE) {</span>
<span class="nc bnc" id="L297" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11525)) {</span>
<span class="nc" id="L298">                            mTaskHandler.setStatType(Stats.AxisType.TYPE_LIFE);</span>
                        }
<span class="nc bnc" id="L300" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11526)) {</span>
<span class="nc" id="L301">                            mSectionsPagerAdapter.notifyDataSetChanged();</span>
                        }
                    }
                }
<span class="nc" id="L305">                return true;</span>
<span class="nc bnc" id="L306" title="All 2 branches missed.">            } else if (itemId == R.id.action_time_chooser) {</span>
                // showTimeDialog();
<span class="nc" id="L308">                return true;</span>
            }
        }
<span class="nc" id="L311">        return super.onOptionsItemSelected(item);</span>
    }

    private void selectDropDownItem(int position) {
<span class="nc bnc" id="L315" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11537)) {</span>
<span class="nc" id="L316">            mActionBarSpinner.setSelection(position);</span>
        }
<span class="nc bnc" id="L318" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11550)) {</span>
<span class="nc bnc" id="L319" title="All 22 branches missed.">            if ((ListenerUtil.mutListener.listen(11542) ? (position &gt;= 0) : (ListenerUtil.mutListener.listen(11541) ? (position &lt;= 0) : (ListenerUtil.mutListener.listen(11540) ? (position &gt; 0) : (ListenerUtil.mutListener.listen(11539) ? (position &lt; 0) : (ListenerUtil.mutListener.listen(11538) ? (position != 0) : (position == 0))))))) {</span>
<span class="nc bnc" id="L320" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11549)) {</span>
<span class="nc" id="L321">                    mDeckId = Stats.ALL_DECKS_ID;</span>
                }
            } else {
<span class="nc bnc" id="L324" title="All 8 branches missed.">                Deck deck = mDropDownDecks.get((ListenerUtil.mutListener.listen(11546) ? (position % 1) : (ListenerUtil.mutListener.listen(11545) ? (position / 1) : (ListenerUtil.mutListener.listen(11544) ? (position * 1) : (ListenerUtil.mutListener.listen(11543) ? (position + 1) : (position - 1))))));</span>
                try {
<span class="nc bnc" id="L326" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11548)) {</span>
<span class="nc" id="L327">                        mDeckId = deck.getLong(&quot;id&quot;);</span>
                    }
<span class="nc" id="L329">                } catch (JSONException e) {</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11547)) {</span>
<span class="nc" id="L331">                        Timber.e(e, &quot;Could not get ID from deck&quot;);</span>
                    }
<span class="nc" id="L333">                }</span>
            }
        }
<span class="nc bnc" id="L336" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11551)) {</span>
<span class="nc" id="L337">            mTaskHandler.setDeckId(mDeckId);</span>
        }
<span class="nc bnc" id="L339" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11552)) {</span>
<span class="nc" id="L340">            mSectionsPagerAdapter.notifyDataSetChanged();</span>
        }
<span class="nc" id="L342">    }</span>

    // Iterates the drop down decks, and selects the one matching the given id
    private boolean selectDeckById(long deckId) {
<span class="nc bnc" id="L346" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11564)) {</span>
            {
<span class="nc" id="L348">                long _loopCounter190 = 0;</span>
<span class="nc bnc" id="L349" title="All 22 branches missed.">                for (int dropDownDeckIdx = 0; (ListenerUtil.mutListener.listen(11563) ? (dropDownDeckIdx &gt;= mDropDownDecks.size()) : (ListenerUtil.mutListener.listen(11562) ? (dropDownDeckIdx &lt;= mDropDownDecks.size()) : (ListenerUtil.mutListener.listen(11561) ? (dropDownDeckIdx &gt; mDropDownDecks.size()) : (ListenerUtil.mutListener.listen(11560) ? (dropDownDeckIdx != mDropDownDecks.size()) : (ListenerUtil.mutListener.listen(11559) ? (dropDownDeckIdx == mDropDownDecks.size()) : (dropDownDeckIdx &lt; mDropDownDecks.size())))))); dropDownDeckIdx++) {</span>
<span class="nc" id="L350">                    ListenerUtil.loopListener.listen(&quot;_loopCounter190&quot;, ++_loopCounter190);</span>
<span class="nc bnc" id="L351" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11558)) {</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">                        if (mDropDownDecks.get(dropDownDeckIdx).getLong(&quot;id&quot;) == deckId) {</span>
<span class="nc bnc" id="L353" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11557)) {</span>
<span class="nc bnc" id="L354" title="All 8 branches missed.">                                selectDropDownItem((ListenerUtil.mutListener.listen(11556) ? (dropDownDeckIdx % 1) : (ListenerUtil.mutListener.listen(11555) ? (dropDownDeckIdx / 1) : (ListenerUtil.mutListener.listen(11554) ? (dropDownDeckIdx * 1) : (ListenerUtil.mutListener.listen(11553) ? (dropDownDeckIdx - 1) : (dropDownDeckIdx + 1))))));</span>
                            }
<span class="nc" id="L356">                            return true;</span>
                        }
                    }
                }
            }
        }
<span class="nc" id="L362">        return false;</span>
    }

    /**
     * @return text to be used in the subtitle of the drop-down deck selector
     */
    public String getSubtitleText() {
<span class="nc" id="L369">        return getResources().getString(R.string.statistics);</span>
    }

    public AnkiStatsTaskHandler getTaskHandler() {
<span class="nc" id="L373">        return mTaskHandler;</span>
    }

    public ViewPager getViewPager() {
<span class="nc" id="L377">        return mViewPager;</span>
    }

    public SectionsPagerAdapter getSectionsPagerAdapter() {
<span class="nc" id="L381">        return mSectionsPagerAdapter;</span>
    }

    private long getDeckId() {
<span class="nc" id="L385">        return mDeckId;</span>
    }

    /**
     * A {@link FragmentPagerAdapter} that returns a fragment corresponding to
     * one of the sections/tabs/pages.
     */
    public class SectionsPagerAdapter extends FragmentPagerAdapter {

<span class="nc" id="L394">        public SectionsPagerAdapter(FragmentManager fm) {</span>
<span class="nc" id="L395">            super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);</span>
<span class="nc" id="L396">        }</span>

        // works best for updating all tabs
        @Override
        public int getItemPosition(@NonNull Object object) {
<span class="nc bnc" id="L401" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11566)) {</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">                if (object instanceof StatisticFragment) {</span>
<span class="nc bnc" id="L403" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11565)) {</span>
<span class="nc" id="L404">                        ((StatisticFragment) object).checkAndUpdate();</span>
                    }
                }
            }
            // don't return POSITION_NONE, avoid fragment recreation.
<span class="nc" id="L409">            return super.getItemPosition(object);</span>
        }

        @NonNull
        @Override
        public Fragment getItem(int position) {
<span class="nc" id="L415">            StatisticFragment item = StatisticFragment.newInstance(position);</span>
<span class="nc bnc" id="L416" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11567)) {</span>
<span class="nc" id="L417">                item.checkAndUpdate();</span>
            }
<span class="nc" id="L419">            return item;</span>
        }

        @Override
        public int getCount() {
<span class="nc" id="L424">            return 9;</span>
        }

        @Override
        public CharSequence getPageTitle(int position) {
<span class="nc" id="L429">            Locale l = Locale.getDefault();</span>
<span class="nc bnc" id="L430" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11568)) {</span>
<span class="nc bnc" id="L431" title="All 10 branches missed.">                switch(position) {</span>
                    case TODAYS_STATS_TAB_POSITION:
<span class="nc" id="L433">                        return getString(R.string.stats_overview).toUpperCase(l);</span>
                    case FORECAST_TAB_POSITION:
<span class="nc" id="L435">                        return getString(R.string.stats_forecast).toUpperCase(l);</span>
                    case REVIEW_COUNT_TAB_POSITION:
<span class="nc" id="L437">                        return getString(R.string.stats_review_count).toUpperCase(l);</span>
                    case REVIEW_TIME_TAB_POSITION:
<span class="nc" id="L439">                        return getString(R.string.stats_review_time).toUpperCase(l);</span>
                    case INTERVALS_TAB_POSITION:
<span class="nc" id="L441">                        return getString(R.string.stats_review_intervals).toUpperCase(l);</span>
                    case HOURLY_BREAKDOWN_TAB_POSITION:
<span class="nc" id="L443">                        return getString(R.string.stats_breakdown).toUpperCase(l);</span>
                    case WEEKLY_BREAKDOWN_TAB_POSITION:
<span class="nc" id="L445">                        return getString(R.string.stats_weekly_breakdown).toUpperCase(l);</span>
                    case ANSWER_BUTTONS_TAB_POSITION:
<span class="nc" id="L447">                        return getString(R.string.stats_answer_buttons).toUpperCase(l);</span>
                    case CARDS_TYPES_TAB_POSITION:
<span class="nc" id="L449">                        return getString(R.string.title_activity_template_editor).toUpperCase(l);</span>
                }
            }
<span class="nc" id="L452">            return null;</span>
        }
    }

<span class="nc" id="L456">    public abstract static class StatisticFragment extends Fragment {</span>

        // track current settings for each individual fragment
        protected long mDeckId;

        protected ViewPager mActivityPager;

        protected SectionsPagerAdapter mActivitySectionPagerAdapter;

        /**
         * The fragment argument representing the section number for this
         * fragment.
         */
        protected static final String ARG_SECTION_NUMBER = &quot;section_number&quot;;

        /**
         * Returns a new instance of this fragment for the given section
         * number.
         */
        public static StatisticFragment newInstance(int sectionNumber) {
            Fragment fragment;
            Bundle args;
<span class="nc bnc" id="L478" title="All 3 branches missed.">            switch(sectionNumber) {</span>
                case FORECAST_TAB_POSITION:
                case REVIEW_COUNT_TAB_POSITION:
                case REVIEW_TIME_TAB_POSITION:
                case INTERVALS_TAB_POSITION:
                case HOURLY_BREAKDOWN_TAB_POSITION:
                case WEEKLY_BREAKDOWN_TAB_POSITION:
                case ANSWER_BUTTONS_TAB_POSITION:
                case CARDS_TYPES_TAB_POSITION:
<span class="nc" id="L487">                    fragment = new ChartFragment();</span>
<span class="nc" id="L488">                    args = new Bundle();</span>
<span class="nc bnc" id="L489" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11569)) {</span>
<span class="nc" id="L490">                        args.putInt(ARG_SECTION_NUMBER, sectionNumber);</span>
                    }
<span class="nc bnc" id="L492" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11570)) {</span>
<span class="nc" id="L493">                        fragment.setArguments(args);</span>
                    }
<span class="nc" id="L495">                    return (ChartFragment) fragment;</span>
                case TODAYS_STATS_TAB_POSITION:
<span class="nc" id="L497">                    fragment = new OverviewStatisticsFragment();</span>
<span class="nc" id="L498">                    args = new Bundle();</span>
<span class="nc bnc" id="L499" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11571)) {</span>
<span class="nc" id="L500">                        args.putInt(ARG_SECTION_NUMBER, sectionNumber);</span>
                    }
<span class="nc bnc" id="L502" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11572)) {</span>
<span class="nc" id="L503">                        fragment.setArguments(args);</span>
                    }
<span class="nc" id="L505">                    return (OverviewStatisticsFragment) fragment;</span>
                default:
<span class="nc" id="L507">                    return null;</span>
            }
        }

        @Override
        public void onResume() {
<span class="nc bnc" id="L513" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11573)) {</span>
<span class="nc" id="L514">                super.onResume();</span>
            }
<span class="nc bnc" id="L516" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11574)) {</span>
<span class="nc" id="L517">                checkAndUpdate();</span>
            }
<span class="nc" id="L519">        }</span>

        public abstract void invalidateView();

        public abstract void checkAndUpdate();
    }

    /**
     * A chart fragment containing a ChartView.
     */
    public static class ChartFragment extends StatisticFragment {

        private ChartView mChart;

        private ProgressBar mProgressBar;

<span class="nc" id="L535">        private int mHeight = 0;</span>

<span class="nc" id="L537">        private int mWidth = 0;</span>

        private int mSectionNumber;

<span class="nc" id="L541">        private Stats.AxisType mType = Stats.AxisType.TYPE_MONTH;</span>

<span class="nc" id="L543">        private boolean mIsCreated = false;</span>

        private AsyncTask mCreateChartTask;

        public ChartFragment() {
<span class="nc" id="L548">            super();</span>
<span class="nc" id="L549">        }</span>

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
<span class="nc bnc" id="L553" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11575)) {</span>
<span class="nc" id="L554">                setHasOptionsMenu(true);</span>
            }
<span class="nc" id="L556">            Bundle bundle = getArguments();</span>
<span class="nc bnc" id="L557" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11576)) {</span>
<span class="nc" id="L558">                mSectionNumber = bundle.getInt(ARG_SECTION_NUMBER);</span>
            }
            // System.err.println(&quot;sectionNumber: &quot; + mSectionNumber);
<span class="nc" id="L561">            View rootView = inflater.inflate(R.layout.fragment_anki_stats, container, false);</span>
<span class="nc bnc" id="L562" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11577)) {</span>
<span class="nc" id="L563">                mChart = rootView.findViewById(R.id.image_view_chart);</span>
            }
<span class="nc bnc" id="L565" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11580)) {</span>
<span class="nc bnc" id="L566" title="All 2 branches missed.">                if (mChart == null) {</span>
<span class="nc bnc" id="L567" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11579)) {</span>
<span class="nc" id="L568">                        Timber.d(&quot;mChart null!&quot;);</span>
                    }
                } else {
<span class="nc bnc" id="L571" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11578)) {</span>
<span class="nc" id="L572">                        Timber.d(&quot;mChart is not null!&quot;);</span>
                    }
                }
            }
<span class="nc bnc" id="L576" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11581)) {</span>
<span class="nc" id="L577">                mProgressBar = rootView.findViewById(R.id.progress_bar_stats);</span>
            }
<span class="nc bnc" id="L579" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11582)) {</span>
<span class="nc" id="L580">                mProgressBar.setVisibility(View.VISIBLE);</span>
            }
<span class="nc bnc" id="L582" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11585)) {</span>
                // TODO: Implementing loader for Collection in Fragment itself would be a better solution.
<span class="nc bnc" id="L584" title="All 2 branches missed.">                if ((((Statistics) getActivity()).getTaskHandler()) == null) {</span>
<span class="nc bnc" id="L585" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11583)) {</span>
                        // Close statistics if the TaskHandler hasn't been loaded yet
<span class="nc" id="L587">                        Timber.e(&quot;Statistics.ChartFragment.onCreateView() TaskHandler not found&quot;);</span>
                    }
<span class="nc bnc" id="L589" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11584)) {</span>
<span class="nc" id="L590">                        getActivity().finish();</span>
                    }
<span class="nc" id="L592">                    return rootView;</span>
                }
            }
<span class="nc bnc" id="L595" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11586)) {</span>
<span class="nc" id="L596">                createChart();</span>
            }
<span class="nc bnc" id="L598" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11587)) {</span>
<span class="nc" id="L599">                mHeight = mChart.getMeasuredHeight();</span>
            }
<span class="nc bnc" id="L601" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11588)) {</span>
<span class="nc" id="L602">                mWidth = mChart.getMeasuredWidth();</span>
            }
<span class="nc bnc" id="L604" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11589)) {</span>
<span class="nc" id="L605">                mChart.addFragment(this);</span>
            }
<span class="nc bnc" id="L607" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11590)) {</span>
<span class="nc" id="L608">                mType = (((Statistics) getActivity()).getTaskHandler()).getStatType();</span>
            }
<span class="nc bnc" id="L610" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11591)) {</span>
<span class="nc" id="L611">                mIsCreated = true;</span>
            }
<span class="nc bnc" id="L613" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11592)) {</span>
<span class="nc" id="L614">                mActivityPager = ((Statistics) getActivity()).getViewPager();</span>
            }
<span class="nc bnc" id="L616" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11593)) {</span>
<span class="nc" id="L617">                mActivitySectionPagerAdapter = ((Statistics) getActivity()).getSectionsPagerAdapter();</span>
            }
<span class="nc bnc" id="L619" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11594)) {</span>
<span class="nc" id="L620">                mDeckId = ((Statistics) getActivity()).getDeckId();</span>
            }
<span class="nc bnc" id="L622" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11606)) {</span>
<span class="nc bnc" id="L623" title="All 22 branches missed.">                if ((ListenerUtil.mutListener.listen(11599) ? (mDeckId &gt;= Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11598) ? (mDeckId &lt;= Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11597) ? (mDeckId &gt; Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11596) ? (mDeckId &lt; Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11595) ? (mDeckId == Stats.ALL_DECKS_ID) : (mDeckId != Stats.ALL_DECKS_ID))))))) {</span>
<span class="nc" id="L624">                    Collection col = CollectionHelper.getInstance().getCol(getActivity());</span>
<span class="nc" id="L625">                    String baseName = Decks.basename(col.getDecks().current().getString(&quot;name&quot;));</span>
<span class="nc bnc" id="L626" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11605)) {</span>
<span class="nc bnc" id="L627" title="All 2 branches missed.">                        if (sIsSubtitle) {</span>
<span class="nc bnc" id="L628" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11604)) {</span>
<span class="nc" id="L629">                                ((AppCompatActivity) getActivity()).getSupportActionBar().setSubtitle(baseName);</span>
                            }
                        } else {
<span class="nc bnc" id="L632" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11603)) {</span>
<span class="nc" id="L633">                                getActivity().setTitle(baseName);</span>
                            }
                        }
                    }
<span class="nc" id="L637">                } else {</span>
<span class="nc bnc" id="L638" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11602)) {</span>
<span class="nc bnc" id="L639" title="All 2 branches missed.">                        if (sIsSubtitle) {</span>
<span class="nc bnc" id="L640" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11601)) {</span>
<span class="nc" id="L641">                                ((AppCompatActivity) getActivity()).getSupportActionBar().setSubtitle(R.string.stats_deck_collection);</span>
                            }
                        } else {
<span class="nc bnc" id="L644" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11600)) {</span>
<span class="nc" id="L645">                                getActivity().setTitle(getResources().getString(R.string.stats_deck_collection));</span>
                            }
                        }
                    }
                }
            }
<span class="nc" id="L651">            return rootView;</span>
        }

        private void createChart() {
<span class="nc bnc" id="L655" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11615)) {</span>
<span class="nc bnc" id="L656" title="All 9 branches missed.">                switch(mSectionNumber) {</span>
                    case FORECAST_TAB_POSITION:
<span class="nc bnc" id="L658" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11607)) {</span>
<span class="nc" id="L659">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.FORECAST, mChart, mProgressBar);</span>
                        }
                        break;
                    case REVIEW_COUNT_TAB_POSITION:
<span class="nc bnc" id="L663" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11608)) {</span>
<span class="nc" id="L664">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.REVIEW_COUNT, mChart, mProgressBar);</span>
                        }
                        break;
                    case REVIEW_TIME_TAB_POSITION:
<span class="nc bnc" id="L668" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11609)) {</span>
<span class="nc" id="L669">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.REVIEW_TIME, mChart, mProgressBar);</span>
                        }
                        break;
                    case INTERVALS_TAB_POSITION:
<span class="nc bnc" id="L673" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11610)) {</span>
<span class="nc" id="L674">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.INTERVALS, mChart, mProgressBar);</span>
                        }
                        break;
                    case HOURLY_BREAKDOWN_TAB_POSITION:
<span class="nc bnc" id="L678" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11611)) {</span>
<span class="nc" id="L679">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.HOURLY_BREAKDOWN, mChart, mProgressBar);</span>
                        }
                        break;
                    case WEEKLY_BREAKDOWN_TAB_POSITION:
<span class="nc bnc" id="L683" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11612)) {</span>
<span class="nc" id="L684">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.WEEKLY_BREAKDOWN, mChart, mProgressBar);</span>
                        }
                        break;
                    case ANSWER_BUTTONS_TAB_POSITION:
<span class="nc bnc" id="L688" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11613)) {</span>
<span class="nc" id="L689">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.ANSWER_BUTTONS, mChart, mProgressBar);</span>
                        }
                        break;
                    case CARDS_TYPES_TAB_POSITION:
<span class="nc bnc" id="L693" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11614)) {</span>
<span class="nc" id="L694">                            mCreateChartTask = (((Statistics) getActivity()).getTaskHandler()).createChart(Stats.ChartType.CARDS_TYPES, mChart, mProgressBar);</span>
                        }
                        break;
                }
            }
<span class="nc" id="L699">        }</span>

        @Override
        public void checkAndUpdate() {
<span class="nc bnc" id="L703" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11616)) {</span>
                // System.err.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;checkAndUpdate&quot; + mSectionNumber);
<span class="nc bnc" id="L705" title="All 2 branches missed.">                if (!mIsCreated) {</span>
<span class="nc" id="L706">                    return;</span>
                }
            }
<span class="nc" id="L709">            int height = mChart.getMeasuredHeight();</span>
<span class="nc" id="L710">            int width = mChart.getMeasuredWidth();</span>
<span class="nc bnc" id="L711" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11652)) {</span>
                // are height and width checks still necessary without bitmaps?
<span class="nc bnc" id="L713" title="All 90 branches missed.">                if ((ListenerUtil.mutListener.listen(11627) ? ((ListenerUtil.mutListener.listen(11621) ? (height &gt;= 0) : (ListenerUtil.mutListener.listen(11620) ? (height &lt;= 0) : (ListenerUtil.mutListener.listen(11619) ? (height &gt; 0) : (ListenerUtil.mutListener.listen(11618) ? (height &lt; 0) : (ListenerUtil.mutListener.listen(11617) ? (height == 0) : (height != 0)))))) || (ListenerUtil.mutListener.listen(11626) ? (width &gt;= 0) : (ListenerUtil.mutListener.listen(11625) ? (width &lt;= 0) : (ListenerUtil.mutListener.listen(11624) ? (width &gt; 0) : (ListenerUtil.mutListener.listen(11623) ? (width &lt; 0) : (ListenerUtil.mutListener.listen(11622) ? (width == 0) : (width != 0))))))) : ((ListenerUtil.mutListener.listen(11621) ? (height &gt;= 0) : (ListenerUtil.mutListener.listen(11620) ? (height &lt;= 0) : (ListenerUtil.mutListener.listen(11619) ? (height &gt; 0) : (ListenerUtil.mutListener.listen(11618) ? (height &lt; 0) : (ListenerUtil.mutListener.listen(11617) ? (height == 0) : (height != 0)))))) &amp;&amp; (ListenerUtil.mutListener.listen(11626) ? (width &gt;= 0) : (ListenerUtil.mutListener.listen(11625) ? (width &lt;= 0) : (ListenerUtil.mutListener.listen(11624) ? (width &gt; 0) : (ListenerUtil.mutListener.listen(11623) ? (width &lt; 0) : (ListenerUtil.mutListener.listen(11622) ? (width == 0) : (width != 0))))))))) {</span>
<span class="nc" id="L714">                    Collection col = CollectionHelper.getInstance().getCol(getActivity());</span>
<span class="nc bnc" id="L715" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11651)) {</span>
<span class="nc bnc" id="L716" title="All 378 branches missed.">                        if ((ListenerUtil.mutListener.listen(11640) ? ((ListenerUtil.mutListener.listen(11639) ? ((ListenerUtil.mutListener.listen(11638) ? ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) &amp;&amp; (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width))))))) : ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) || (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width)))))))) &amp;&amp; mType != (((Statistics) getActivity()).getTaskHandler()).getStatType()) : ((ListenerUtil.mutListener.listen(11638) ? ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) &amp;&amp; (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width))))))) : ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) || (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width)))))))) || mType != (((Statistics) getActivity()).getTaskHandler()).getStatType())) &amp;&amp; mDeckId != ((Statistics) getActivity()).getDeckId()) : ((ListenerUtil.mutListener.listen(11639) ? ((ListenerUtil.mutListener.listen(11638) ? ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) &amp;&amp; (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width))))))) : ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) || (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width)))))))) &amp;&amp; mType != (((Statistics) getActivity()).getTaskHandler()).getStatType()) : ((ListenerUtil.mutListener.listen(11638) ? ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) &amp;&amp; (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width))))))) : ((ListenerUtil.mutListener.listen(11632) ? (mHeight &gt;= height) : (ListenerUtil.mutListener.listen(11631) ? (mHeight &lt;= height) : (ListenerUtil.mutListener.listen(11630) ? (mHeight &gt; height) : (ListenerUtil.mutListener.listen(11629) ? (mHeight &lt; height) : (ListenerUtil.mutListener.listen(11628) ? (mHeight == height) : (mHeight != height)))))) || (ListenerUtil.mutListener.listen(11637) ? (mWidth &gt;= width) : (ListenerUtil.mutListener.listen(11636) ? (mWidth &lt;= width) : (ListenerUtil.mutListener.listen(11635) ? (mWidth &gt; width) : (ListenerUtil.mutListener.listen(11634) ? (mWidth &lt; width) : (ListenerUtil.mutListener.listen(11633) ? (mWidth == width) : (mWidth != width)))))))) || mType != (((Statistics) getActivity()).getTaskHandler()).getStatType())) || mDeckId != ((Statistics) getActivity()).getDeckId()))) {</span>
<span class="nc bnc" id="L717" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11641)) {</span>
<span class="nc" id="L718">                                mHeight = height;</span>
                            }
<span class="nc bnc" id="L720" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11642)) {</span>
<span class="nc" id="L721">                                mWidth = width;</span>
                            }
<span class="nc bnc" id="L723" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11643)) {</span>
<span class="nc" id="L724">                                mType = (((Statistics) getActivity()).getTaskHandler()).getStatType();</span>
                            }
<span class="nc bnc" id="L726" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11644)) {</span>
<span class="nc" id="L727">                                mProgressBar.setVisibility(View.VISIBLE);</span>
                            }
<span class="nc bnc" id="L729" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11645)) {</span>
<span class="nc" id="L730">                                mChart.setVisibility(View.GONE);</span>
                            }
<span class="nc bnc" id="L732" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11646)) {</span>
<span class="nc" id="L733">                                mDeckId = ((Statistics) getActivity()).getDeckId();</span>
                            }
<span class="nc bnc" id="L735" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11649)) {</span>
<span class="nc bnc" id="L736" title="All 10 branches missed.">                                if ((ListenerUtil.mutListener.listen(11647) ? (mCreateChartTask != null || !mCreateChartTask.isCancelled()) : (mCreateChartTask != null &amp;&amp; !mCreateChartTask.isCancelled()))) {</span>
<span class="nc bnc" id="L737" title="All 2 branches missed.">                                    if (!ListenerUtil.mutListener.listen(11648)) {</span>
<span class="nc" id="L738">                                        mCreateChartTask.cancel(true);</span>
                                    }
                                }
                            }
<span class="nc bnc" id="L742" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11650)) {</span>
<span class="nc" id="L743">                                createChart();</span>
                            }
                        }
                    }
                }
            }
<span class="nc" id="L749">        }</span>

        @Override
        public void onCreate(Bundle savedInstanceState) {
<span class="nc bnc" id="L753" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11653)) {</span>
<span class="nc" id="L754">                super.onCreate(savedInstanceState);</span>
            }
<span class="nc" id="L756">        }</span>

        @Override
        public void invalidateView() {
<span class="nc bnc" id="L760" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11655)) {</span>
<span class="nc bnc" id="L761" title="All 2 branches missed.">                if (mChart != null) {</span>
<span class="nc bnc" id="L762" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11654)) {</span>
<span class="nc" id="L763">                        mChart.invalidate();</span>
                    }
                }
            }
<span class="nc" id="L767">        }</span>

        @Override
        public void onDestroy() {
<span class="nc bnc" id="L771" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11656)) {</span>
<span class="nc" id="L772">                super.onDestroy();</span>
            }
<span class="nc bnc" id="L774" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11659)) {</span>
<span class="nc bnc" id="L775" title="All 10 branches missed.">                if ((ListenerUtil.mutListener.listen(11657) ? (mCreateChartTask != null || !mCreateChartTask.isCancelled()) : (mCreateChartTask != null &amp;&amp; !mCreateChartTask.isCancelled()))) {</span>
<span class="nc bnc" id="L776" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11658)) {</span>
<span class="nc" id="L777">                        mCreateChartTask.cancel(true);</span>
                    }
                }
            }
<span class="nc" id="L781">        }</span>
    }

    public static class OverviewStatisticsFragment extends StatisticFragment {

        private WebView mWebView;

        private ProgressBar mProgressBar;

<span class="nc" id="L790">        private Stats.AxisType mType = Stats.AxisType.TYPE_MONTH;</span>

<span class="nc" id="L792">        private boolean mIsCreated = false;</span>

        private AsyncTask mCreateStatisticsOverviewTask;

        public OverviewStatisticsFragment() {
<span class="nc" id="L797">            super();</span>
<span class="nc" id="L798">        }</span>

        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
<span class="nc bnc" id="L802" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11660)) {</span>
<span class="nc" id="L803">                setHasOptionsMenu(true);</span>
            }
<span class="nc" id="L805">            View rootView = inflater.inflate(R.layout.fragment_anki_stats_overview, container, false);</span>
<span class="nc" id="L806">            AnkiStatsTaskHandler handler = (((Statistics) getActivity()).getTaskHandler());</span>
<span class="nc bnc" id="L807" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11663)) {</span>
                // TODO: Implementing loader for Collection in Fragment itself would be a better solution.
<span class="nc bnc" id="L809" title="All 2 branches missed.">                if (handler == null) {</span>
<span class="nc bnc" id="L810" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11661)) {</span>
<span class="nc" id="L811">                        Timber.e(&quot;Statistics.OverviewStatisticsFragment.onCreateView() TaskHandler not found&quot;);</span>
                    }
<span class="nc bnc" id="L813" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11662)) {</span>
<span class="nc" id="L814">                        getActivity().finish();</span>
                    }
<span class="nc" id="L816">                    return rootView;</span>
                }
            }
<span class="nc bnc" id="L819" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11664)) {</span>
<span class="nc" id="L820">                mWebView = rootView.findViewById(R.id.web_view_stats);</span>
            }
<span class="nc bnc" id="L822" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11668)) {</span>
<span class="nc bnc" id="L823" title="All 2 branches missed.">                if (mWebView == null) {</span>
<span class="nc bnc" id="L824" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11667)) {</span>
<span class="nc" id="L825">                        Timber.d(&quot;mChart null!&quot;);</span>
                    }
                } else {
<span class="nc bnc" id="L828" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11665)) {</span>
<span class="nc" id="L829">                        Timber.d(&quot;mChart is not null!&quot;);</span>
                    }
<span class="nc bnc" id="L831" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11666)) {</span>
                        // Set transparent color to prevent flashing white when night mode enabled
<span class="nc" id="L833">                        mWebView.setBackgroundColor(Color.argb(1, 0, 0, 0));</span>
                    }
                }
            }
<span class="nc bnc" id="L837" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11669)) {</span>
<span class="nc" id="L838">                mProgressBar = rootView.findViewById(R.id.progress_bar_stats_overview);</span>
            }
<span class="nc bnc" id="L840" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11670)) {</span>
<span class="nc" id="L841">                mProgressBar.setVisibility(View.VISIBLE);</span>
            }
<span class="nc bnc" id="L843" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11671)) {</span>
                // mChart.setVisibility(View.GONE);
<span class="nc" id="L845">                createStatisticOverview();</span>
            }
<span class="nc bnc" id="L847" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11672)) {</span>
<span class="nc" id="L848">                mType = handler.getStatType();</span>
            }
<span class="nc bnc" id="L850" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11673)) {</span>
<span class="nc" id="L851">                mIsCreated = true;</span>
            }
<span class="nc bnc" id="L853" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11674)) {</span>
<span class="nc" id="L854">                mActivityPager = ((Statistics) getActivity()).getViewPager();</span>
            }
<span class="nc bnc" id="L856" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11675)) {</span>
<span class="nc" id="L857">                mActivitySectionPagerAdapter = ((Statistics) getActivity()).getSectionsPagerAdapter();</span>
            }
<span class="nc" id="L859">            Collection col = CollectionHelper.getInstance().getCol(getActivity());</span>
<span class="nc bnc" id="L860" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11676)) {</span>
<span class="nc" id="L861">                mDeckId = ((Statistics) getActivity()).getDeckId();</span>
            }
<span class="nc bnc" id="L863" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11688)) {</span>
<span class="nc bnc" id="L864" title="All 22 branches missed.">                if ((ListenerUtil.mutListener.listen(11681) ? (mDeckId &gt;= Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11680) ? (mDeckId &lt;= Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11679) ? (mDeckId &gt; Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11678) ? (mDeckId &lt; Stats.ALL_DECKS_ID) : (ListenerUtil.mutListener.listen(11677) ? (mDeckId == Stats.ALL_DECKS_ID) : (mDeckId != Stats.ALL_DECKS_ID))))))) {</span>
<span class="nc" id="L865">                    String basename = Decks.basename(col.getDecks().current().getString(&quot;name&quot;));</span>
<span class="nc bnc" id="L866" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11687)) {</span>
<span class="nc bnc" id="L867" title="All 2 branches missed.">                        if (sIsSubtitle) {</span>
<span class="nc bnc" id="L868" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11686)) {</span>
<span class="nc" id="L869">                                ((AppCompatActivity) getActivity()).getSupportActionBar().setSubtitle(basename);</span>
                            }
                        } else {
<span class="nc bnc" id="L872" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11685)) {</span>
<span class="nc" id="L873">                                getActivity().setTitle(basename);</span>
                            }
                        }
                    }
<span class="nc" id="L877">                } else {</span>
<span class="nc bnc" id="L878" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11684)) {</span>
<span class="nc bnc" id="L879" title="All 2 branches missed.">                        if (sIsSubtitle) {</span>
<span class="nc bnc" id="L880" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11683)) {</span>
<span class="nc" id="L881">                                ((AppCompatActivity) getActivity()).getSupportActionBar().setSubtitle(R.string.stats_deck_collection);</span>
                            }
                        } else {
<span class="nc bnc" id="L884" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11682)) {</span>
<span class="nc" id="L885">                                getActivity().setTitle(R.string.stats_deck_collection);</span>
                            }
                        }
                    }
                }
            }
<span class="nc" id="L891">            return rootView;</span>
        }

        private void createStatisticOverview() {
<span class="nc" id="L895">            AnkiStatsTaskHandler handler = (((Statistics) getActivity()).getTaskHandler());</span>
<span class="nc bnc" id="L896" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11689)) {</span>
<span class="nc" id="L897">                mCreateStatisticsOverviewTask = handler.createStatisticsOverview(mWebView, mProgressBar);</span>
            }
<span class="nc" id="L899">        }</span>

        @Override
        public void invalidateView() {
<span class="nc bnc" id="L903" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11691)) {</span>
<span class="nc bnc" id="L904" title="All 2 branches missed.">                if (mWebView != null) {</span>
<span class="nc bnc" id="L905" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11690)) {</span>
<span class="nc" id="L906">                        mWebView.invalidate();</span>
                    }
                }
            }
<span class="nc" id="L910">        }</span>

        @Override
        public void checkAndUpdate() {
<span class="nc bnc" id="L914" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11692)) {</span>
<span class="nc bnc" id="L915" title="All 2 branches missed.">                if (!mIsCreated) {</span>
<span class="nc" id="L916">                    return;</span>
                }
            }
<span class="nc" id="L919">            Collection col = CollectionHelper.getInstance().getCol(getActivity());</span>
<span class="nc bnc" id="L920" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11702)) {</span>
<span class="nc bnc" id="L921" title="All 10 branches missed.">                if ((ListenerUtil.mutListener.listen(11693) ? (mType != (((Statistics) getActivity()).getTaskHandler()).getStatType() &amp;&amp; mDeckId != ((Statistics) getActivity()).getDeckId()) : (mType != (((Statistics) getActivity()).getTaskHandler()).getStatType() || mDeckId != ((Statistics) getActivity()).getDeckId()))) {</span>
<span class="nc bnc" id="L922" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11694)) {</span>
<span class="nc" id="L923">                        mType = (((Statistics) getActivity()).getTaskHandler()).getStatType();</span>
                    }
<span class="nc bnc" id="L925" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11695)) {</span>
<span class="nc" id="L926">                        mProgressBar.setVisibility(View.VISIBLE);</span>
                    }
<span class="nc bnc" id="L928" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11696)) {</span>
<span class="nc" id="L929">                        mWebView.setVisibility(View.GONE);</span>
                    }
<span class="nc bnc" id="L931" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11697)) {</span>
<span class="nc" id="L932">                        mDeckId = ((Statistics) getActivity()).getDeckId();</span>
                    }
<span class="nc bnc" id="L934" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11700)) {</span>
<span class="nc bnc" id="L935" title="All 10 branches missed.">                        if ((ListenerUtil.mutListener.listen(11698) ? (mCreateStatisticsOverviewTask != null || !mCreateStatisticsOverviewTask.isCancelled()) : (mCreateStatisticsOverviewTask != null &amp;&amp; !mCreateStatisticsOverviewTask.isCancelled()))) {</span>
<span class="nc bnc" id="L936" title="All 2 branches missed.">                            if (!ListenerUtil.mutListener.listen(11699)) {</span>
<span class="nc" id="L937">                                mCreateStatisticsOverviewTask.cancel(true);</span>
                            }
                        }
                    }
<span class="nc bnc" id="L941" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11701)) {</span>
<span class="nc" id="L942">                        createStatisticOverview();</span>
                    }
                }
            }
<span class="nc" id="L946">        }</span>

        @Override
        public void onDestroy() {
<span class="nc bnc" id="L950" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11703)) {</span>
<span class="nc" id="L951">                super.onDestroy();</span>
            }
<span class="nc bnc" id="L953" title="All 2 branches missed.">            if (!ListenerUtil.mutListener.listen(11706)) {</span>
<span class="nc bnc" id="L954" title="All 10 branches missed.">                if ((ListenerUtil.mutListener.listen(11704) ? (mCreateStatisticsOverviewTask != null || !mCreateStatisticsOverviewTask.isCancelled()) : (mCreateStatisticsOverviewTask != null &amp;&amp; !mCreateStatisticsOverviewTask.isCancelled()))) {</span>
<span class="nc bnc" id="L955" title="All 2 branches missed.">                    if (!ListenerUtil.mutListener.listen(11705)) {</span>
<span class="nc" id="L956">                        mCreateStatisticsOverviewTask.cancel(true);</span>
                    }
                }
            }
<span class="nc" id="L960">        }</span>
    }

    @Override
    public void onBackPressed() {
<span class="nc bnc" id="L965" title="All 2 branches missed.">        if (!ListenerUtil.mutListener.listen(11713)) {</span>
<span class="nc bnc" id="L966" title="All 2 branches missed.">            if (isDrawerOpen()) {</span>
<span class="nc bnc" id="L967" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11712)) {</span>
<span class="nc" id="L968">                    super.onBackPressed();</span>
                }
            } else {
<span class="nc bnc" id="L971" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11707)) {</span>
<span class="nc" id="L972">                    Timber.i(&quot;Back key pressed&quot;);</span>
                }
<span class="nc" id="L974">                Intent data = new Intent();</span>
<span class="nc bnc" id="L975" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11709)) {</span>
<span class="nc bnc" id="L976" title="All 2 branches missed.">                    if (getIntent().hasExtra(&quot;selectedDeck&quot;)) {</span>
<span class="nc bnc" id="L977" title="All 2 branches missed.">                        if (!ListenerUtil.mutListener.listen(11708)) {</span>
<span class="nc" id="L978">                            data.putExtra(&quot;originalDeck&quot;, getIntent().getLongExtra(&quot;selectedDeck&quot;, 0L));</span>
                        }
                    }
                }
<span class="nc bnc" id="L982" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11710)) {</span>
<span class="nc" id="L983">                    setResult(RESULT_CANCELED, data);</span>
                }
<span class="nc bnc" id="L985" title="All 2 branches missed.">                if (!ListenerUtil.mutListener.listen(11711)) {</span>
<span class="nc" id="L986">                    finishWithAnimation(ActivityTransitionAnimation.Direction.RIGHT);</span>
                }
            }
        }
<span class="nc" id="L990">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>